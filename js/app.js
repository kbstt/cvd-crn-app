let e=null,t=null,n=null,a=0,i="infected";const o="https://www.iubenda.com/privacy-policy/37070270",r="https://progressier.notion.site/Cookie-policy-of-Coronavirus-app-f8c9fb9bf9114c6ca63a0222c4b6b015",s="https://www.notion.so/coronavirus/Terms-and-conditions-90a31bc4c9e64f54992cb3660e2e5b28",l="https://medium.com/@kevinbasset/i-used-benfords-law-to-analyze-covid-19-in-113-countries-1a1194668069",d="https://www.buymeacoffee.com/tGJba8O",u=new function(){let e=this;this.countries=new he,this.cookies=new pe,this.cookieName="ytoken",this.body=ye("body"),this.xToken=e.body.getAttribute("data-a"),this.yToken=e.body.getAttribute("data-b"),this.zToken=e.body.getAttribute("data-c"),this.failMessage="Oops, we couldn't load the app. Try reloading the page. If the problem persists, contact us at hello@coronavirus.app",e.body.removeAttribute("data-a"),e.body.removeAttribute("data-b"),e.body.removeAttribute("data-c"),this.header=function(){let t={[e.yToken]:e.xToken,"x-date-req":e.zToken};return t},this.initByScript=async function(e,t,n,a){if(!document.getElementById(t)){let e=document.createElement("script");e.setAttribute("id",t),e.setAttribute("src",staticAssetsPrefix+n+"?v="+moment().toISOString()),document.querySelector("body").appendChild(e)}await new Promise(function(t,n){let i=setInterval(function(){if(window[e]&&(!a||window[e][a]))return clearInterval(i),t()},100)})},this.getCountryMeta=async function(t){try{var n="countryMeta";await e.initByScript(n,"country-meta-script","/meta/meta.js");let a=window[n].find(e=>e.id===t)||[];return(!a.links||a.links.length<1)&&(a.links=[{n:"Worldometers",l:"https://www.worldometers.info/coronavirus"}]),a.notes||(a.notes=""),a}catch(e){console.log(e)}},this.getCheckpoints=async function(t){try{var n="dataCheckpoints";await e.initByScript(n,"checkpoint-list-script","/data/checkpoints.js");let t=window[n]||[];return e.parseEntities(t,"date"),t}catch(t){new M({msg:e.failMessage})}},this.getPlaces=async function(){try{let t="dataPlaceList";await e.initByScript(t,"place-list-script","/data/placelist.js");let n=window[t]||[],a=e.buildMasterRegions(n,[]);return e.parseEntities(a,"lastUpdated"),e.createEmptyCountries(a),a}catch(t){new M({msg:e.failMessage})}},this.createEmptyCountries=function(t){e.countries.list.forEach(function(e){let n=t.findIndex(t=>t.country===e.code);if(n>-1)return;let a={id:e.code,nonaffected:!0,infected:0,dead:0,recovered:0,vaccinated:0,name:e.name,country:e.code};t.push(a)})},this.buildMasterRegions=function(t,n){t.forEach(function(a){if(a.isMaster)return;let i=n.find(e=>e.country===a.country),o=parseInt(a.infected||0),r=parseInt(a.sick||0),s=parseInt(a.dead||0),l=parseInt(a.vaccinated||0),c=parseInt(a.recovered||0),d=a.lastUpdated,u=e.countries.longitude(a.country)||a.longitude,m=e.countries.zoom(a.country)||3,p=e.countries.latitude(a.country)||a.latitude;if("number"!=typeof o)return;i?(i.longitude=o>i.infected?u:i.longitude,i.latitude=o>i.infected?p:i.latitude,i.infected+=o,i.recovered+=c,i.vaccinated+=l,i.dead+=s,i.sick+=r,i.subregions+=1,(o||c||s)&&(i.lastUpdated=y.compare(d,i.lastUpdated)?i.lastUpdated:d)):n.push({country:a.country,name:e.countries.name(a.country),id:a.country,infected:o,recovered:c,vaccinated:l,dead:s,sick:r,subregions:1,isMaster:!0,lastUpdated:a.lastUpdated,longitude:u,latitude:p,zoom:m});let h=t.filter(function(e){return e.country===a.country});h.length>1&&(a.isSub=!0,a.zoom=m)});let a=n.filter(function(e){return e.subregions>1}),i=t.concat(a);return i},this.getHistory=async function(t,n){try{let a="dataPlaceHistory";window[a]||(window[a]={}),await e.initByScript(a,"place-history-"+t,"/data/"+t+".js",t);let i=window[a][t]||[],o=i.history;return o.forEach(function(e){e.infected=e.i||0,e.dead=e.d||0,e.recovered=e.r||0,e.vaccinated=e.v||0,e.sick=e.infected-e.dead-e.recovered,e.sick<0&&(e.sick=0)}),t.length<3&&(i.name=e.countries.name(t)),e.parseHistoryObj(i),i.history.forEach(function(t){e.parseEntity(t)}),i.history.sort(I("day")),i}catch(t){n||new M({msg:e.failMessage}),console.log(t)}},this.parseHistoryObj=async function(t){!t.country&&t.id&&t.id.length<5&&(t.country=t.id),t.pop||(t.pop=e.countries.getParam(t.country,"pop")),t.history&&t.history.length>0&&t.history.forEach(function(e){e.pop=t.pop})},this.getRegions=async function(t){try{e.countries.getParam(t,"regions");let n=[],a=await e.getPlaces(),i=a.find(e=>e.id===t);if(!i)return[];let o=i.isSub;return o&&(t=i.country),a.forEach(function(e){e.country===t&&n.push(e)}),n}catch(e){console.log(e)}},this.parseEntities=function(t,n,a){return t?t.length<1?t:(t.forEach(function(t,n){e.parseEntity(t)}),t.sort(I(n)),void(a&&t.reverse())):[]},this.parseEntity=function(t){if(!t)return{};t.infected=parseInt(t.infected)||0,t.dead=parseInt(t.dead)||0,t.recovered=parseInt(t.recovered)||0,t.vaccinated=parseInt(t.vaccinated)||0,e.calculateSick(t),e.calculateFatalityRate(t),e.calculateRecoveryRate(t),e.calculateActiveRate(t),e.calculateCasesPerMillion(t),e.calculateDeathsPerMillion(t),e.calculateVaccinatedPercent(t)},this.calculateVaccinatedPercent=function(t){let n=t.vaccinated,a=t.country,i=e.countries.getParam(a,"pop");t.pop;if(!t.pop&t.isMaster&&i&&(t.pop=i),!t.pop||!n)return void(t.vaccinatedPercent=0);let o=n/t.pop*100;t.vaccinatedPercent=o<.01?.01:parseFloat(o.toFixed(2))},this.calculateCasesPerMillion=function(t){let n=t.infected,a=t.country,i=e.countries.getParam(a,"pop");t.pop;if(!t.pop&t.isMaster&&i&&(t.pop=i),!t.pop)return void(t.casesPerMillion=0);let o=n/t.pop*1e6;t.casesPerMillion=o<.001?.001:parseFloat(o.toFixed(2))},this.calculateDeathsPerMillion=function(t){let n=t.dead||0,a=t.country,i=e.countries.getParam(a,"pop");t.pop;if(!t.pop&t.isMaster&&i&&(t.pop=i),!t.pop)return void(t.deathsPerMillion=0);let o=n/t.pop*1e6;t.deathsPerMillion=o<.001?.001:parseFloat(o.toFixed(2))},this.calculateFatalityRate=function(e){let t=e.dead,n=e.infected,a=(t/n*100||0).toFixed(2)||0;isFinite(a)||(a=(0).toFixed(2)),e.fatalityRate=parseFloat(a)},this.calculateActiveRate=function(e){e.activeRate=100-e.fatalityRate-e.recoveryRate},this.calculateRecoveryRate=function(e){let t=e.recovered,n=e.infected,a=(t/n*100||0).toFixed(2)||0;isFinite(a)||(a=(0).toFixed(2)),e.recoveryRate=parseFloat(a)},this.calculateSick=function(e){e.sick=parseInt(e.infected||0)-parseInt(e.dead||0)-parseInt(e.recovered||0),e.sick<0&&(e.sick=0),e.dead&&e.recovered&&e.infected||(e.sick=0)},this.init=function(){navigator.cookieEnabled||new te("You must enable cookies for this app to work").render()},this.init()},m=new he,p=new function(){let e=this;this.options=["EN","TW","FR","RU","KR","DE","IT","ES","HU","GR","TR","PL","PT","CZ"],this.lang=null,this.countries=m,this.cookies=new pe,this.cookieName="lang",this.className="language-selector",this.styling="\n\t."+e.className+"-modal{ position:fixed; display:flex; align-items: flex-start; justify-content:center; flex-direction: column;\n\t  background: var(--card);  box-shadow:var(--box-shadow); overflow:hidden;}\n\t."+e.className+"-el{ display:flex;  align-items:center; justify-content:flex-start; font-weight:500; font-size:12px; padding-left:10px;  padding-right:10px; cursor:pointer;  width:100%;}\n\t."+e.className+"{ font-size:12px;}\n\t."+e.className+"-el:hover{ background:var(--hover);}\n\t."+e.className+"-el img{ width:20px; border-radius:50%;}\n\t."+e.className+"-el > *{ margin:10px;}\n\t."+e.className+"-inner{ display: flex; align-items: center; justify-content: space-around; width: 100%; position:relative;}\n\t."+e.className+"{ display: flex; cursor: pointer; width: 100%; justify-content: space-around; font-size:11px;}\n\t."+e.className+'-title:after{ content: "\\e928";  font-family:"Feather"; margin-left:10px;}\n\t.'+e.className+" img{ width: 20px; cursor:pointer; margin-right:5px; border-radius:50%; position:relative;}\n\t."+e.className+"-button{ display: flex; align-items: center;  background: var(--menu); border-radius: 20px; justify-content: center; width: 120px; height: 30px; box-shadow:var(--box-shadow); border:1px solid transparent;}\n\t."+e.className+"-button:hover{ border-color:var(--main); color:var(--main);}\n\t",this.attributions={DE:"Special thanks to Matthias Schaffer, Fiona Georgia, Benni Neubacher, Miszel Brzakalik, Stephan Crummenauer, Laura Hoffmann, Mike Hahn, Henri Hollmann, Manuel Lapuente Gonzalez, Christian Chvala",IT:"Special thanks to Alessandro Palazzesi, Lorenzo Geromel, Ester Memoli, Lorenzo Di Capua",ES:"Special thanks to Luis Astorquiza, Wilmar Echeverry, Julio Gustavo Bustamante Mera, Mateo Llera, Alejandro Ortiz Obregon, Gerard López López, Jesus Antonio Castro, David Domínguez Martínez, Daniel Ramos, Joana Fernández, Frederick Ferro, Hugo Villegas, Timothy Arce, Francisco Javier Rojas, Andrés Aguirre, Ismael Jorge HP, Carlos Ivan Rivera Avalos, Julia Manuela Rizo, Laura Rivas, Luis G. Corral, Pablo de Andres, Fernando Sancho, Hector A Lopez Rdz, Sebastián Haddad, Darwin Josue Pilaloa Zea, Alexis Noria, Jonathan Vargas Vargas, Luisa Fernanda Vaca Correa, Ferney Palacio, Sergio Nicolás Melo Torres ",HU:"Special thanks to Nagy Adam, Attila Böjte, Lili Repkó",GR:"Special thanks to Marianna Chatzigianni, Christos Makris, Kostas Kayioulis, Vidianos Giannitsis",TR:"Special thanks to <strong>Uğur Korkmazyürek</strong>, Selçuk Göktekin, Enes Aslan, Muhammed Aziz Ulak, Mesut Levent Turgut, İklim Uluca, Aytaç Semi Soylu, Murat Kucukgirgin, Devrim Barış Yıldırım, Berkay Tutal, Alper Çevik, Selim Düzgün, Fatih kiraz, İsmail Ay, Burak Muratoglu, Canberk Çetinkaya, Burak Emer, Selim Gormus, Nafi Kabakoğlu, Baran Aluz, Timucin Dograr, Abdülkadir Tetik",PL:"Special thanks to Marcin Ostrowski, Mikołaj Zaremba (Hexandcube), Wiktoria Dudek, Dominik Piestrzyński",PT:"Special thanks to Caio Verneck de Oliveira, Osório Costa,  Markel Lindo, Matheus Araujo, Paulo Bauken Cabral Sampaio, Rui Oliveira, Camila Sehn Bonatto, Luis G. Corral, Carlos Gouveia, Adriano Bini, Bruno Leonardo Vilas Boas Colonnese, Bruno Simoneto, Zehon Gebber Vaz, Samuel Barros, Bruno Perdigão, Valdo Raya",CZ:"Special thanks to Milan Welser, Roman Praslička, Filip Kavan, Niki Vostrovska, Vojtěch Hermann, Michael Weidenhoffer, Ondrej Rethy, Tomáš Hampl, Jabiru Jabiru, Martin Pospíšil, Zdenek Vcela, Matěj Vácha, Anna Slapničková"},this.map={LI:"DE",AT:"DE",CH:"FR",BE:"FR",CD:"FR",MX:"ES",CO:"ES",AR:"ES",PE:"ES",VE:"ES",CL:"ES",EC:"ES",GT:"ES",CU:"ES",BO:"ES",DO:"ES",HN:"ES",PY:"ES",SV:"ES",NI:"ES",CR:"ES",PA:"ES",UY:"ES",GQ:"ES",CY:"GR",BR:"PT",AO:"PT",MZ:"PT",GW:"PT",CV:"PT",ST:"PT"},this.getAttribution=function(){return e.attributions[e.lang]},this.set=function(t){e.options.includes(t)&&(e.lang=t,e.cookies.set(e.cookieName,t,9999),ye("body").setAttribute("data-language",t),window.location.reload())},this.init=function(){e.updateTime();let t=e.cookies.get(e.cookieName),n=e.getCountry(),a=t||e.map[n]||n;e.lang=a&&e.options.includes(a)?a:e.options[0],ye("body").setAttribute("data-language",e.lang)},this.getCountry=function(){return e.countries.favorite},this.getENCountry=function(){let t=e.getCountry();return["GB","CA","IE","NZ","AU","ZA"].includes(t)?t:"US"},this.getESCountry=function(){let t=e.getCountry();return["MX","CO","AR","PE","VE","CL","EC","GT","CU","BO","DO","HN","PY","SV","NI","CR","PA","UY","GQ"].includes(t)?t:"ES"},this.getPTCountry=function(){let t=e.getCountry();return["AO","BR","MZ","GW","CV","ST"].includes(t)?t:"PT"},this.selector=function(t){F(e.styling,e.className),t.classList.add(e.className);let n=be("div",e.className+"-inner",{parent:t,click:function(){e.modal(n)}}),a=be("div",e.className+"-button",{parent:n});be("img",{src:e.languageFlag(e.lang),parent:a}),be("span",e.className+"-title",{parent:a,text:e.languageName(e.lang)})},this.languageName=function(t){return"EN"===t?"English":e.countries.language(t)},this.getLocale=function(){let t=e.lang;return"EN"===t?e.getENCountry():"ES"===t?e.getESCountry():"PT"===t?e.getPTCountry():t||"US"},this.languageFlag=function(t){return"EN"===t?e.countries.flag(e.getENCountry()):"ES"===t?e.countries.flag(e.getESCountry()):"PT"===t?e.countries.flag(e.getPTCountry()):e.countries.flag(t)},this.clickOnLanguageItem=function(t){e.set(t)},this.modal=function(t){let n=[];e.options.forEach(function(t){n.push({img:e.languageFlag(t),name:e.languageName(t),value:t})}),new O({node:t,callback:e.clickOnLanguageItem,options:n,title:j("language")})},this.updateTime=function(){moment.locale("RU",{relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:"%d секунд",m:"минуту",mm:"%d минуты",h:"час",hh:"%d часа",d:"день",dd:"%d дня",M:"месяц",MM:"%d месяца",y:"год",yy:"%d года"}}),moment.locale("CZ",{relativeTime:{future:"za %s",past:"před %s",s:"několik sekund",ss:"%d sekund",m:"minuta",mm:"%d minutami",h:"hodinou",hh:"%d hodinami",d:"dnem",dd:"%d dny",M:"měsíc",MM:"%d měsíce",y:"rokem",yy:"%d lety"}}),moment.locale("PT",{relativeTime:{future:"em %s",past:"%s atrás",s:"alguns segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}}),moment.locale("PL",{relativeTime:{future:"w %s",past:"%s temu",s:"kilka sekund",ss:"%d sekund",m:"minutę",mm:"%d minuty",h:"godzinę",hh:"%d godziny",d:"dzień",dd:"%d dni",M:"miesiąc",MM:"%d miesiące",y:"rok",yy:"%d lata"}}),moment.locale("TR",{relativeTime:{future:"%s içinde",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"}}),moment.locale("GR",{relativeTime:{future:"την %s",past:"πριν %s",s:"μερικά δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μιά ημέρα",dd:"%d ημέρες",M:"ένα μήνα",MM:"%d μήνες",y:"ένα έτος",yy:"%d έτη"}}),moment.locale("HU",{relativeTime:{future:"ben %s",past:"ezelőtt %s",s:"pár másodperce",ss:"%d másodperce",m:"egy perce",mm:"%d perce",h:"egy órája",hh:"%d órája",d:"egy nap",dd:"%d napja",M:"egy hónapja",MM:"%d hónapja",y:"egy éve",yy:"%d éve"}}),moment.locale("ES",{relativeTime:{future:"en %s",past:"%s atrás",s:"unos pocos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"}}),moment.locale("IT",{relativeTime:{future:"in %s",past:"%s fa",s:"pochi secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"}}),moment.locale("DE",{relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:"eine Minute",mm:"%d Minuten",h:"eine Stunde",hh:"%d Stunden",d:"einen Tag",dd:"%d Tage",M:"ein Monat",MM:"%d Monate",y:"ein Jahr",yy:"%d Jahre"}}),moment.locale("FR",{relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}}),moment.locale("TW",{relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分",mm:"%d分",h:"1小時",hh:"%d小時",d:"1天",dd:"%d天",M:"1個月",MM:"%d個月",y:"1年",yy:"%d年"}}),moment.locale("KR",{relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",m:"1분",mm:"%d분",h:"1시간",hh:"%d시간",d:"1일",dd:"%d일",M:"1달",MM:"%d달",y:"1년",yy:"%d년"}})},this.init()},h=new function(){let e=this;this.setUrl=function(e){let t=window.location.origin+window.location.pathname+window.location.search;history.replaceState({page:e,previous:t},"",e)},this.replace=function(t,n){let a="/";t.forEach(function(e,n){a+=t[n],t[n+1]&&(a+="/")}),a+=window.location.search?window.location.search:"",e.pushState(a)},this.pushState=function(e){let t=window.location.origin+e,n=window.location.origin+window.location.pathname+window.location.search;t!==n&&history.pushState({page:t,previous:n},"",t)},this.getParam=function(e){let t=new URLSearchParams(window.location.search),n=t.get(e);return n},this.get=function(){let e=window.location.pathname,t=e.split("/");return t[1]},this.getSubPath=function(){let e=window.location.pathname,t=e.split("/");return t[2]},this.resetParam=function(){e.pushState(window.location.origin+window.location.pathname)},this.setParam=function(t){let n=new URLSearchParams(window.location.search);for(var a of n.entries()){var i=a[0],o=a[1],r=t[i];null===r?delete t[i]:r||(t[i]=o)}let s=window.location.pathname+"?";for(x in t)t[x]&&(s+=x+"="+t[x]+"&");let l=s.slice(-1);"&"!==l&&"?"!==l||(s=s.slice(0,s.length-1)),e.pushState(s)}},f=new function(){let e=this;this.list=[],this.cache=[],this.cacheable=["/get-checkpoints","/get-regions","/get-news","/get-history","/get-places?privateParams=true","/get-data","/get-place-reports","/get-place","/get-report","/get-country-meta"],this.max=35,this.register=function(t,n,a){e.cache.length>e.max&&(e.cache=e.cache.slice(2,e.cache.length-1)),e.cache.push({route:t,promise:n,data:a})},this.isCacheable=function(t){let n=null;return e.cacheable.forEach(function(e){(e===t||t.includes(e))&&(n=!0)}),n},this.find=function(t,n){let a=e.isCacheable(t);if(a)for(let a=0;a<e.cache.length;a++){let i=e.cache[a];if(i.route===t&&((!n||i.data)&&(n||!i.data))){if(n){let e=fe(n,i.data);if(e)continue}return i.promise}}return null}},g=(new function(){let e=this;this.loadDate=moment().toISOString(),this.timer=null,this.displayAfter=12e5,this.element=null,this.check=function(){let t=moment().diff(moment(e.loadDate));t>e.displayAfter&&(e.render(),clearInterval(e.timer))},this.reloadPage=function(){location.reload(!0)},this.render=function(){e.element=be("div","backdrop",{parent:ye("body")});let t=be("div","update-reloader",{parent:e.element,click:e.reloadPage});be("i",["feather","feather-rotate-cw"],{parent:t}),be("span",{parent:t,text:window.innerWidth>991?"Click to update":"Tap to update"})},this.init=function(){e.timer=setInterval(function(){e.check()},1e3)},this.init()},{email:{EN:"Email",TW:"電子郵件",RU:"Эл. адрес",TR:"Eposta",CZ:"E-mailem",PL:"E-mail"},copiedClipboard:{EN:"Copied to clipboard",FR:"Copié"},api:{EN:"API"},apiKeyDesc:{EN:"This API enables you to retrieve the latest numbers and historical data of each country and region that we show in this app. {1} to get your API key. And check out the {2} to get started.",FR:"Cette API vous permet de récupérer les derniers chiffres et données historiques de chaque pays et région que nous affichons dans cette application. {1} pour obtenir votre clé API. Et consultez la {2} pour savoir comment commencer.",TW:"使用此API，您可以檢索我們在此應用中顯示的每個國家和地區的最新數字和歷史數據。 {1}以獲取您的API密鑰。 並查看{2}開始使用。",KR:"이 API를 사용하면이 앱에 표시되는 각 국가 및 지역의 최신 수치와 과거 데이터를 검색 할 수 있습니다. API 키를 받으려면 {1}. 시작하려면 {2}를 확인하세요.",DE:"Mit dieser API können Sie die neuesten Zahlen und historischen Daten jedes Landes und jeder Region abrufen, die wir in dieser App anzeigen. {1}, um Ihren API-Schlüssel zu erhalten. Lesen Sie zunächst die {2}.",IT:"Questa API ti consente di recuperare i numeri più recenti e i dati storici di ogni paese e regione che mostriamo in questa app. {1} per ottenere la tua chiave API. E controlla la {2} per iniziare.",ES:"Esta API le permite recuperar los últimos números y datos históricos de cada país y región que mostramos en esta aplicación. {1} para obtener tu clave API. Y consulte la {2} para comenzar.",HU:"Ez az API lehetővé teszi az egyes országok és régiók legfrissebb számainak és előzményadatainak letöltését, amelyeket ebben az alkalmazásban megjelenítünk. {} az API-kulcs megszerzéséhez. A kezdéshez nézze meg az {2}.",GR:"Αυτό το API σάς δίνει τη δυνατότητα να ανακτήσετε τους πιο πρόσφατους αριθμούς και ιστορικά δεδομένα κάθε χώρας και περιοχής που εμφανίζονται σε αυτήν την εφαρμογή. {1} για να λάβετε το κλειδί API σας. Και ρίξτε μια ματιά στην {2} για να ξεκινήσετε.",TR:"Bu API, uygulamada gösterdiğimiz her bir ülke ve bölgenin en güncel rakamlarını ve veri geçmişini görüntülemenizi sağlar. API anahtarınızı almak için {1}. Başlamak için {2} kontrol edin.",PL:"Ten interfejs API umożliwia pobieranie najnowszych liczb i danych historycznych z każdego kraju i regionu, które pokazujemy w tej aplikacji. {1}, aby otrzymać klucz API. Aby rozpocząć, zapoznaj się z {2}.",PT:"Esta API permite que você recupere os últimos números e dados históricos de cada país e região que mostramos neste aplicativo. {1} para obter sua chave API. E verifique a {2} para começar.",CZ:"Toto API vám umožňuje načíst nejnovější čísla a historická data každé země a oblasti, která zobrazujeme v této aplikaci. {} a získejte klíč API. Nejprve si přečtěte {2}.",RU:"Этот API позволяет вам получать последние цифры и исторические данные по каждой стране и региону, которые мы показываем в этом приложении. {1}, чтобы получить свой ключ API. И ознакомьтесь с {2}, чтобы начать работу."},app:{EN:"App",FR:"Appli",TW:"應用程式.",KR:"앱",DE:"App",IT:"App",ES:"Aplicación",HU:"App",GR:"Εφαρμογή",TR:"Uygulama",PL:"Aplikacja",PT:"Aplicativa",CZ:"Aplikace",RU:"Приложение"},defaultCountry:{EN:"Default country",FR:"Pays par défaut",TW:"默認國家",KR:"기본 국가",DE:"Standardland",IT:"Paese predefinito",ES:"País",HU:"Ország",GR:"Χώρα",TR:"Ülke",PL:"Kraj",PT:"País",CZ:"Země.",RU:"Страна"},needUrHelp:{EN:"{P}, we need your help...",FR:"{P}, nous avons besoin de votre aide...",TW:"{P}，我們需要您的幫助...",KR:"{P}, 당신의 도움이 필요합니다 ...",DE:"{P}, wir brauchen Ihre Hilfe...",IT:"{P}, abbiamo bisogno del tuo aiuto...",ES:"{P}, necesitamos tu ayuda...",HU:"{P}, szükségünk van a segítségedre...",GR:"{P}, χρειαζόμαστε τη βοήθειά σας...",TR:"{P}, sana ihtiyacımız var...",PL:"{P}, potrzebujemy twojej pomocy...",PT:"{P}, precisamos de sua ajuda...",CZ:"{P}, potřebujeme tvou pomoc...",RU:"{P}, нам нужна твоя помощь..."},nothing:{EN:"Nothing",FR:"Rien",TW:"沒有",KR:"아무것도",DE:"Nichts",IT:"Niente",ES:"Nada",HU:"Semmi",GR:"Τίποτα",TR:"Hiçbir şey değil",PL:"Nic",PT:"Nada",CZ:"Nic",RU:"Ничего"},freeDisclaimer:{EN:"Reminder: This app costs us money. User contributions keep it running. But hey, if you can't contribute, no problem, we know times are tough for everyone! ",FR:"Rappel: cette application nous coûte de l'argent. Les contributions des utilisateurs nous permettent de la garder en ligne. Mais bon, pas de problème, on sait que les temps sont durs pour tout le monde!",TW:"提醒：這個應用程式會花費我們金錢。 用戶貢獻是使它保持正常運行的唯一途徑。 但是，沒問題，我們知道時代對每個人來說都是艱難的！",KR:"알림 :이 앱은 비용이 듭니다. 사용자 기여는이를 유지하고 실행하는 유일한 것입니다. 하지만 문제 없습니다. 우리는 모든 사람에게 시간이 힘들다는 것을 압니다!",DE:"Erinnerung: Diese App kostet uns Geld. Benutzerbeiträge sind das einzige, was es am Laufen hält. Aber hey, kein Problem, wir wissen, dass die Zeiten für alle hart sind!",IT:"Promemoria: questa app ci costa denaro. I contributi degli utenti sono l'unica cosa che lo mantiene attivo e funzionante. Ma ehi, nessun problema, sappiamo che i tempi sono duri per tutti!",ES:"Recordatorio: esta aplicación nos cuesta dinero. Las contribuciones de los usuarios son lo único que lo mantiene en funcionamiento. Pero bueno, no hay problema, ¡sabemos que los tiempos son difíciles para todos!",HU:"Emlékeztető: Ez az alkalmazás pénzbe kerül nekünk. A felhasználói hozzájárulás az egyetlen dolog, ami folyamatosan működik. De hé, semmi gond, tudjuk, hogy az idők mindenkinek nehézek!",GR:"Υπενθύμιση: Αυτή η εφαρμογή μας κοστίζει χρήματα. Οι συνεισφορές χρηστών είναι το μόνο πράγμα που τη διατηρεί σε λειτουργία Αλλά, δεν υπάρχει πρόβλημα, γνωρίζουμε ότι οι καιροί είναι δύσκολες για όλους!",TR:"Hatırlatma: Bu uygulama bizim için belli bir finansal yüke mal oluyor, kullanıcı destekleri ile ayaktayız! Yine de katkıda bulunamıyorsanız dert etmeyin! Biliyoruz, bugünler hepimiz için zor.",PL:"Przypomnienie: ta aplikacja kosztuje nas pieniądze. Wkład użytkowników jest jedyną rzeczą, która zapewnia jej działanie. Ale hej, nie ma problemu, wiemy, że czasy są ciężkie dla każdego!",PT:"Lembrete: este aplicativo nos custa dinheiro. As contribuições do usuário são a única coisa que o mantém funcionando. Mas ei, sem problemas, sabemos que os tempos são difíceis para todos!",CZ:"Připomenutí: Tato aplikace nás stojí peníze. Jediné, co jej udržuje v provozu, je příspěvek uživatele. Ale hej, žádný problém, víme, že doba je pro každého těžká!",RU:"Напоминание: это приложение стоит денег. Вклад пользователей - единственное, что поддерживает его работу. Но нет проблем, мы знаем, что времена тяжелые для всех!"},vaccinatedPercent:{EN:"Population vaccinated",FR:"Population vaccinée",TW:"接種人口",KR:"예방 접종을받은 인구",DE:"Bevölkerung geimpft",IT:"Popolazione vaccinata",ES:"Población vacunada",HU:"Oltott lakosság",GR:"Εμβολιασμός πληθυσμού",TR:"Aşılanan nüfus",PL:"Zaszczepiona populacja",PT:"População vacinada",CZ:"Očkovaná populace",RU:"Популяция вакцинирована"},letUsKnow:{EN:"Please let us know",FR:"Contactez-nous",TW:"請聯繫我們",KR:"연락주세요",DE:"Bitte kontaktieren Sie uns",IT:"Ci contatti per favore",ES:"Por favor contáctenos",HU:"Kérjük, vegye fel velünk a kapcsolatot",GR:"Παρακαλώ επικοινωνήστε μαζί μας",TR:"Lütfen bildirin",PL:"Proszę skontaktuj się z nami",PT:"Por favor, entre em contato conosco",CZ:"Prosím kontaktujte nás",RU:"Пожалуйста свяжитесь с нами"},notAble:{EN:"Not able to contribute at all, but want to access vaccination data?",FR:"Vous n'êtes pas en mesure de contribuer, mais souhaitez accéder aux données de vaccination?",TW:"無法捐款，但仍想訪問疫苗接種數據？",KR:"기여할 수 없지만 백신 데이터에 액세스하고 싶으십니까?",DE:"Sie können keinen Beitrag leisten, möchten aber dennoch auf Impfdaten zugreifen?",IT:"Non puoi contribuire, ma vuoi comunque accedere ai dati sulle vaccinazioni?",ES:"¿No puede contribuir, pero quiere acceder a los datos de vacunación?",HU:"Nem tud hozzájárulni, de mégis szeretne hozzáférni az oltási adatokhoz?",GR:"Δεν μπορείτε να συνεισφέρετε, αλλά εξακολουθείτε να θέλετε να έχετε πρόσβαση στα δεδομένα εμβολιασμού;",TR:"Katkıda bulunamıyor, ancak yine de aşı verilerine erişmek mi istiyorsunuz?",PL:"Nie możesz wnieść wkładu, ale nadal chcesz uzyskać dostęp do danych dotyczących szczepień?",PT:"Não pode contribuir, mas ainda deseja acessar os dados de vacinação?",CZ:"Nemůžete přispět, ale přesto chcete získat přístup k údajům o očkování?",RU:"Не можете внести свой вклад, но все еще хотите получить доступ к данным о вакцинации?"},plusOthers:{EN:"+{nb} others",FR:"+{nb} autres",TW:"+{nb}其他",KR:"+{nb} 명",DE:"+{nb} andere",IT:"+{nb} altri",ES:"+{nb} otras",HU:"+{nb} másik",GR:"+{nb} ακόμη",TR:"+{nb} kişi daha",PL:"+{nb} innych",PT:"+{nb} outros",CZ:"+{nb} další",RU:"+{nb} другие"},youAreMember:{EN:"You're a member!",FR:"Vous êtes membre!",TW:"您是會員！",KR:"당신은 회원입니다!",DE:"Sie sind ein Mitglied!",IT:"Sei un membro!",ES:"¡Eres miembro!",HU:"Tag vagy!",GR:"Είσαι μέλος!",TR:"Üye oldunuz!",PL:"Jesteś członkiem!",PT:"Você é um membro!",CZ:"Jste členem!",RU:"Вы участник!"},becomeAMemberAlt:{EN:"Subscribe",FR:"Souscrivez",TW:"成為會員",KR:"회원이 되십시오",DE:"Werden Sie Mitglied",IT:"Diventa un membro",ES:"Hazte miembro",HU:"Legyél tag",GR:"Γίνετε μέλος",TR:"Takip edin",PL:"Zostań członkiem",PT:"Torne-se um membro",CZ:"Staňte se členem",RU:"Станьте участником"},loggedInAs:{EN:"Signed in as",FR:"Connecté avec",TW:"Logged in",KR:"다음으로 로그인",DE:"Eingeloggt als",IT:"Accesso eseguito come",ES:"Accediste como",HU:"Bejelentkezés",GR:"Συνδεθήκατε ως",TR:"Olarak oturum açıldı",PL:"Zalogowano jako",PT:"Conectado como",CZ:"Jste přihlášeni jako",RU:"Вы вошли как"},apiDocumentation:{EN:"API documentation",FR:"documentation de l'API",TW:"API文檔",KR:"API 문서",DE:"API-Dokumentation",IT:"documentazione API",ES:"documentación de la API",HU:"API dokumentációt",GR:"API τεκμηρίωση",TR:"API belgelerini",PL:"dokumentacją interfejsu API",PT:"documentação da API",CZ:"dokumentaci API",RU:"документацией API"},sources:{EN:"Sources",TW:"資料來源",KR:"출처",DE:"Quellen",IT:"Fonti",ES:"Fuentes",HU:"Források",GR:"Πηγές",TR:"Kaynaklar",PL:"Źródła",PT:"Fontes",CZ:"Zdroje",RU:"Источники"},source:{EN:"Source",TW:"資料來源",KR:"출처",DE:"Quelle",IT:"Fonte",ES:"Fuente",HU:"Forrás",GR:"Πηγή",TR:"Kaynak",PL:"Źródło",PT:"Fonte",CZ:"Zdroj",RU:"Источник"},firstName:{EN:"First name",FR:"Prénom",TW:"名字",KR:"이름",DE:"Vorname",IT:"Nome di battesimo",ES:"Primer nombre",HU:"Keresztnév",GR:"Ονομα",TR:"İsim",PL:"Imię",PT:"Primeiro nome",CZ:"Jméno",RU:"Имя"},lastName:{EN:"Last name",FR:"Nom",TW:"姓",KR:"성",DE:"Nachname",IT:"Cognome",ES:"Apellido",HU:"Vezetéknév",GR:"Επίθετο",TR:"Soyisim",PL:"Nazwisko",PT:"Último nome",CZ:"Příjmení",RU:"Фамилия"},activateMembership:{EN:"Subscribe",FR:"Souscrire",TW:"訂閱",KR:"구독",DE:"Abonnieren",IT:"Sottoscrivi",ES:"Suscribir",HU:"Iratkozz fel",GR:"Εγγραφείτε",TR:"Abone olun",PL:"Subskrybuj",PT:"Se inscrever",CZ:"předplatit",RU:"Подписывайся"},appreciateSupport:{EN:"We sincerely appreciate your support.",FR:"Nous apprécions sincèrement votre soutien.",TW:"衷心感謝您的支持。",KR:"귀하의 지원에 진심으로 감사드립니다.",DE:"Wir bedanken uns sehr für Ihre Unterstützung.",IT:"Apprezziamo sinceramente il tuo supporto.",ES:"Agradecemos sinceramente su apoyo.",HU:"Őszintén értékeljük támogatását.",GR:"Εκτιμούμε ειλικρινά την υποστήριξή σας.",TR:"Desteğiniz için içtenlikle teşekkür ederiz.",PL:"Serdecznie dziękujemy za wsparcie.",PT:"Agradecemos sinceramente o seu apoio.",CZ:"Upřímně si vážíme vaší podpory.",RU:"Мы искренне ценим вашу поддержку."},appreciationToken:{EN:"As a token of appreciation, we've unlocked access to vaccination data and our {A}.",FR:"En guise de remerciement, nous avons débloqué l'accès aux données de vaccination et à notre {A}.",TW:"為了表示感謝，我們已經解鎖了對疫苗接種數據和{A}的訪問權限。",KR:"감사의 표시로 백신 데이터 및 {A}에 대한 액세스를 잠금 해제했습니다.",DE:"Als Zeichen der Wertschätzung haben wir den Zugriff auf Impfdaten und unsere {A} freigeschaltet.",IT:"In segno di apprezzamento, abbiamo sbloccato l'accesso ai dati sulle vaccinazioni e alla nostra {A}.",ES:"Como muestra de agradecimiento, hemos desbloqueado el acceso a los datos de vacunación y nuestra {A}.",HU:"Az elismerés jeléül felszabadítottuk az oltási adatokhoz és az {A}-hoz való hozzáférést.",GR:"Ως ένδειξη εκτίμησης, ξεκλειδώσαμε την πρόσβαση σε δεδομένα εμβολιασμού και στο {A} μας.",TR:"Bir takdir göstergesi olarak, aşılama verilerine ve {A}'mize erişimin kilidini açtık.",PL:"W ramach uznania, odblokowaliśmy dostęp do danych dotyczących szczepień i naszego {A}.",PT:"Como um sinal de agradecimento, desbloqueamos o acesso aos dados de vacinação e nosso {A}.",CZ:"Jako projev uznání jsme odemkli přístup k údajům o očkování a našemu {A}.",RU:"В знак признательности мы открыли доступ к данным о вакцинации и нашему {A}."},backToApp:{EN:"Back to app",FR:"Retour à l'application",TW:"返回應用",KR:"앱으로 돌아 가기",DE:"Zurück zur App",IT:"Torna all'app",ES:"Volver a la aplicación",HU:"Vissza az alkalmazáshoz",GR:"Επιστροφή στην εφαρμογή",TR:"Uygulamaya dönün",PL:"Wróć do aplikacji",PT:"Voltar ao aplicativo",CZ:"Zpět na aplikaci",RU:"Назад в приложение"},resetPassword:{EN:"Reset password",FR:"Réinitialiser le mot de passe",TW:"重設密碼",KR:"암호를 재설정",DE:"Passwort zurücksetzen",IT:"Resetta la password",ES:"Restablecer la contraseña",HU:"Jelszó visszaállítása",GR:"Επαναφέρετε τον κωδικό πρόσβασης",TR:"Şifreyi yenile",PL:"Zresetuj hasło",PT:"Redefinir senha",CZ:"Obnovit heslo",RU:"Сброс пароля"},newPassword:{EN:"New password",FR:"Nouveau mot de passe",TW:"新密碼",KR:"새 비밀번호",DE:"Neues Passwort",IT:"Nuova password",ES:"Nueva contraseña",HU:"Új jelszó",GR:"Νέος κωδικός πρόσβασης",TR:"Yeni Şifre",PL:"Nowe hasło",PT:"Nova senha",CZ:"Nové heslo",RU:"Новый пароль"},confirmPassword:{EN:"Confirm password",FR:"Confirmez le mot de passe",TW:"確認密碼",KR:"비밀번호 확인",DE:"Kennwort bestätigen",IT:"Conferma password",ES:"Confirmar contraseña",HU:"Jelszó megerősítése",GR:"Επιβεβαίωση Κωδικού",TR:"Şifreyi Onaylayın",PL:"Potwierdź hasło",PT:"Confirme a Senha",CZ:"Potvrďte heslo",RU:"Подтвердите Пароль"},noAccount:{EN:"Not registered yet?",FR:"Pas encore inscrit ?",TW:"還沒有註冊？",KR:"아직 등록하지 않으셨습니까?",DE:"Noch nicht registriert?",IT:"Non sei ancora registrato?",ES:"Todavía no estas registrado?",HU:"Még nem regisztrált?",GR:"Δεν έχετε εγγραφεί ακόμα",TR:"Henüz kayıt olmadınız mı?",PL:"Jeszcze nie zarejestrowany?",PT:"não registrado ainda?",CZ:"Ještě nejste zaregistrováni?",RU:"Еще не зарегистрированы?"},password:{EN:"Password",FR:"Mot de passe",TW:"密碼",KR:"암호",DE:"Passwort",IT:"Parola d'ordine",ES:"Contraseña",HU:"Jelszó",GR:"Κωδικός πρόσβασης",TR:"Parola",PL:"Hasło",PT:"Senha",CZ:"Heslo",RU:"пароль"},forgottenPassword:{EN:"Forgot your password?",FR:"Mot de passe oublié?",TW:"忘記密碼了嗎？",KR:"비밀번호를 잊어 버렸습니까?",DE:"Haben Sie Ihr Passwort vergessen?",IT:"Hai dimenticato la password?",ES:"¿Olvidaste tu contraseña?",HU:"Elfelejtette a jelszavát?",GR:"Ξεχάσατε τον κωδικό σας?",TR:"Parolanızı mı unuttunuz?",PL:"Zapomniałeś hasła?",PT:"Esqueceu sua senha?",CZ:"Zapomněli jste heslo?",RU:"Забыли пароль?"},adFree:{EN:"Contribute to keeping the app ad-free (we hate ads too!)",FR:"Contribuez à garder l'application sans publicité",TW:"保持無廣告狀態",KR:"광고없는 앱 유지에 기여",DE:"Tragen Sie dazu bei, die App werbefrei zu halten",IT:"Contribuisci a mantenere l'app priva di pubblicità",ES:"Contribuya a mantener la aplicación sin anuncios",HU:"Hozzájárul ahhoz, hogy az alkalmazás hirdetésmentes maradjon",GR:"Συμβάλλετε στη διατήρηση της εφαρμογής χωρίς διαφημίσεις",TR:"Uygulamanın reklamsız kalmasına katkıda bulunun (Reklamlardan biz de hiç hoşlanmıyoruz!)",PL:"Przyczyń się do utrzymania aplikacji bez reklam",PT:"Contribua para manter o aplicativo livre de anúncios",CZ:"Přispějte k udržení aplikace bez reklam",RU:"Содействуйте тому, чтобы в приложении не было рекламы"},apiKey:{EN:"My API key",FR:"Ma clé API",TW:"我的API金鑰",KR:"내 API 키",DE:"Mein API-Schlüssel",IT:"La mia chiave API",ES:"Mi clave API",HU:"Saját API kulcs",GR:"Το κλειδί API μου",TR:"API anahtarım",PL:"Mój klucz API",PT:"Minha chave API",CZ:"Můj klíč API",RU:"Мой ключ API"},vaccinated:{EN:"People vaccinated",FR:"Personnes vaccinées",TW:"接種人員",KR:"예방 접종을받은 사람",DE:"Menschen geimpft",IT:"Persone vaccinate",ES:"Personas vacunadas",HU:"Oltottak",GR:"Άτομα που εμβολιάστηκαν",TR:"Aşılanan insanlar",PL:"Osoby zaszczepione",PT:"Pessoas vacinadas",CZ:"Lidé očkovaní",RU:"Люди вакцинированы"},cumulativeCasesAndDeaths:{EN:"Cumulative cases & deaths",FR:"Cas et décès cumulés",TW:"累計病例和死亡",KR:"누적 사례 및 사망",DE:"Kumulative Fälle und Todesfälle",IT:"Casi cumulativi e decessi",ES:"Casos y muertes acumulados",HU:"Halmozott esetek és halálesetek",GR:"Αθροιστικές περιπτώσεις & θάνατοι",TR:"Kümülatif vaka ve ölümler",PL:"Skumulowane przypadki i zgony",PT:"Casos cumulativos e mortes",CZ:"Kumulativní případy a úmrtí",RU:"Общее количество случаев и смертей"},newCasesAndDeaths:{EN:"Daily new cases & deaths",FR:"Nouveaux cas et décès quotidiens",TW:"每日新病例和死亡",KR:"매일 새로운 사례 및 사망",DE:"Täglich neue Fälle und Todesfälle",IT:"Nuovi casi e morti ogni giorno",ES:"Nuevos casos y muertes diarias",HU:"Napi új esetek és halálesetek",GR:"Καθημερινές νέες περιπτώσεις & θάνατοι",TR:"Günlük yeni vakalar ve ölümler",PL:"Codziennie nowe przypadki i zgony",PT:"Novos casos e mortes diários",CZ:"Denně nové případy a úmrtí",RU:"Ежедневно новые случаи и смерти"},contribution:{EN:"Your contribution",FR:"Votre contribution",TW:"您的貢獻",KR:"귀하의 기여",DE:"Ihr Beitrag",IT:"Il tuo contributo",ES:"Tu contribución",HU:"Hozzájárulásod",GR:"Η συνεισφορά σας",TR:"Katkınız",PL:"Twój wkład",PT:"Sua contribuição",CZ:"Váš příspěvek",RU:"Ваш вклад"},payMoneyNow:{EN:"Subscribe {C}{D}",FR:"Souscrire {D} {C}",TW:"捐款{C}{D}",KR:"{C} {D} 기부",DE:"Beitragen {D} {C}",IT:"Contribuisci con {C} {D}",ES:"Contribuir {C} {D}",HU:"Hozzájárulás {D} {C}",GR:"Συνεισφέρετε {D} {C}",TR:"{D} {C} katkıda bulunun",PL:"Przekaż {D} {C}",PT:"Contribua com {C} {D}",CZ:"Přispějte {C} {D}",RU:"Внесите {D} {C}"},dollarPerMonth:{EN:"{C}{D} per month",FR:"{D} {C} par mois",TW:"每月{C} {D}",KR:"월 {C} {D}",DE:"{D} {C} pro Monat",IT:"{C} {D} al mese",ES:"{C} {D} por mes",HU:"Havonta {D} {C}",GR:"{D} {C} ανά μήνα",TR:"Aylık {D} {C}",PL:"{D} {C} miesięcznie",PT:"{C} {D} por mês",CZ:"{D} {C} za měsíc",RU:"{D} {C} в месяц"},payBill:{EN:"Support the team and help us pay our hosting bill",FR:"Soutenez l'équipe et aidez-nous à payer notre facture d'hébergement",TW:"支持團隊並幫助我們支付網站託管費用",KR:"팀을 지원하고 호스팅 비용 지불을 도와주세요",DE:"Unterstützen Sie das Team und helfen Sie uns, unsere Hosting-Rechnung zu bezahlen",IT:"Sostieni il team e aiutaci a pagare la nostra bolletta di hosting",ES:"Apoya al equipo y ayúdanos a pagar nuestra factura de hosting",HU:"Támogassa a csapatot és segítsen nekünk kifizetni a tárhelyszámlát",GR:"Υποστηρίξτε την ομάδα και βοηθήστε μας να πληρώσουμε τον λογαριασμό φιλοξενίας μας",TR:"Ekibi destekleyin ve barındırma faturamızı ödememize yardımcı olun",PL:"Wesprzyj zespół i pomóż nam zapłacić rachunek za hosting",PT:"Apoie a equipe e nos ajude a pagar nossa conta de hospedagem",CZ:"Podpořte tým a pomozte nám platit náš účet za hostování",RU:"Поддержите команду и помогите нам оплатить счет за хостинг"},unlockVaccine:{EN:"Unlock vaccination data",FR:"Débloquez les données de vaccination",TW:"獲得疫苗接種數據",KR:"예방 접종 데이터 잠금 해제",DE:"Entsperren Sie die Impfdaten",IT:"Sblocca i dati sulla vaccinazione",ES:"Desbloquear datos de vacunación",HU:"Nyissa meg az oltási adatokat",GR:"Ξεκλειδώστε τα δεδομένα εμβολιασμού",TR:"Aşılama verilerinin kilidini açın",PL:"Odblokuj dane dotyczące szczepień",PT:"Desbloquear dados de vacinação",CZ:"Odemkněte údaje o očkování",RU:"Разблокировать данные о вакцинации"},getTests:{EN:"Buy a test kit",FR:"Acheter des tests",TW:"購買測試套件",KR:"테스트 키트 구매",DE:"Kaufen Sie ein Testkit",IT:"Acquista un kit di prova",ES:"Compre un kit de prueba",HU:"Vásároljon tesztkészletet",GR:"Αγοράστε ένα κιτ δοκιμής",TR:"Bir test kiti satın alın",PL:"Kup zestaw testowy",PT:"Compre um kit de teste",CZ:"Kupte si testovací soupravu",RU:"Купить тестовый набор"},accessAPI:{EN:"Get access to our API",FR:"Accédez à notre API",TW:"獲得對我們API的訪問權限",KR:"API에 액세스",DE:"Erhalten Sie Zugriff auf unsere API",IT:"Ottieni l'accesso alla nostra API",ES:"Obtenga acceso a nuestra API",HU:"Hozzáférés az API-hoz",GR:"Αποκτήστε πρόσβαση στο API μας",TR:"API'mize erişin",PL:"Uzyskaj dostęp do naszego API",PT:"Tenha acesso à nossa API",CZ:"Získejte přístup k našemu API",RU:"Получите доступ к нашему API"},blog:{EN:"Blog",TW:"博客",KR:"블로그",GR:"Ιστολόγιο",RU:"Блог"},thanks:{EN:"Thank you",FR:"Merci",TW:"謝謝",KR:"감사",DE:"Vielen Dank",IT:"Grazie",ES:"Gracias",HU:"Köszönöm",GR:"Ευχαριστώ",TR:"Teşekkürler",PL:"Dzięki",PT:"Obrigado",CZ:"Dík",RU:"благодаря"},ourStory:{EN:"Our story",FR:"Notre histoire",TW:"關於我們",KR:"우리의 이야기",DE:"Unsere Geschichte",IT:"La nostra storia",ES:"Nuestra historia",HU:"A mi történetünk",GR:"Η ιστορία μας",TR:"Hikayemiz",PL:"Nasza historia",PT:"Nossa história",CZ:"我們的故事",RU:"Наша история"},storyFull:{EN:""},agreeTerms:{EN:"By becoming a member, you agree to our {T} and {PP}.",FR:"En devenant membre, vous acceptez nos {T} et notre {PP}.",TW:"成為會員即表示您同意我們的{PP}策和{T}。",KR:"회원이되면 {T} 및 {PP}에 동의하게됩니다.",DE:"Wenn Sie Mitglied werden, stimmen Sie unseren {T} und {PP} zu.",IT:"Diventando un membro, accetti i nostri {T} e le {PP}.",ES:"Al convertirse en miembro, acepta nuestras {T} y {PP}.",HU:"Taggá válással elfogadja a {T} és az {PP} rendelkezéseinket.",GR:"Με το να γίνετε μέλος, αποδέχεστε τους {T} και την {PP} μας.",TR:"Üye olarak {T} ve {PP} 'nı kabul etmiş olursunuz.",PL:"Stając się członkiem, akceptujesz nasze {T} i {PP}.",PT:"Ao se tornar um membro, você concorda com nossos {T} e {PP}.",CZ:"Tím, že se stanete členem, vyjadřujete souhlas s našimi {T} a {PP}.",RU:"Став участником, вы соглашаетесь с нашими {T} и {PP}."},terms:{EN:"Terms",FR:"Conditions d'utilisation",TW:"條款",KR:"약관",DE:"Nutzungsbedingungen",IT:"Termini",ES:"Condiciones",HU:"Feltételek",GR:"Όρους",TR:"Şartlar",PL:"Warunki",PT:"Termos",CZ:"Podmínky",RU:"Условиями"},privacyPolicy:{EN:"Privacy policy",FR:"Politique de confidentialité",TW:"隱私權政",KR:"개인 정보 보호 정책",DE:"Datenschutzbestimmungen",IT:"Norme sulla privacy",ES:"Política de privacidad",HU:"Adatvédelmi irányelvek",GR:"Πολιτική απορρήτου",TR:"Gizlilik politikası",PL:"Polityka prywatności",PT:"Política de privacidade",CZ:"Zásadami ochrany osobních údajů",RU:"Политикой конфиденциальности"},chooseAmount:{EN:"Any contribution is much appreciated.",FR:"Nous apprécions toutes les contributions.",TW:"您可以選擇欲支付的金額!",KR:"지불 할 금액을 선택하세요",DE:"Sie wählen, wie viel Sie bezahlen.",IT:"Scegli tu quanto pagare.",ES:"Tu eliges cuanto pagas.",HU:"Te döntöd el, mennyit fizetsz.",GR:"Μπορείτε να επιλέξετε πόσα πληρώνετε.",TR:"Her katkı için minnettarız!",PL:"Ty decydujesz, ile zapłacisz.",PT:"Você escolhe quanto vai pagar.",CZ:"Vy si vyberete, kolik zaplatíte.",RU:"Вы выбираете сколько платить."},cancelAnytime:{EN:"You can cancel your membership anytime.",FR:"Vous pouvez annuler votre abonnement à tout moment.",TW:"並可以隨時取消會員資格。",KR:"언제든지 멤버십을 취소 할 수 있습니다.",DE:"Sie können Ihre Mitgliedschaft jederzeit kündigen.",IT:"Puoi cancellare la tua iscrizione in qualsiasi momento.",ES:"Puede cancelar su membresía en cualquier momento.",HU:"Bármikor lemondhatja tagságát.",GR:"Μπορείτε να ακυρώσετε τη συνδρομή σας ανά πάσα στιγμή.",TR:"Üyeliğinizi istediğiniz zaman iptal edebilirsiniz.",PL:"Możesz zrezygnować z członkostwa w dowolnym momencie.",PT:"Você pode cancelar sua assinatura a qualquer momento.",CZ:"Členství můžete kdykoli zrušit.",RU:"Вы можете отменить свое членство в любое время."},alreadyMember:{EN:"Already a member?",FR:"Déjà membre?",TW:"已經是會員？",KR:"이미 회원이십니까?",DE:"Schon ein Mitglied?",IT:"Sei già un membro?",ES:"¿Ya eres usuario?",HU:"Már tag?",GR:"Ήδη μέλος",TR:"Zaten üye misiniz?",PL:"Jesteś już członkiem?",PT:"Já é um membro?",CZ:"Jste již členem?",RU:"Уже участник?"},documentation:{EN:"Documentation",TW:"文獻資料",KR:"선적 서류 비치",DE:"Dokumentation",IT:"Documentazione",ES:"Documentación",HU:"Dokumentáció",GR:"Τεκμηρίωση",TR:"Belgeler",PL:"Dokumentacja",PT:"Documentação",CZ:"Dokumentace",RU:"Документация"},myMembership:{EN:"My membership",FR:"Ma souscription",TW:"我的訂閱",KR:"내 구독",DE:"Mein Abonnement",IT:"Il mio abbonamento",ES:"Mi suscripción",HU:"Az előfizetésem",GR:"Η συνδρομή μου",TR:"Üyeliğim",PL:"Moja subskrypcja",PT:"Minha assinatura",CZ:"Moje předplatné",RU:"Моя подписка"},memberBenefits:{EN:"Member benefits",FR:"Avantages membres",TW:"會員優惠",KR:"회원 혜택",DE:"Vorteile für Mitglieder",IT:"Vantaggi per i membri",ES:"Beneficios para miembros",HU:"A tagok előnyei",GR:"Προνόμια μέλους",TR:"Üye avantajları",PL:"Korzyści dla członków",PT:"Benefícios para membros",CZ:"Členské výhody",RU:"Преимущества для участников"},signIn:{EN:"Sign in",FR:"Connexion",TW:"登入",KR:"로그인",DE:"Anmelden",IT:"Registrati",ES:"Registrarse",HU:"Bejelentkezés",GR:"Συνδεθείτε",TR:"Oturum Açın",PL:"Zaloguj się",PT:"Assinar em",CZ:"Přihlásit se",RU:"войти в систему"},becomeAMember:{EN:"Become a member",FR:"Devenir membre",TW:"加入會員",KR:"멤버가되다",DE:"Mitglied werden",IT:"Diventare socio",ES:"Hazte miembro",HU:"Taggá válni",GR:"Γίνομαι μέλος",TR:"Üye Olun",PL:"Zostań członkiem",PT:"Torne-se um membro",CZ:"Stát se členem",RU:"Становиться участником"},logOut:{EN:"Log out",FR:"Se déconnecter",TW:"登出",KR:"로그 아웃",DE:"Ausloggen",IT:"Disconnettersi",ES:"Cerrar sesión",HU:"Kijelentkezés",GR:"Αποσύνδεση",TR:"Çıkış Yapın",PL:"Wyloguj",PT:"Sair",CZ:"Odhlásit se",RU:"Выйти"},benfordsLaw:{EN:"Benford's law",FR:"Loi de Benford",TW:"本福特定律",KR:"벤포드의 법칙",DE:"Benfordsche Gesetz",IT:"Legge di Benford",ES:"Ley de Benford",HU:"Benford törvénye",GR:"Νόμος του Benford",TR:"Benford yasası",PL:"Rozkład Benforda",PT:"Lei de Benford",CZ:"Benfordův zákon",RU:"Зако́н Бе́нфорда"},map:{EN:"World Map",FR:"Carte du monde",TW:"地圖",KR:"지도",DE:"Karte",IT:"Mappa",ES:"Mapa",HU:"Térkép",GR:"Χάρτης",TR:"Harita",PL:"Mapa",PT:"Mapa",CZ:"Mapa",RU:"Карта"},compareWith:{EN:"Compare {t} with",FR:"Comparer {t} avec",TW:"將{t}與",KR:"{t}와",DE:"Vergleiche {t} mit",IT:"Confronta {t} con",ES:"Compare {t} con",HU:"Hasonlítsa össze",GR:"Συγκρίνετε το {t} με",TR:"{T} ile karşılaştırın",PL:"Porównaj {t} z",PT:"Compare {t} com",CZ:"Porovnejte {t} s",RU:"Сравните {t} с"},flags:{EN:"Flags",FR:"Drapeaux",TW:"標誌",KR:"플래그",DE:"Flaggen",IT:"Bandiere",ES:"Banderas",HU:"Zászlók",GR:"Σημαίες",TR:"Bayraklar",PL:"Flagi",PT:"Bandeiras",CZ:"Vlajky",RU:"Флаги"},all:{EN:"All",FR:"Tous",TW:"一切",KR:"모두",DE:"Alles",IT:"Tutti",ES:"Todas",HU:"Minden",GR:"Ολα",TR:"Herşey",PL:"Wszystko",PT:"Todos",CZ:"Všechno",RU:"Все"},regionDetails:{EN:"Details",FR:"Détails",TW:"細節",KR:"세부",DE:"Einzelheiten",IT:"Dettagli",ES:"Detalles",HU:"Részletek",GR:"Λεπτομέριες",TR:"ayrıntılar",PL:"Detale",PT:"Detalhes",CZ:"Podrobnosti",RU:"подробности"},show:{EN:"Show {nb}",FR:"Afficher {nb}",TW:"顯示{nb}",KR:"{nb} 보이기",DE:"Zeige {nb}",IT:"Mostra {nb}",ES:"Mostrar {nb}",HU:"Mutasd {nb}",GR:"Προβολή {nb}",TR:"{nb} Göster",PL:"Pokaż {nb}",PT:"Mostre {nb}",CZ:"Ukázat {nb}",RU:"Показать {nb}"},showAll:{EN:"Show all",FR:"Afficher tout",TW:"顯示所有",KR:"모두 보이기",DE:"Zeige alles",IT:"Mostra tutto",ES:"Mostrar todo",HU:"Mutasd az összeset",GR:"Προβολή όλων",TR:"Hepsini Göster",PL:"Pokaż wszystko",PT:"Mostre tudo",CZ:"Ukázat vše",RU:"Показать все"},stacked:{EN:"Stacked",FR:"Empilés",TW:"堆疊式",KR:"쌓인",ES:"Apilado",DE:"Gestapelt",IT:"Accatastare",HU:"Halmozott",GR:"Στοιβάζονται",TR:"Yığılmış",PL:"Ułożone",PT:"Empilhados",CZ:"Skládaný",RU:"сложены"},recent:{EN:"Past {nb} days",FR:"{nb} derniers jours",TW:"過去{nb}天",KR:"지난 {nb} 일",DE:"Letzte {nb} Tage",IT:"{nb} giorni precedenti",ES:"Últimos {nb} días",HU:"Az elmúlt {nb} nap",GR:"Τελευταίες {nb} ημέρες",TR:"Son {nb} gün",PL:"Ostatnie {nb} dni",PT:"Últimos {nb} dias",CZ:"Posledních {nb} dní",RU:"Последние {nb} дней"},allTime:{EN:"All time",FR:"Depuis le début",TW:"從一開始",KR:"처음부터",DE:"Von Anfang an",IT:"Dall'inizio",ES:"Desde el principio",HU:"Elölről",GR:"Από την αρχή",TR:"Başlangıçtan beri",PL:"Od początku",PT:"Do começo",CZ:"Od začátku",RU:"С самого начала"},overview:{EN:"Overview",FR:"Vue d'ensemble",TW:"總覽",KR:"개요",DE:"Überblick",IT:"Panoramica",ES:"Visión general",HU:"Áttekintés",GR:"Επισκόπηση",TR:"Genel bakış",PL:"Przegląd",PT:"Visão geral",CZ:"Přehled",RU:"обзор"},coronalytics:{EN:"Compare",TW:"相比",FR:"Comparer",KR:"비교",DE:"Vergleichen",IT:"Confrontare",ES:"Comparar",HU:"Összehasonlítás",GR:"Συγκρίνω",TR:"Karşılaştırın",PL:"Porównać",PT:"Comparar",CZ:"Porovnat",RU:"Сравнить"},language:{EN:"Language",TW:"語言",FR:"Langue",KR:"언어",DE:"Sprache",IT:"Lingua",ES:"Lenguaje",HU:"Nyelv",GR:"Γλώσσα",TR:"Dil",PL:"Język",PT:"Língua",CZ:"Jazyk",RU:"Язык"},clickToLearn:{EN:"Click to learn more",FR:"Cliquez pour en savoir plus",ES:"Haz click para aprender mas",IT:"Clicca per saperne di più",DE:"Klicke, um mehr zu lernen",PT:"Clique para aprender mais",TW:"點擊了解更多",KR:"자세한 내용을 보려면 클릭하십시오",HU:"Kattintson további információra",GR:"Κάντε κλικ για να μάθετε περισσότερα",TR:"Daha fazla bilgi için tıklayın",PL:"Kliknij by dowiedzieć się więcej",CZ:"Kliknutím získáte další informace",RU:"Нажмите, чтобы узнать больше"},casesDistribution:{EN:"Outcome of cases",FR:"Résolution des cas",ES:"Resolución de caso",IT:"Risoluzione del caso",DE:"Falllösung",PT:"Resolução de caso",KR:"결과 양성자 구성비",TW:"即時疫情",HU:"Az esetek kimenetele",GR:"Επίλυση υποθέσεων",TR:"Vaka çözünürlüğü",PL:"Rezultat zachorowań",CZ:"Výsledek případů",RU:"Разрешение случая"},casesEvolution:{EN:"Evolution",FR:"Evolution",TW:"演化",KR:"진화",DE:"Evolution",IT:"Evoluzione",ES:"Evolución",HU:"Evolúció",GR:"Εξέλιξη",TR:"Evrim",PL:"Rozwój",PT:"Evolução",CZ:"Vývoj",RU:"эволюция"},charts:{EN:"Graphs",TW:"圖形",FR:"Graphiques",KR:"그래프",DE:"Graph",IT:"Grafico",ES:"Grafico",HU:"Grafikon",GR:"Γραφική παράσταση",TR:"Grafik",PL:"Wykres",PT:"Gráfico",CZ:"Graf",RU:"диаграммы"},new:{EN:"New",TW:"新",FR:"Nouveau",KR:"새로운",DE:"Neu",IT:"Nuovo",ES:"Nuevo",HU:"Új",GR:"Νέος",TR:"Yeni",PL:"Nowy",PT:"Novo",CZ:"Nový",RU:"новый"},analytics:{EN:"Analytics",TW:"分析",FR:"Analyser",KR:"분석하다",DE:"Analysieren",IT:"Analizzare",ES:"Analizar",HU:"Elemez",GR:"Αναλύει",TR:"Analiz edin",PL:"Analizować",PT:"Analisar",CZ:"Analyzovat",RU:"аналитика"},cancel:{EN:"Cancel",TW:"取消",FR:"Annuler",KR:"취소",DE:"Stornieren",IT:"Annulla",ES:"Cancelar",HU:"Megszünteti",GR:"Ματαίωση",TR:"İptal edin",PL:"Anulować",PT:"Cancelar",CZ:"Zrušení",RU:"Отмена"},select:{EN:"Select",TW:"選擇",FR:"Sélectionner",KR:"고르다",DE:"Wählen",IT:"Selezionare",ES:"Seleccione",HU:"Választ",GR:"Επιλέγω",TR:"Seçmek",PL:"Wybierz",PT:"Selecione",CZ:"Vybrat",RU:"Выбрать"},linear:{EN:"Linear",TW:"線性的",FR:"Linéaire",KR:"선형",DE:"Linear",IT:"Lineare",ES:"Lineal",HU:"Lineáris",GR:"γραμμικός",TR:"Doğrusal",PL:"Liniowy",PT:"Linear",CZ:"Lineární",RU:"линейный"},startDay:{EN:"Relative time",FR:"Temps relatif",TW:"相對時間",KR:"상대 시간",DE:"Relative Zeit",IT:"Tempo relativo",ES:"Tiempo relativo",HU:"Relatív idő",GR:"Σχετικός χρόνος",TR:"Göreli zaman",PL:"Czas względny",PT:"Tempo relativo",CZ:"Relativní čas",RU:"Относительное время"},logarithmic:{EN:"Logarithmic",TW:"對數",FR:"Logarithmique",KR:"로그",DE:"Logarithmisch",IT:"Logaritmico",ES:"Logarítmico",HU:"logaritmikus",GR:"Λογαριθμική",TR:"Logaritmik",PL:"Logarytmiczny",PT:"Logarítmica",CZ:"Logaritmické",RU:"логарифмический"},population:{EN:"Population",TW:"人口",FR:"Population",KR:"인구",DE:"Population",IT:"Popolazione",ES:"Población",HU:"Népesség",GR:"πληθυσμός",TR:"Nüfus",PL:"Populacja",PT:"População",CZ:"Populace",RU:"Население"},casesPerMillion:{EN:"Cases per million",FR:"Cas par million",KR:"100만명당 확진자 수",DE:"Fälle pro Million",IT:"Casi per milione",ES:"Casos por millón",TW:"每百萬確診案例",HU:"Esetek milliónként",GR:"περιπτώσεις ανά εκατομμύριο",TR:"Milyon başına vaka",PL:"Przypadków na milion",PT:"Casos por milhão",CZ:"Případů na milion",RU:"Выявлено на миллион"},deathsPerMillion:{EN:"Deaths per million",FR:"Décès par million",ES:"Muertes por millón",IT:"Deceduto per milione",DE:"Verstorben pro Million",TW:"每百萬死亡人數",HU:"Millió halál",GR:"Θάνατοι ανά εκατομμύριο",TR:"Milyon başına ölüm",PL:"Zmarłych na milion",PT:"Óbitos por milhão",CZ:"Úmrtí na milion",KR:"100만명당 사망자",RU:"Умерло на миллион"},darkMode:{EN:"Theme",FR:"Thème",TW:"主題",KR:"테마",DE:"Thema",IT:"Tema",ES:"Tema",HU:"Téma",GR:"Θέμα",TR:"Tema",PL:"Motyw",PT:"Tema",CZ:"Motiv",RU:"Тема"},preferences:{EN:"Preferences",FR:"Préférences",TW:"優先",DE:"Einstellungen",IT:"Preferenze",ES:"Preferencias",HU:"Preferenciák",GR:"Προτιμήσεις",TR:"Tercihler",PL:"Preferencje",PT:"Preferências",CZ:"Preference",RU:"Настройки"},filterMap:{EN:"Filter",FR:"Filtrer",TW:"過濾",DE:"Filter",IT:"Filtro",ES:"Filtro",HU:"Szűrő",GR:"Φίλτρο",TR:"Filtre",PL:"Filtr",PT:"Filtro",CZ:"Filtr",RU:"Фильтр"},countries:{EN:"Countries",FR:"Pays",TW:"國家",KR:"국가",DE:"Länder",IT:"Paesi",ES:"Países",HU:"Országok",GR:"Χώρες",TR:"Ülkeler",PL:"Kraje",PT:"Países",CZ:"Země",RU:"Страны"},day:{EN:"Day",FR:"Jour",TW:"Day",KR:"일째",DE:"Tag",IT:"Giorno",ES:"Día",HU:"Nap",GR:"Ημέρα",TR:"Gün",PL:"Dzień",PT:"Dia",CZ:"Den",RU:"День"},world:{EN:"World",FR:"Monde",TW:"全球",KR:"글로벌",DE:"Weltweit",IT:"Globale",ES:"Global",HU:"Globális",GR:"Παγκόσμια",TR:"Küresel",PL:"Świat",CZ:"Svět",RU:"Мир"},searchRegions:{EN:"Search {nb} regions",FR:"Chercher {nb} régions",TW:"搜尋",KR:"지역 검색",DE:"Suche nach {nb} Regionen",IT:"Cerca regioni",ES:"Buscar {nb} regiones",HU:"Régió keresése",GR:"Αναζήτηση περιοχής",TR:"{nb} Bölgelerini Arayın",PL:"Szukaj regionu",PT:"Buscar região",CZ:"Hledat oblast",RU:"Поиск {nb} регионов"},name:{EN:"Name",FR:"Nom",TW:"名稱",KR:"이름",IT:"Nome",ES:"Nombre",HU:"Név",GR:"Όνομα",TR:"İsim",PL:"Nazwa",PT:"Nome",CZ:"Jméno",RU:"Название"},share:{EN:"Share",FR:"Partager",ES:"Compartir",IT:"Condividere",KR:"공유",TW:"分享",DE:"Teilen",HU:"Ossza meg",GR:"μερίδιο",TR:"Paylaş",PL:"Podziel się",PT:"Compartilhar",CZ:"Sdílej",RU:"Поделиться"},today:{EN:"Today",FR:"Aujourd'hui",TW:"今天",KR:"오늘",DE:"Heute",IT:"Oggi",ES:"Hoy",HU:"Ma",GR:"σήμερα",TR:"Bugün",PL:"Dzisiaj",PT:"Hoje",CZ:"Dnes",RU:"Cегодня"},lastUpdate:{EN:"Updated",FR:"Mise à jour",TW:"資料更新時間",KR:"최근 업데이트",DE:"Update",IT:"Aggiornamento",ES:"Actualización",HU:"Utolsó frissítés",GR:"Τελευταία ενημέρωση",TR:"Son güncelleme",PL:"Aktualizacja",PT:"Atualização",CZ:"Aktualizováno",RU:"обновление"},infected:{EN:"Total cases",FR:"Total des cas",TW:"感染病毒總數",KR:"총 확진자 수",DE:"Gesamtfälle",IT:"Casi totali",ES:"Casos totales",HU:"Összes eset",GR:"Συνολικά κρούσματα",TR:"Toplam vaka",PL:"Wszystkie przypadki",PT:"Casos Confirmados",CZ:"Celkem případů",RU:"Выявлено"},recovered:{EN:"Recoveries",FR:"Rétablissements",TW:"治癒",KR:"완치자",DE:"Geheilt",IT:"Guariti",ES:"Recuperados",HU:"Gyógyult",GR:"Ανάρρωσαν",TR:"İyileşen",PL:"Wyzdrowieli",PT:"Recuperados",CZ:"Uzdravení",RU:"Выздоровело"},dead:{EN:"Deaths",FR:"Décès",TW:"死亡",KR:"사망자",DE:"Verstorben",IT:"Deceduti",ES:"Fallecidos",HU:"Elhunyt",GR:"Απεβίωσαν",TR:"Ölü",PL:"Zmarłych",PT:"Óbitos",CZ:"Úmrtí",RU:"Умерло"},sick:{EN:"Active cases",FR:"Cas actifs",TW:"目前感染",KR:"실시간 확진자",DE:"Aktive Fälle",IT:"Casi attivi",ES:"Casos activos",HU:"Jelenleg beteg",GR:"Νοσούν τώρα",TR:"Halen Hasta",PL:"Obecnie chorzy",PT:"Casos ativos",CZ:"Momentálně nemocní",RU:"Активные"},embed:{EN:"Embed",FR:"Intégrer",TW:"嵌入",KR:"임베드",DE:"Einbetten",IT:"Incorpora",ES:"Integrar",HU:"Beágyazott",GR:"Ενσωμάτωση",TR:"Gömülü",PT:"Incorporar",CZ:"Vložit",RU:"Встроить"},contactUs:{EN:"Contact us",FR:"Nous contacter",TW:"聯絡我們",KR:"개발진에게 연락하기",DE:"Kontaktiere uns",IT:"Contattaci",ES:"Contáctanos",HU:"Kapcsolatfelvétel",GR:"Επικοινωνία",TR:"Bize ulaşın",PL:"Skontaktuj się z nami",PT:"Contate-nos",CZ:"Kontaktujte nás",RU:"Связаться с нами"},fatalityRate:{EN:"Fatality rate",FR:"Taux de létalité",TW:"死亡率",KR:"치사율",DE:"Sterblichkeitsrate",IT:"Tasso di letalità",ES:"Tasa de letalidad",HU:"Halálozási arány",GR:"Ποσοστό Θνησιμότητας",TR:"Ölüm Oranı",PL:"Procent śmiertelności",PT:"Taxa de letalidade",CZ:"Smrtnost",RU:"Уровень смертности"},recoveryRate:{EN:"Recovery rate",FR:"Taux de rétablissement",TW:"治癒率",KR:"완치율",DE:"Heilungsrate",IT:"Tasso di guarigione",ES:"Tasa de recuperación",HU:"Gyógyulási arány",GR:"Ποσοστό Ανάρρωσης",TR:"İyileşme Oranı",PL:"Procent wyzdrowienia",PT:"Taxa de recuperação",CZ:"Míra uzdravení",RU:"Уровень выздоровления"},sortList:{EN:"Sort list",FR:"Trier la liste",TW:"排序列表",KR:"리스트 정렬",DE:"Sortieren nach",IT:"Ordina per",ES:"Ordenar por",HU:"Rendezés",GR:"Ταξινόμηση κατά",TR:"Sıralayın",PL:"Sortuj",PT:"Ordenar por",CZ:"Třídit podle",RU:"Сортировать по"},infectedNew:{EN:"New cases",FR:"Nouveaux cas",TW:"新增病例",KR:"새 케이스",DE:"Neue Fälle",IT:"Nuovi casi",ES:"Nuevos casos",HU:"Új esetek",GR:"Νέα κρούσματα",TR:"Yeni vakalar",PL:"Nowe przypadki",PT:"Novos casos",CZ:"Nové případy",RU:"Новые случаи"}}),b=new function(){let e=this;this.isReady=!1,this.isMember=!1,this.isSubscribed=!1,this.className="membership",this.initialized=!1,this.data={email:"",password:"",amount:5,firstName:"",lastName:""},this.priceMonthly=6,this.priceAnnual=60,this.priceIdMonthly="",this.priceIdAnnual="",this.styling="\n\t."+e.className+"{width:100vw;height:100vh;top:0px;left:0px;position:fixed;z-index:999999999;padding:0px;overflow:hidden;display:flex;}\n\t."+e.className+">*{width:100%;height:100%;flex-direction:row;display:flex;align-items:center;justify-content:space-between;padding:0px;}\n\t."+e.className+"-back{background:var(--card);color:var(--text);border-radius:50%;cursor:pointer;position:absolute;top:10px;left:10px;width:50px;height:50px;display:flex;align-items:center;justify-content:center;box-shadow:var(--box-shadow);font-size:20px;border:2px solid transparent;}\n\t."+e.className+"-back:hover{border-color:var(--main);color:var(--main);}\n\t."+e.className+" input{color:var(--text);padding: 15px 20px; width: calc(100% - 40px); border: 1px solid var(--grey); background: var(--menu);border-radius: 5px; outline: 0px; background: var(--sidebar);}\n\t."+e.className+" label{margin-top: 20px; margin-bottom: 10px; font-weight: 500; text-transform: none; color: var(--text); letter-spacing: 0.5px;}\n\t."+e.className+"-intro, ."+e.className+"-billing{position:relative;display:flex;flex-direction:column;    justify-content:center;}\n\t."+e.className+"-intro{flex:none;width:40%;background:var(--bg-gradient);height:100vh;color:var(--white);display:flex;flex-direction:column;align-items:center;justify-content:center;flex:none;}\n\t."+e.className+"-args, ."+e.className+"-story{height:50%;justify-content:center;width:80%;display:inline;}\n\t."+e.className+"-billing{width:60%;height:100%;    background: var(--card);padding: 0px;display: flex; justify-content:center; align-items: center;flex:none;}\n\t."+e.className+"-billing> *{width:80%;}\n\t."+e.className+" h2{margin-top:0px;    font-size: 40px; font-weight: 500; width: 100%; text-align: left; display: flex; justify-content: flex-start; align-items: center;}\n\t."+e.className+"-billing > *{width:80%;}\n\t."+e.className+"-story{z-index:2;font-size:11px;color:var(--grey);}\n\t."+e.className+" h3{font-size:20px;color:var(--white);}\n\t."+e.className+"-args{flex:none;z-index:2;display:flex;flex-direction:column;font-weight:500;font-size:14px;}\n\t."+e.className+"-arg{flex:none;margin:3px 0px;color:var(--white);}\n\t."+e.className+"-arg.disabled{opacity:0.3;}\n\t."+e.className+"-arg i{width:30px;height:30px;background:var(--main);color:var(--white);display:inline-flex;align-items:center;justify-content:center;margin-right:10px;border-radius:30px;}\n\t."+e.className+"-form{display:flex;align-items:center;justify-content:center;flex-direction:column;}\n\t."+e.className+"-form > *{width:100%;}\n\t."+e.className+"-input-list{display:flex;flex-direction:column;}\n\t."+e.className+"-footer{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;}\n\t."+e.className+"-legalese{font-size:12px;margin-top:20px;}\n\t."+e.className+"-btn{background:var(--main);width:100%;}\n\t."+e.className+'-billing-options:before{content: "Billing";}\n\t.'+e.className+"-billing-options{display:flex;align-items:center;justify-content:flex-start;}\n\t."+e.className+"-billing-options > *{box-shadow:var(--box-shadow);padding:5px 10px;font-weight:500;font-size:14px;margin:5px;cursor:pointer;}\n\t."+e.className+"-billing-options > *.active{background:var(--primary);color:var(--white);pointer-events:none;}\n\t."+e.className+"-main-btn{flex-direction:row;text-align:center;background:var(--main);flex:none; background:var(--main-gradient);color: var(--white); display: flex; justify-content: center; font-size:14px;padding:15px 30px; height:50px; font-weight:400;}\n\t."+e.className+"-form ."+e.className+"-main-btn{margin-top:30px;width:100%;}\n\t."+e.className+"-main-btn i{font-size:20px;margin-right:12px;}\n\t."+e.className+"-main-btn:hover{background:var(--main-hover);}\n\t."+e.className+"-already-member{width:100%;text-align:center;margin-top:10px;font-size: 12px;}\n\t."+e.className+"-already-member-link{margin-left:5px;cursor:pointer;color:var(--main);}\n\t."+e.className+"-already-member-link:hover{color:var(--main-hover);}\n\t."+e.className+"-profile-details{border-radius:10px;box-shadow:var(--box-shadow);background:var(--card); cursor:pointer;padding:0px;width:auto;height:40px;position:relative;border:2px solid transparent;display:flex;align-items:center;justify-content:center;}\n\t."+e.className+"-profile-details img{margin-left:10px;margin-right:10px;width:30px;height:30px;box-shadow:var(--box-shadow);border-radius: 5px;}\n\t."+e.className+"-profile-details-email{font-size:12px;max-width:150px;overflow:hidden;text-overflow:ellipsis;border:1px solid transparent;}\n\t."+e.className+'-profile-details:after{content: "\\e928";  font-family:"Feather";margin-left:5px;margin-right:5px;}\n\t.'+e.className+"-label-row{display:flex;align-items:center;justify-content:space-between;}\n\t."+e.className+"-label-row > *{max-width:48%;}\n\t."+e.className+"-label-row input{margin-top:10px;}\n\t."+e.className+"-identities{display:flex;align-items:center;justify-content:flex-start;font-size:12px;}\n\t."+e.className+"-identity{cursor:pointer;padding:5px 10px;display:flex;align-items:center;justify-content:center;margin-right:5px;color:var(--grey);background:var(--backdrop);border:1px solid transparent;border-radius:20px;}\n\t."+e.className+"-identity:hover{color:var(--main);border-color:var(--main);background:var(--backdrop);}\n\t."+e.className+"-identity img{margin-right:5px;border-radius:50%;width:24px;height:24px;flex:none;}\n\t."+e.className+"-app-logo{display:flex;align-items:center;justify-content:flex-start;font-size:12px;margin-bottom:10px;}\n\t."+e.className+"-secondary-nav{    position: absolute; right: 20px;  top: 10px; width: fit-content; z-index: 8888; }\n\t."+e.className+"-app-logo img{margin-right:5px;width:25px;height:25px;flex:none;}\n\t."+e.className+"-large-emoji{    font-size: 80px;  display: flex; align-items: center; justify-content: center; margin-bottom: 30px;}\n\t."+e.className+"-contribution{color:var(--main);margin-top:10px;}\n\t."+e.className+"-free-disclaimer{box-shadow:var(--box-shadow);width:100%;font-size:12px;margin-top:10px;}\n\t."+e.className+"-free-disclaimer > div{padding:20px;}\n\t."+e.className+"-contribution-options{display:flex;align-items:center;flex-wrap:wrap;}\n\t."+e.className+"-contribution-option{cursor:pointer;border: 1px solid var(--grey);display:flex;align-items:center;justify-content:center;background:var(--sidebar); padding: 5px 10px; border-radius: 20px; margin: 5px; font-size: 12px;}\n\t."+e.className+"-contribution-option:not(.active):hover{border-color:var(--main);color:var(--main);}\n\t."+e.className+"-contribution-radio{border: 1px solid var(--grey);width:13px;height:13px;margin-right:5px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--white);cursor:pointer;}\n\t."+e.className+"-contribution-option.active{pointer-events:none;    color: var(--white); background: var(--main-gradient);}\n\t."+e.className+"-contribution-option.active ."+e.className+"-contribution-radio{border-color:var(--main);}\n\t."+e.className+"-contribution-option.active ."+e.className+"-contribution-radio:after, ."+e.className+"-contribution-option:hover ."+e.className+'-contribution-radio:after{content:"";width:7px;height:7px;background:var(--main);border-radius:50%;}\n\t@media (min-width:992px){\n\t\t.'+e.className+"-large-emoji{display:none;}\n\t\t."+e.className+"-profile-details:hover{border-color:var(--main);color:var(--main);}\n\t\t."+e.className+"-profile-details:hover:after{color:var(--main);}\n\t\t."+e.className+"-args-mobile{display:none;}\n\t\t."+e.className+"-billing> *{max-width:500px;}\n\t\t.dark ."+e.className+"{background:var(--card);}\n\t\t.dark ."+e.className+"-billing{background: var(--black);}\n\t\t.dark ."+e.className+"-intro{background:#1a1a1f;}\n\t\t\n\t\t."+e.className+" h2{   white-space: pre-wrap;}\n\t}\n\t@media (max-width:991px){\n\n\t\t."+e.className+"{flex-direction:column;overflow:auto;background:var(--card);height: calc(var(--vh, 1vh) * 100);}\n\t\t.dark ."+e.className+"-intro{background:transparent;margin-top:20px;}\n\t\t."+e.className+"-billing, ."+e.className+"-intro{width:100%;}\n\t\t.dark ."+e.className+"-billing{ background:transparent;}\n\t\t."+e.className+"-profile-details{ width:23px;height:23px;margin-right:-7px;}\n\t\t."+e.className+"-profile-details:after{display:none;}\n\t\t."+e.className+"-profile-details-email{display:none;}\n\t\t."+e.className+"-profile-details img{margin-right:0px;margin-left:0px;width:23px;height:23px;}\n\t\t."+e.className+"-intro{   height:auto;padding-top:0px;padding-bottom:50px;margin-bottom:40px;}\n\t\t."+e.className+"-app-logo{display:none;}\n\t\t."+e.className+"-args{display:none;}\n\t\t."+e.className+"-secondary-nav{ position: fixed;  top: 7px; right: 20px; color: var(--white) !important;}\n\t\t."+e.className+"-secondary-nav > * > *:first-child{display:none;}\n\t\t."+e.className+"-intro ."+e.className+"-already-member-link{color:var(--white);font-size:10px;}\n\t\t."+e.className+"-args-mobile{font-size:14px;width:100%;padding:10px 0px;z-index: 9999;display:flex;justify-content:flex-start;align-items:center;flex-direction:column;}\n\t\t."+e.className+"-args-mobile ."+e.className+"-arg{width:80%;color:var(--text);margin-top:10px;margin-bottom:10px;}\n\t\t."+e.className+"-form{display:none;}\n\t\t."+e.className+"-args-mobile ."+e.className+"-main-btn{width:80%;margin-top:10px;margin-bottom:20px;}\n\t\t."+e.className+"-args-mobile.hide{display:none;}\n\t\t."+e.className+" h2{    position: absolute;  top: 0px; width: 100% !important; left: 0px; text-align: center; font-size: 12px; justify-content: center; height: 50px; background: var(--main-gradient); color:var(--white);}\n\t\t."+e.className+".form-mode ."+e.className+"-args-mobile, ."+e.className+".form-mode ."+e.className+"-intro{display:none;}\n\t\t."+e.className+"-billing{padding-top: 70px;\n    padding-bottom: 30px;flex:none;height:auto;}\n\t\t."+e.className+".form-mode ."+e.className+"-form{display:flex;}\n\t\t."+e.className+"-back{margin-top:-3px;width: 30px;height: 30px;font-size:14px;box-shadow:none;background:transparent;color:var(--white);}\n\t\t."+e.className+"-intro{background:transparent;}\n\t\t."+e.className+"-story{padding-bottom: 100px;flex:none;}\n\t\t."+e.className+"-story, ."+e.className+"-story *:not(a){color:var(--text) !important;}\n\t\t."+e.className+"-identity{background:transparent; box-shadow:var(--box-shadow);}\n\t\t."+e.className+"-graphic{height:200px;flex:none;margin-bottom:20px;    filter: hue-rotate(140deg);}\n\t\t."+e.className+"-back:hover{ color:var(--white);border-color:var(--white);}\n\t}\n\t\n\t",this.arguments=[{icon:"feather feather-heart",name:"payBill",onlyIfPaid:!0},{icon:"feather feather-star",name:"adFree",onlyIfPaid:!0},{icon:"feather feather-codepen",name:"accessAPI",onlyIfPaid:!0}],this.goToApi=function(){e.newModal("api")},this.goToCoffee=function(){window.location.href=d},this.createAvatarButton=async function(t){e.stylize(),await e.ready();let n=e.isMember?function(){new O({node:c,callback:l,options:s})}:e.subscribe,a=e.isMember?"#FF416C":"transparent",i=e.data.firstName&&e.data.lastName?e.data.firstName+" "+e.data.lastName:e.data.email,o=e.isMember?i||e.data.email:"",r=function e(t,n){if(!t&&!n){let t=e("?","#ddd");return{url:t.url,color:t.color}}let a=t.split(" ");let i=a.length>=2?2:1;t=a.length>=2?a[0].charAt(0)+a[1].charAt(0):t;let o=function(e,t){let n,a=e.charCodeAt(t);return a>=55296&&a<=56319&&e.length>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?e.substring(t,t+2):e[t]};let r=["#1abc9c","#16a085","#f1c40f","#f39c12","#2ecc71","#27ae60","#e67e22","#d35400","#3498db","#2980b9","#e74c3c","#c0392b","#9b59b6","#8e44ad","#bdc3c7","#34495e","#2c3e50","#95a5a6","#7f8c8d","#ec87bf","#d870ad","#f69785","#9ba37e","#b49255","#b49255","#a94136"];let s={name:t,color:null,seed:t.length,charCount:i,textColor:"#ffffff",height:100,width:100,fontSize:60,fontWeight:400,fontFamily:"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif",radius:0};let l=function(e,t,n){let a,i="",r=0,s=0,l=e.length;for(;r<l;)a=o(e,r),s>=t&&s<n&&(i+=a),r+=a.length,s+=1;return i}(s.name,0,s.charCount).toUpperCase();let c=document.createElement("text");c.setAttribute("text-anchor","middle");c.setAttribute("y","50%");c.setAttribute("x","50%");c.setAttribute("dy","0.35em");c.setAttribute("pointer-events","auto");c.setAttribute("fill",s.textColor);c.setAttribute("font-family",s.fontFamily);c.innerHTML=l;c.style["font-weight"]=s.fontWeight;c.style["font-size"]=s.fontSize+"px";let d=n||r[Math.floor((l.charCodeAt(0)+s.seed)%r.length)];let u=document.createElement("svg");u.setAttribute("xmlns","http://www.w3.org/2000/svg");u.setAttribute("pointer-events","none");u.setAttribute("width",s.width);u.setAttribute("height",s.height);u.style.background=d;u.style["background-size"]="400% 400%";u.style.width=s.width+"px";u.style.height=s.height+"px",u.style["border-radius"]=s.radius+"px",u.style["-moz-border-radius"]=s.radius+"px";u.appendChild(c);let m=document.createElement("div");let p=u.cloneNode(!0);m.appendChild(p);let h=window.btoa(unescape(encodeURIComponent(m.innerHTML)));let f="data:image/svg+xml;base64,"+h;return{url:f,color:d}}(o,a).url,s=[{value:"me",name:i,fn:e.manage,img:r,desc:e.data.email},{value:"manage",name:j(e.isSubscribed?"myMembership":"activateMembership"),fn:e.isSubscribed?e.manage:e.subscribe,icon:e.isSubscribed?"feather feather-edit-2":"feather feather-shopping-cart"},{value:"log-out",name:j("logOut"),fn:e.logout,icon:"feather feather-log-out"}],l=function(e){let t=s.find(t=>t.value===e);t.fn()},c=be("div",e.className+"-profile-details",{parent:t,click:n});be("img",{src:r,parent:c}),be("div",e.className+"-profile-details-email",{html:i,parent:c}),e.isMember||be("i","feather feather-user",{style:"    width: 100%;\n    height: 100%;border-radius:5px;display:flex;align-items:center;justify-content:center;background:var(--card);position: absolute; color: var(--dark); font-size: 15px;",parent:c})},this.reload=async function(){window.location.href=window.location.origin},this.retrieve=async function(){try{let t=await ge("POST","/membership/retrieve");if(e.isReady=!0,!t.result)return;for(let n in t.result)e.data[n]=t.result[n];e.isMember=e.data.isMember,e.isSubscribed=e.data.isSubscribed}catch(t){console.log(t),e.isMember=!1,e.isSubscribed=!1,e.isReady=!0}},this.logout=async function(e){try{e&&(e.preventDefault(),e.stopPropagation(),e.target.classList.add("loading"));await ge("POST","/membership/log-out");window.location.reload()}catch(e){window.location.reload()}},this.login=async function(t){try{t.preventDefault(),t.stopPropagation(),t.target.classList.add("loading");let n={email:e.data.email,password:e.data.password};await ge("POST","/membership/sign-in",n);window.location.href=window.location.origin}catch(e){console.log(e),t.target.classList.remove("loading"),new oe("error",e).send()}},this.manage=async function(e){try{e&&e.target&&(e.preventDefault(),e.stopPropagation(),e.target.classList.add("loading"));let t=await ge("POST","/membership/manage");window.location.href=t.result.url}catch(t){console.log(t),e&&e.target&&e.target.classList.remove("loading"),new oe("error",t).send()}},this.ready=function(){return new Promise(function(t,n){let a=setInterval(function(){if(e.isReady)return e.initialized=!0,clearInterval(a),t()},100)})},this.loginModal=function(){let t=e.modal(j("signIn"),!0,!0);be("label",{html:j("email"),parent:t}),be("input",{type:"email",parent:t,input:function(t){e.updateValue("email",t)}});let n=be("div",e.className+"-label-row",{parent:t});be("label",{html:j("password"),autocomplete:"current-password",parent:n}),be("div",{html:j("forgottenPassword"),style:"cursor:pointer;color:var(--main);margin-top:10px;white-space:nowrap;font-size:10px;",parent:n,click:function(){e.newModal("reset-password")}}),be("input",{type:"password",autocomplete:"current-password",parent:t,input:function(t){e.updateValue("password",t)}}),be("button",e.className+"-main-btn",{text:j("signIn"),parent:t,click:e.login})},this.resetPasswordModal=function(){let t=e.modal(j("resetPassword"),!1,!0);t.classList.add("form-mode"),be("label",{html:j("email"),parent:t}),be("input",{parent:t,input:function(t){e.updateValue("email",t)}}),be("button",e.className+"-main-btn",{text:j("resetPassword"),parent:t,click:e.resetPassword})},this.resetPassword=async function(t){try{t&&t.target&&(t.preventDefault(),t.stopPropagation(),t.target.classList.add("loading")),await ge("POST","/membership/reset-password",{email:e.data.email}),new oe("success","We have sent you an email with a link to reset your password. It's valid for 30 minutes only. Please check your inbox.",!1).send(),t&&t.target&&t.target.classList.remove("loading"),e.newModal("login")}catch(e){t&&t.target&&t.target.classList.remove("loading"),new oe("error",e).send()}},this.modifyPassword=async function(t){try{if(t&&t.target&&(t.preventDefault(),t.stopPropagation(),t.target.classList.add("loading")),e.data.password!==e.data.confirmPassword)throw"The two passwords are not identical";let n=e.resetToken;if(!n)throw"Password token is missing";await ge("POST","/membership/modify-password",{password:e.data.password,token:n}),new oe("success","Password modified successfully. Please login again to continue.",!1).send(),e.newModal("login")}catch(e){t&&t.target&&t.target.classList.remove("loading"),new oe("error",e).send()}},this.modifyPasswordModal=function(){let t=e.modal(j("resetPassword"),!0,!0);t.classList.add("form-mode"),be("label",{html:j("newPassword"),parent:t}),be("input",{type:"password",autocomplete:"new-password",parent:t,value:e.data.password,input:function(t){e.updateValue("password",t)}}),be("label",{html:j("confirmPassword"),parent:t}),be("input",{type:"password",autocomplete:"confirm-password",parent:t,value:e.data.password,input:function(t){e.updateValue("confirmPassword",t)}}),be("button",e.className+"-main-btn",{text:j("resetPassword"),parent:t,click:e.modifyPassword})},this.reloadPage=function(e){e&&e.target&&(e.target.classList.add("loading"),e.preventDefault(),e.stopPropagation()),window.location.href=window.location.origin},this.addArgs=function(t){e.arguments.forEach(function(n){let a=n.onlyIfPaid&&0===parseInt(e.data.amount),i=a?"disabled":"active";be("div",e.className+"-arg "+i,{html:'<i class="'+n.icon+'"></i><span>'+j(n.name)+"</span>",parent:t})})},this.modal=function(t,n,a){document.querySelectorAll("."+e.className).forEach(function(e){e.remove()});let i=be("div",e.className,{parent:document.querySelector("body")});a&&i.classList.add("form-mode");let o=be("div",e.className+"-billing",{parent:i});be("div",e.className+"-back",{click:e.reloadPage,parent:i,html:'<i class="feather feather-arrow-left"></i>'}),be("div",e.className+"-app-logo",{parent:o,html:'<img src="'+k.logo+'" />The Coronavirus App'});let r=be("div",e.className+"-args-mobile",{parent:o}),s=staticAssetsPrefix+"/img/membership.png";be("img",e.className+"-graphic",{parent:r,src:s}),be("button",e.className+"-main-btn",{html:j("becomeAMember")+'<i style="margin-left:20px;" class="feather feather-arrow-right"></i>',parent:r,click:function(){i.classList.add("form-mode")}}),e.addArgs(r);let l=be("div",e.className+"-intro",{parent:i});be("h2",{html:t,parent:o});let c=be("form",e.className+"-form",{parent:o}),d=be("div",e.className+"-secondary-nav",{parent:l});e.alreadyMember(d,n);let u=be("div",e.className+"-args",{parent:l});be("h3",{parent:u,html:j("memberBenefits")}),e.addArgs(u);let m=be("div",e.className+"-story",{parent:l,html:"<h3>"+j("ourStory")+"</h3>"+j("storyFull")+" &#x1F64F; <br><br>"}),p=be("div",e.className+"-identities",{parent:m});return[].forEach(function(t){let n=staticAssetsPrefix+"/img/"+t.avatar;be("a",e.className+"-identity",{href:t.li,target:"_blank",parent:p,html:'<img src="'+n+'" /><span>'+t.name+"</span>"})}),c},this.toggleAnnual=function(){e.data.isAnnual=!e.data.isAnnual,e.subscribe()},this.updateValue=function(t,n){e.data[t]=n.target.value},this.subscribeModal=async function(t){await e.ready();let n=e.modal(j(e.isSubscribed?"youAreMember":e.isMember?"activateMembership":"becomeAMember"),!1,t||e.isMember);if(!e.isMember){let t=be("div",e.className+"-label-row",{parent:n}),a=be("div",{parent:t});be("label",{html:j("firstName"),parent:a}),be("input",{autocomplete:"given-name",type:"text",parent:a,value:e.data.firstName,input:function(t){e.updateValue("firstName",t)}});let i=be("div",{parent:t});be("label",{html:j("lastName"),parent:i}),be("input",{autocomplete:"family-name",type:"text",parent:i,value:e.data.lastName,input:function(t){e.updateValue("lastName",t)}}),be("label",{html:j("email"),parent:n}),be("input",{type:"email",parent:n,value:e.data.email,input:function(t){e.updateValue("email",t)}}),be("label",{html:j("password"),parent:n}),be("input",{type:"password",autocomplete:"new-password",parent:n,value:e.data.password,input:function(t){e.updateValue("password",t)}})}if(!e.isSubscribed){let t=be("div",e.className+"-label-row",{parent:n});be("label",{html:j("contribution"),parent:t});let a=e.currency.symbol,i=le(e.data.amount),r=be("div",e.className+"-contribution-options",{parent:n});e.currency.opts.forEach(function(t){if(0===t&&e.isMember)return;let n=be("div",e.className+"-contribution-option",{parent:r,click:function(n){e.updateValue("amount",{target:{value:t}}),e.subscribeModal(!0)}}),i=e.data.amount>=0?e.data.amount:e.current.def;i===t&&n.classList.add("active");let o=le(t);be("div",e.className+"-contribution-radio",{parent:n});let s=0===t?j("nothing"):j("dollarPerMonth").replace("{D}",o).replace("{C}",a);be("div",{parent:n,html:s})});let l=be("div",e.className+"-footer",{parent:n}),c=j("agreeTerms").replace("{T}",'<a href="'+s+'" target="_blank">'+j("terms")+"</a>").replace("{PP}",'<a href="'+o+'" target="_blank">'+j("privacyPolicy")+"</a>");0===parseInt(e.data.amount)&&be("div",e.className+"-free-disclaimer",{parent:l,html:"<div>"+j("freeDisclaimer")+" &#x1F44C; &#x1F64F;</div>"});be("div",e.className+"-legalese",{parent:l,html:j("chooseAmount")+" "+c+" "+j("cancelAnytime")});be("button",e.className+"-main-btn",{parent:l,click:e.signUp,html:j("payMoneyNow").replace("{D}",i).replace("{C}",a)})}e.isMember&&e.isSubscribed&&(be("div",{parent:n,html:j("thanks")+". "+j("appreciateSupport")}),be("button",e.className+"-main-btn",{html:'<i class="feather feather-edit-2"></i>'+j("myMembership"),parent:n,click:e.manage}))},this.signUp=async function(t){try{t.preventDefault(),t.stopPropagation(),t.target.classList.add("loading");let n=new function(){let e=this;this.widget=null,this.timer=null,this.apiKey=!(window.location.origin.includes("127.0.0.1:5000")||window.location.origin.includes("localhost:5000")||window.location.origin.includes("bs-local.com:5000"))?"pk_live_j7q3Dr7Abe2EP9AVh2kdxooL00WhGGuhj1":"pk_test_yweSYjexPLmPMCxb6sniiare00wKgLkhYV",this.start=async function(){e.widget=Stripe(e.apiKey)},this.addScript=function(){be("script",{src:"https://js.stripe.com/v3/",parent:document.querySelector("body")})},this.alreadyInit=function(){return"undefined"!=typeof Stripe},this.wait=function(){return new Promise(function(t,n){e.timer=setInterval(function(){if(e.alreadyInit())return clearInterval(e.timer),t()},50)})},this.init=async function(){e.alreadyInit()||e.addScript(),await e.wait(),await e.start()}};await n.init(),e.isMember&&(e.data.loggedIn=!0),e.data.currency=e.currency.id;let a=await ge("POST","/membership/subscribe",e.data);a.result.id;a.result.id?await n.widget.redirectToCheckout({sessionId:a.result.id}):window.location.href=a.result}catch(e){console.log(e),t.target.classList.remove("loading"),new oe("error",e).send()}},this.stylize=function(){F(e.styling,e.className)},this.createSubscribeButton=function(t){e.stylize(),be("button",e.className+"-main-btn lggedot",{parent:t,html:'<i class="feather feather-lock"></i>'+j("becomeAMember"),click:e.subscribe})},this.manageMembership=function(t){e.stylize();let n=e.isSubscribed?"myMembership":"activateMembership",a=e.isSubscribed?e.manage:e.subscribe,i=e.isSubscribed?"feather feather-edit-2":"feather feather-shopping-cart";be("button",e.className+"-main-btn "+(e.isSubscribed ? 'subd': 'lggedot'),{html:'<i class="'+i+'"></i>'+j(n),parent:t,click:a})},this.alreadyMember=function(t,n){e.stylize();let a=e.isMember,i=a?j("loggedInAs")+" "+e.data.email:j(n?"noAccount":"alreadyMember"),o=j(a?"logOut":n?"becomeAMember":"signIn"),r=a?e.logout:n?e.subscribe:e.signIn,s=be("div",e.className+"-already-member",{html:"<span>"+i+"</span>",parent:t});return be("span",e.className+"-already-member-link",{click:r,text:o,parent:s}),s},this.memberSuccess=function(){let t=e.modal(j("thanks")+" &#x1F64F;",!0,!0),n=j("appreciationToken").replace("{A}",'<a href="'+window.location.origin+'/api">API</a>');be("div",e.className+"-large-emoji",{parent:t,html:"&#x1F64F;"}),be("div",{parent:t,html:j("appreciateSupport")+" "+n}),be("button",e.className+"-main-btn",{parent:t,html:'<i class="feather feather-arrow-left"></i>'+j("backToApp"),click:e.reloadPage})},this.subscribe=function(){e.newModal("signup")},this.signIn=function(){e.newModal("login")},this.apiModal=function(){new function(){let e=this;this.className="api-modal",this.defaultKey="become-a-member-to-generate-an-api-key",this.styling="\n\t\t."+e.className+"-api-key{display:flex;flex-direction:column;margin-top:50px;}\n\t\t."+e.className+" code{    display: flex; justify-content: center;text-align:center;}\n\t\t."+e.className+' code > span:empty:after{content: "Loading..."}\n\t\t.'+e.className+" code.blurred{pointer-events:none;}\n\t\t."+e.className+" code.blurred:hover{border:1px solid var(--main);}\n\t\t."+e.className+' code.blurred:after{content: "\\f023";font-family:"FontAwesome"}\n\t\t.'+e.className+" code.blurred > span:first-child{filter:blur(4px);}\n\t",this.getKey=async function(t){try{let n=await ge("POST","/membership/api-key",{reset:t});return n.result}catch(t){return new oe("error",t).send(),e.defaultKey}},this.getApiKey=async function(){return await b.ready(),b.isSubscribed?await e.getKey(!1):e.defaultKey},this.reload=async function(){window.location.href=window.location.origin},this.init=async function(){await b.ready(),F(e.styling,e.className),e.element=b.modal("COVID-19 API",!0,!0),e.element.classList.add(e.className);let t=j("apiKeyDesc").replace("{1}","<a href="+window.location.origin+"/signup>"+j("becomeAMemberAlt")+"</a>").replace("{2}",'<a target="_blank" href="https://www.notion.so/coronavirus/Covid-19-Coronavirus-API-d1ce9d47e64c473bbc9a034661477e84">'+j("apiDocumentation")+"</a>");be("span",{parent:e.element,html:t});let n=be("div",e.className+"-api-key",{parent:e.element});be("label",{html:j("apiKey"),parent:n});let a=be("code",{parent:n}),i=be("span",{parent:a}),o=await e.getApiKey(),r=o===e.defaultKey;r?a.classList.add("blurred"):a.classList.remove("blurred"),i.innerHTML=o,r||a.addEventListener("click",function(){new se(o),new oe("success",j("copiedClipboard")).send()})},this.init()}},this.modals=[{id:"signup",component:e.subscribeModal},{id:"login",component:e.loginModal},{id:"reset-password",component:e.resetPasswordModal},{id:"modify-password",component:e.modifyPasswordModal},{id:"thanks",component:e.memberSuccess},{id:"api",component:e.apiModal}],this.newModal=async function(t){if (t==="signup"){return;} let n=e.modals.find(e=>e.id===t);n&&(h.setUrl(window.location.origin+"/"+n.id),n.component())},this.captureResetToken=function(){e.resetToken=h.getParam("token")||null},this.findCurrency=function(){let t=document.getElementById("supported-currencies").innerHTML;e.currencies=JSON.parse(t);let n=p.getCountry(),a=e.currencies[0];e.currencies.forEach(function(e){e.countries&&e.countries.includes(n)&&(a=e)}),e.currency=a,e.data.amount=e.currency.def},this.init=async function(){e.findCurrency(),e.captureResetToken(),F(e.styling,e.className),await e.retrieve()},this.init()},y=new function(){let e=this;this.embedded=!!h.getParam("embed"),this.countries=m,this.all=[],this.places=[],this.reports=[],this.persons=[],this.config={infected:{name:function(){return j("infected")},color:"rgba(255, 65, 108, 1)",bg:"rgba(255, 65, 108, 0.1)",middle:"rgba(255, 65, 108, 0.75)"},dead:{name:function(){return j("dead")},color:"rgba(134, 67, 230, 1)",bg:"rgba(134, 67, 230, 0.1)",middle:"rgba(134, 67, 230, 0.65)"},recovered:{name:function(){return j("recovered")},color:"rgba(97, 206, 129, 1)",bg:"rgba(97, 206, 129, 0.1)",middle:"rgba(97, 206, 129, 0.65)"},sick:{name:function(){return j("sick")},color:"rgba(40, 110, 255, 1)",bg:"rgba(40, 110, 255, 0.1)",middle:"rgba(40, 110, 255, 0.65)"},vaccinated:{name:function(){return j("vaccinated")},color:"rgba(228, 169, 0, 1)",bg:"rgba(228, 169, 0, 0.1)",middle:"rgba(228, 169, 0, 0.65)"}},this.init=async function(){e.loading=new te,e.loading.render(),await e.get(),e.loading.remove(),T&&T.rerender()},this.get=async function(){await Promise.all([e.getLatest(),e.getCheckpoints()])},this.getLatest=async function(){e.places=await u.getPlaces(),e.countries.updateCoordinates(e.places)},this.getCheckpoints=async function(t){e.checkpoints=await u.getCheckpoints()},this.getMostRecentCheckpoint=function(){let t=e.checkpoints||[],n=null;return t.forEach(function(e){if(e.hide)return;n||(n=e);let t=moment(e.id).isAfter(moment(n.id));t&&(n=e)}),n||{}},this.calculate=function(t){let n=0,a=e.getMostRecentCheckpoint();return(n=parseFloat(a[t]))||(n=0),n},this.getPlaceById=function(t){return e.places.find(e=>e.id===t)},this.dead=function(){return e.getMostRecentCheckpoint().dead},this.infected=function(){return e.getMostRecentCheckpoint().infected},this.recovered=function(){return e.getMostRecentCheckpoint().recovered},this.vaccinated=function(){return e.getMostRecentCheckpoint().vaccinated},this.sick=function(){return e.getMostRecentCheckpoint().sick},this.getAffected=function(t,n){let a=[...e.places];return a.sort(I(t)),n&&a.reverse(),a},this.lastUpdated=function(t){let n=null;return t.forEach(function(t){if(!n)return void(n=t.lastUpdated);let a=t.lastUpdated;if(a){let t=e.compare(a,n),i=moment(a).isAfter(moment());t&&!i&&(n=a)}}),n},this.compare=function(e,t){return!(!moment(e).isValid()||!moment(t).isValid())&&moment(e).isAfter(moment(t))},this.countriesAffected=function(e,t){let n=[];return t.forEach(function(e){let t=n.find(t=>t.id===e.country),a=parseInt(e.infected||0),i=parseInt(e.sick||0),o=parseInt(e.dead||0),r=parseInt(e.recovered||0);"number"==typeof a&&(t?(t.infected+=a,t.recovered+=r,t.dead+=o,t.sick+=i):n.push({id:e.country,infected:a,recovered:r,dead:o,sick:i}))}),n.sort(I(e)),n.reverse(),n},this.matchSearch=function(t,n){if(!n&&t.isMaster)return!0;if(!n&&t.isSub)return!0;if(!n&&!t.isMaster&&!t.isSub)return!0;let a=ee(n),i=ee(t.name),o=ee(e.countries.name(t.country)),r=e.countries.findByName(a);return(!r||o===a)&&(!(!r||t.country!==t.id)||!!(!a||o.includes(a)||a.includes(i)||a.includes(o)||i.includes(a))&&(!(!a&&t.isSub)&&(a&&t.isMaster,!0)))},this.calculateNew=function(t,n){if(t&&t.history){let e=t.history,a=moment.utc().startOf("day"),i=moment.utc().diff(a,"hours"),o=i>18,r=moment().utc().format("YYYYMMDD"),s="",l=e.findIndex(e=>e.day===r);if(l<0){if(!e[e.length-1]||!e[e.length-2])return 0;s=e[e.length-1][n]-e[e.length-2][n]}else{let t=e[l-1]?e[l][n]-e[l-1][n]:e[l][n],a=e[l-2]?e[l-1][n]-e[l-2][n]:e[l][n];s=t,!o&&t<=.3*a&&(s=a),o||0!==t||(s=a)}return!s||s<0?0:s||0}if(e.checkpoints){let t=e.checkpoints[0][n]-e.checkpoints[1][n];return t<0?0:t}return 0}},v=new function(){let e=this;this.countries=m,this.modes={infected:{name:y.config.infected.name,color:y.config.infected.color},dead:{name:y.config.dead.name,color:y.config.dead.color},recovered:{name:y.config.recovered.name,color:y.config.recovered.color},sick:{name:y.config.sick.name,color:y.config.sick.color},vaccinated:{name:y.config.vaccinated.name,color:y.config.vaccinated.color}},this.zoom=function(){return w&&w.content&&w.content.zoom?w.content.zoom:4},this.worldBounds=[0,5,100,500,2e3,5e3,1e4,2e4,5e4,1e5,25e4,5e5,1e6,5e6,1e7],this.config={bounds:e.worldBounds,sizes:[0,4,6,8,10,12,15,18,20,22,23,26,40,52,55,55,55,55,55],infected:["#fff","#ffffe4","#fdefd4","#fedccc","#fec7c3","#ffb2bb","#fe6d8e","#fd5078","#f33863","#da375d","#c03656","#8c3448","#713341","#533139","#303030","#000","#000","#000"],dead:["#fff","#e0d3f1","#d9c3f5","#d4b2ff","#c79aff","#b981ff","#b376ff","#8e60ff","#8949de","#7d37da","#812ef1","#771df1","#7b19ff","#6d0fea","#6007d8","#5409b9","#3f0192","#360775"],sick:["#fff","#d9e5fb","#d0dffb","#bfd5ff","#a4c3ff","#82acfd","#74a1f9","#5a90f9","#4d89ff","#3579ff","#397af7","#2972ff","#145eef","#195ad8","#0e4fce","#0044c7","#043aa2","#05338a","#022871"],recovered:["#fff","#d8ecdf","#d5ffe4","#bef9d3","#a7ffc6","#88fdb1","#9cefb8","#79efa1","#5cf18f","#3bf57b","#28e669","#24ff6f","#2ad08b","#25d089","#1ad688","#18ca80","#0fbf8e","#05ad7e"],vaccinated:["#fff","#f3ef7c","#eae66c","#ece866","#e0dc5a","#d6d24d","#d6d242","#d6d235","#d0cc2b","#d0b42b","#d0b220","#ccac14","#ccaa0b","#cc9a0b","#d2790a","#d47805","#c16d02","#c14002"]},this.createPlaceFeature=function(t,n,a,i){let o=e.getPlaceStyle(t,n,a,e.zoom());return i&&n?L.geoJSON(i,o):L.circleMarker([t.latitude,t.longitude],o)},this.isShowable=function(t,n,a){let i=e.countries.zoom(t.country)||5;return!t.invisible&&(!!t[a]&&(!!t.alwaysShow||!(t.isMaster&&n>=i)&&!(t.isSub&&n<i)))},this.bubbleIndicator=function(t,n,a){let i=parseFloat(t||0),o=e.config,r=-1,s=e.worldBounds;return s.forEach(function(e,t){r>-1||(i!==e?i>e&&i<s[t+1]?r=t:i>e&&!s[t+1]&&(r=t):r=t)}),o[n][r]},this.getPlaceStyle=function(t,n,a,i){a=de(a,"mode");let o=t&&t[a]?t[a]:0,r=!0,s=e.modes[a].color,l=s,c=e.bubbleIndicator(o,"sizes",!(!t||!t.isSub)&&t.isSub),d=.2,u=2,m=!0;if(n){let t=e.bubbleIndicator(o,a);s=t,d="var(--zoneOpacity)",u=2,r=2,l="#fff"===t?"#a9a9a9":t,o||(u=1)}else n||e.isShowable(t,i,a)||(d=0,u=0,r=0,l="transparent",s="transparent",m=!1,c=0);let p={place:t,color:l,show:m,radius:c,fillColor:s,fillOpacity:d,weight:u,stroke:r};return p},this.getTileConfig=function(e,t){let n=[{countries:[""],url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attributions:[{link:"https://openstreetmap.org/copyright",name:"&copy; OpenStreetMap contributors"}]},{countries:["DE","AT","LI"],url:"https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",attributions:[{link:"https://openstreetmap.org/copyright",name:"&copy; OpenStreetMap contributors"},{link:"https://www.openstreetmap.de/",name:"&copy; OpenStreetMap - Deutschland"}]},{countries:["FR","BE","LU","CD"],url:"https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",attributions:[{link:"https://openstreetmap.org/copyright",name:"&copy; OpenStreetMap contributors"},{link:"https://www.openstreetmap.fr/",name:"&copy; OpenStreetMap - France"}]}];n.forEach(function(e){e.attributions.push({link:"https://progressier.com",name:"Powered by Progressier"})});let a=n.find(e=>e.countries.includes(p.getCountry()))||n[0];if(e&&!t)return{url:"",attribution:""};t&&(a=n[3]);let i="";return a.attributions.forEach(function(e){e.before&&(i+=e.before+" "),i+='<a href="'+e.link+'" target="_blank"/>'+e.name+"</a>"}),t?{url:"",attribution:""}:{url:a.url,attribution:i}},this.showTooltip=function(t){if(window.innerWidth<991)return"";let n=ve(".map-tooltip");n.forEach(function(e){e.remove()});let a=t.infected,i=t.dead,o=t.recovered,r=(t.sick,t.vaccinated);e.tooltip=be("div",["map-tooltip","Tooltip","main-map"],{parent:ye(".map")}),be("img",{parent:e.tooltip,src:e.countries.flag(t.country,t.state)});let s=be("div","map-tooltip-title",{parent:e.tooltip});be("div",{text:t.name,parent:s});if(t.infected){let n=be("div","map-tooltip-new",{parent:e.tooltip});u.getHistory(t.id).then(function(e){let t=y.calculateNew(e,"infected");t&&(n.textContent="+"+le(t))})}return a&&be("div",["map-tooltip-line","infected"],{parent:e.tooltip,html:"<span>"+le(a)+"</span><span>"+j("infected")+"</span>"}),r&&b.isMember&&be("div",["map-tooltip-line","vaccinated"],{parent:e.tooltip,html:"<span>"+le(r)+"</span><span>"+j("vaccinated")+"</span>"}),o&&be("div",["map-tooltip-line","recovered"],{parent:e.tooltip,html:"<span>"+le(o)+"</span><span>"+j("recovered")+"</span>"}),i&&be("div",["map-tooltip-line","dead"],{parent:e.tooltip,html:"<span>"+le(i)+"</span><span>"+j("dead")+"</span>"}),e.tooltip}};let w=new B;const k=new function(){this.logo=staticAssetsPrefix+"/img/512.png"};let T=null,P=null,R=null,C=window.location.pathname.split("/");switch(C[1]){case"admin":y.init(),P=new function(){let e=this;this.loggedin=!1,this.console=null,this.isLoggedIn=function(t){return new Promise(function(n,a){ge("POST","/verify-identity",{password:t}).then(function(){return e.loggedin=!0,n()}).catch(function(){return e.loggedin=!1,n()})})},this.prompt=async function(){let t=prompt("Please enter the password");await e.isLoggedIn(t),e.loggedin||alert("wrong password")},this.init=async function(){await e.isLoggedIn(),e.loggedin||await e.prompt(),e.loggedin&&e.start()},this.start=function(){e.console=new function(){let e=this;this.selector="#mainContainer",this.places=[],this.checkpoints=[],this.reports=[],this.editing={dataType:null,id:null},this.temp=null,this.placePage=0,this.reportPage=0,this.checkpointPage=0,this.reportNumberPerQuery=500,this.reportStartAt=null,this.pageNumber=function(t){switch(t){case"reports":return e.reportPage;case"places":return e.placePage;case"checkpoints":return e.checkpointPage}},this.itemsPerReportPage=10,this.itemsPerPlacePage=10,this.itemsPerCheckpointPage=5,this.itemsPerPage=function(t){switch(t){case"reports":return e.itemsPerReportPage;case"places":return e.itemsPerPlacePage;case"checkpoints":return e.itemsPerCheckpointPage}},this.other=null,this.perPageOptions=[5,10,20,30,40,50,60,70,80,90,100],this.countries=function(){let e=m.list,t=[];return e.forEach(function(e){t.push({id:e.code,name:e.name})}),t},this.sections={checkpoints:{actions:{type:"buttons",buttons:["edit"]},id:{type:"string",disabled:!0},hide:{type:"boolean"},infected:{type:"number"},dead:{type:"number"},recovered:{type:"number"},vaccinated:{type:"number"},createdAt:{type:"date",disabled:!0}},places:{actions:{type:"buttons",buttons:["edit","fetch","history"]},id:{type:"string",disabled:!0},hide:{type:"boolean"},country:{type:"select",data:function(){return e.countries()}},pop:{type:"number"},name:{type:"string"},longitude:{type:"number"},latitude:{type:"number"},state:{type:"string"},invisible:{type:"boolean"},alwaysShow:{type:"boolean"},latestReport:{type:"date",disabled:!0},createdAt:{type:"date",disabled:!0}},reports:{actions:{type:"buttons",buttons:["edit"]},id:{type:"string",disabled:!0},hide:{type:"boolean"},placeId:{type:"select",data:function(){return e.places}},infected:{type:"number"},dead:{type:"number"},recovered:{type:"number"},date:{type:"date"},createdAt:{type:"date",disabled:!0}}},this.getCheckpoints=async function(){let t=await ge("GET","/get-checkpoints");e.checkpoints=t.data||[]},this.saveCheckpoint=async function(e){await ge("POST","/update-checkpoint",e)},this.updateCheckpoint=async function(){if("checkpoints"!==e.temp.dataType)return;if(!e.temp.id)return;let t=e.checkpoints.findIndex(t=>t.id===e.temp.id),n=e.checkpoints[t],a=!0===e.temp.hide||!1===e.temp.hide?e.temp.hide:n.hide,i={createdAt:e.temp.createdAt||n.createdAt,infected:e.temp.infected||n.infected,dead:e.temp.dead||n.dead,recovered:e.temp.recovered||n.recovered,vaccinated:e.temp.vaccinated||n.vaccinated,id:e.temp.id,hide:a};e.checkpoints[t]=i,e.saveCheckpoint(i),e.rerender("checkpoints")},this.makeCheckpoint=function(t){let n=[];e.places.forEach(function(a){let i=[];e.reports.forEach(function(e){e.hide||e.placeId===a.id&&i.push(e)}),i.sort(I("date")),i.reverse();for(let e=0;e<i.length;e++){let a=moment(i[e].date).utc().format("YYYYMMDD");if(a===t){n.push(i[e]);break}}});let a={infected:0,dead:0,recovered:0};return n.forEach(function(e){Object.keys(a).forEach(function(t){e[t]&&"number"==typeof e[t]&&e[t]>0&&(a[t]+=e[t])}),a.createdAt=e.date}),a},this.getMoreReports=function(){e.sort("reports","date"),e.reportStartAt=e.reports[e.reports.length-1].date,e.get("reports")},this.toggleEditing=function(t,n){e.editing.dataType=t,e.editing.id=n,e.render()},this.sort=function(t,n){e[t].sort(I(n)),e[t].reverse(),e.rerender(t)},this.create=async function(t){let n={dataType:t},a=await ge("POST","/add-data",n);return e[t].unshift(a),e.toggleEditing(t,a.id),e.rerender(t),a.id},this.get=async function(t){let n={dataType:t};"reports"===t&&(n.startAt=e.reportStartAt,n.limit=e.reportNumberPerQuery);let a=await ge("POST","/get-data",n);e.pushEntities(t,a.data),e.sort(t,"createdAt")},this.pushEntities=async function(t,n){n.forEach(function(n){let a=e[t].findIndex(e=>e.id===n.id);a>-1?e[t][a]=n:e[t].push(n)})},this.save=async function(){if(!e.temp||!e.temp.id)return void e.discard();"checkpoints"===e.temp.dataType?e.updateCheckpoint():await ge("POST","/update-data",e.temp);let t=e[e.temp.dataType].findIndex(t=>t.id===e.temp.id);if(t>-1)for(var n in e.temp)e[e.temp.dataType][t][n]=e.temp[n];e.discard()},this.update=async function(t,n,a){for(var i in e.temp||(e.temp={}),t)e.temp[i]=t[i];e.temp.id=a,e.temp.dataType=n},this.discard=function(){e.toggleEditing(null,null),e.temp=null,e.render()},this.remove=async function(t,n){let a=confirm("Are you sure you want to delete this?");if(!a)return void e.discard();await ge("POST","/delete-data",{dataType:n,id:t});let i=e[n].findIndex(e=>e.id===t);i>-1&&e[n].splice(i,1),e.discard()},this.renderTableHeader=function(t,n){let a=be("tr");t.appendChild(a);for(let t in e.sections[n]){let i=be("th");i.classList.add(e.sections[n][t].type),i.textContent=t,i.addEventListener("click",function(){e.sort(n,t)}),a.appendChild(i)}},this.renderSection=function(t,n){if(!n)return;n.innerHTML="";let a=be("div");if(a.textContent=t,a.classList.add("console-section-title"),n.appendChild(a),"checkpoints"!==t&&"reports"!==t){let n=be("i");n.classList.add("feather","feather-plus-circle"),(e.editing.dataType||e.editing.id)&&n.classList.add("disabled"),n.addEventListener("click",function(){e.create(t)}),a.appendChild(n)}let i=be("table");n.appendChild(i),e.renderTableHeader(i,t),e.renderTableRows(i,t),e.renderPageList(n,t),e.renderItemPerPageSelector(n,t)},this.placeHistoryModal=function(t){let n=e.places.find(e=>e.id===t);new function(e,t){let n=this;this.placeData=e,this.data=[],this.onClose=t,this.id=n.placeData.id,this.active=null,this.element=null,this.container=null,this.limit=10,this.columns={id:{type:"string",disabled:!0},hide:{type:"boolean"},infected:{type:"number"},dead:{type:"number"},recovered:{type:"number"},vaccinated:{type:"number"},date:{type:"date"}},this.sort=function(){n.data.sort(I("date")),n.data.reverse()},this.getData=async function(){let e=await ge("POST","/get-all-reports-by-place",{id:n.id,limit:n.limit});n.data=e.data,n.sort()},this.remove=function(){n.element.remove(),n.onClose()},this.make=function(){n.element=be("div","backdrop",{parent:ye("body")});let e=be("div","admin-history-modal",{parent:n.element});be("i","admin-history-modal-x feather feather-x",{click:n.remove,parent:e}),be("h3","admin-history-modal-title",{text:n.placeData.name,parent:e}),be("button","admin-history-modal-btn",{text:"New report",parent:e,click:async function(){e.classList.add("unclickable"),await n.create(),e.classList.remove("unclickable")}});be("button",{parent:e,style:"position:absolute;left:10px;",text:"Get all",click:async function(){n.limit=2e3,await n.getData(),n.render()}}),n.container=be("div","admin-history-modal-container",{parent:e})},this.setActiveReport=function(e){n.active=e,ve(".admin-history-report-row").forEach(function(t){let n=t.getAttribute("data-report-id");n===e?t.classList.add("active"):t.classList.remove("active")})},this.render=function(){n.container.innerHTML="";let e=be("table",{parent:n.container}),t=be("tr",{parent:e});for(let e in n.columns)be("th",{text:e,parent:t});n.data.forEach(function(t){let a=be("tr","admin-history-report-row",{parent:e,"data-report-id":t.id,click:function(){n.setActiveReport(t.id,a)}});for(let e in n.columns){let i=n.columns[e].type,o=be("td",{parent:a,"data-type":i}),r=null;switch(i){case"string":r=n.makeString(t.id,e,t[e]);break;case"number":r=n.makeNumber(t.id,e,t[e]);break;case"boolean":r=n.makeBoolean(t.id,e,t[e]);break;case"date":r=n.makeDate(t.id,e,t[e])}r&&o.appendChild(r)}})},this.update=async function(e,t,a){let i={dataType:"reports",id:e,[t]:a},o=n.data.find(t=>t.id===e);o[t]=a,n.sort(),n.render(),await ge("POST","/update-data",i)},this.makeString=function(e,t,a){let i=be("input",{type:"text",value:a||""}),o=n.columns[t].disabled;return o&&i.classList.add("disabled"),i},this.verifyNumber=function(e,t,a){a=parseInt(a||0);let i=n.data.findIndex(t=>t.id===e);if(i<0)return!0;let o=n.data[i-1],r=n.data[i+1];return!(o&&(o[t]||0)<a)&&!(r&&(r[t]||0)>a)},this.makeNumber=function(e,t,a){let i=be("input",{type:"number"}),o=n.verifyNumber(e,t,a);return o||i.classList.add("invalid"),i.value=parseFloat(a)||0,i.addEventListener("change",function(a){let o=parseInt(a.target.value),r=n.verifyNumber(e,t,o);r?(i.classList.remove("invalid"),n.update(e,t,o)):i.classList.add("invalid")}),i},this.makeBoolean=function(e,t,a){let i=be("div"),o=me(22),r=be("input",{parent:i,id:o,type:"checkbox"});return r.checked=!!a,r.addEventListener("change",function(a){n.update(e,t,a.target.checked)}),be("label",{for:o,parent:i}),i},this.makeDate=function(e,t,a){let i=be("div"),o=moment().utcOffset(),r=me(20),s=be("input",{type:"date",value:a?moment(a).utc().format("YYYY[-]MM[-]DD"):"",id:r,max:moment().utc().format("YYYY[-]MM[-]DD"),min:"2020-01-20"});s.addEventListener("keydown",function(e){e.preventDefault(),e.stopPropagation()});let l=n.columns[t].disabled;return l?i.classList.add("disabled"):s.addEventListener("change",function(a){let i=moment(a.target.value).add(o,"minutes").toISOString(),r=moment(),s=moment(i).isAfter(r);s&&(i=r.toISOString()),i=moment.utc(i).startOf("day").add(5,"minutes").toISOString(),n.update(e,t,i)}),i.appendChild(s),i},this.create=async function(){let e=await ge("POST","/add-data",{dataType:"reports"});e.placeId=n.id,n.data.unshift(e),n.sort(),n.update(e.id,"placeId",e.placeId),n.render(),n.setActiveReport(e.id)},this.init=async function(){n.make(),await n.getData(),n.render()},this.init()}(n,e.render)},this.renderItemPerPageSelector=function(t,n){let a=be("div");a.classList.add("per-page-picker"),t.appendChild(a);let i=be("span");i.textContent="Results per page",a.appendChild(i);let o=be("select");o.addEventListener("change",function(t){let a=parseInt(t.target.value);"reports"===n?e.itemsPerReportPage=a:"places"===n?e.itemsPerPlacePage=a:"checkpoints"===n&&(e.itemsPerCheckpointPage=a),e.rerender(n)}),a.appendChild(o),e.perPageOptions.forEach(function(t){let a=be("option");a.setAttribute("value",t),a.textContent=t,("reports"===n&&t===e.itemsPerReportPage||"places"===n&&t===e.itemsPerPlacePage||"checkpoints"===n&&t===e.itemsPerCheckpointPage)&&a.setAttribute("selected","true"),o.appendChild(a)})},this.makeButtons=function(t,n,a,i,o){let r=be("span");r.classList.add("console-button-cell");let s=n.buttons,l=e.editing.dataType===a&&e.editing.id===o;if(s.includes("delete")){let t=be("i");t.classList.add("feather","feather-trash"),t.addEventListener("click",function(){e.remove(o,a)}),r.appendChild(t),new ae(t,"Delete")}if(s.includes("fetch")){let t=be("i");t.classList.add("feather","feather-file-plus"),t.addEventListener("click",function(){e.openRegionModal(o)}),r.appendChild(t),new ae(t,"New report for this region")}if(s.includes("history")){let t=be("i");t.classList.add("feather","feather-list"),t.addEventListener("click",function(){e.placeHistoryModal(o)}),r.appendChild(t),new ae(t,"New report for this region")}if(s.includes("edit")&&l){let t=be("i");t.classList.add("feather","feather-check"),t.addEventListener("click",function(){let t=confirm("If you press OK, your changes will be saved. Else, they'll be cancelled.");t?e.save():e.discard()}),r.appendChild(t),new ae(t,"Confirm")}if(s.includes("edit")&&!l){let t=be("i");t.classList.add("feather","feather-edit-2"),t.addEventListener("click",function(){e.toggleEditing(a,o)});let n=e.editing.dataType&&e.editing.id&&(e.editing.dataType!==a||e.editing.id!==o);n&&t.classList.add("disabled"),r.appendChild(t),new ae(t,"Manually edit")}return r},this.renderTableRow=function(t,n,a){let i=be("tr");n.appendChild(i);let o=e.editing.dataType===t&&e.editing.id===a.id;if(o&&i.classList.add("editable"),"places"===t){let e=moment().diff(moment(a.latestReport),"minutes");e<60&&(i.style.background="#89ff89")}for(var r in"checkpoints"===t&&moment().utc().format("YYYYMMDD")==a.id&&i.classList.add("disabled"),e.sections[t])e.renderTableCell(t,r,i,a)},this.renderTableCell=function(t,n,a,i){let o=be("td");o.classList.add(e.sections[t][n].type),e.sections[t][n].disabled&&o.classList.add("disabled","disabled"),a.appendChild(o);let r=null;switch(e.sections[t][n].type){case"string":r=e.makeString(i[n],e.sections[t][n],t,n,i.id);break;case"select":r=e.makeSelect(i[n],e.sections[t][n],t,n,i.id);break;case"number":r=e.makeNumber(i[n],e.sections[t][n],t,n,i.id);break;case"boolean":r=e.makeBoolean(i[n],e.sections[t][n],t,n,i.id);break;case"date":r=e.makeDate(i[n],e.sections[t][n],t,n,i.id);break;case"buttons":r=e.makeButtons(i[n],e.sections[t][n],t,n,i.id)}o.appendChild(r)},this.renderTableRows=function(t,n){let a=e.pageNumber(n)*e.itemsPerPage(n),i=a+e.itemsPerPage(n);for(let o=a;o<i;o++){let a=e[n][o];if(!a)break;e.renderTableRow(n,t,a)}},this.renderSections=function(){for(let t in e.sections){let n=t+"Node";e[n]=be("div"),e[n].classList.add("console-section"),e.element.appendChild(e[n]),e.renderSection(t,e[n])}},this.renderPageList=function(t,n){let a=be("div");a.classList.add("console-page-list"),t.appendChild(a);let i=e[n].length/e.itemsPerPage(n);for(let t=0;t<i;t++){let i=t.toString(),o=be("div");o.classList.add("console-page-item"),"reports"===n&&e.reportPage===t?o.classList.add("disabled"):"places"===n&&e.placePage===t?o.classList.add("disabled"):"checkpoints"===n&&e.checkpointPage===t&&o.classList.add("disabled"),o.textContent=i,o.addEventListener("click",function(){e.changePage(i,n)}),a.appendChild(o)}if("reports"===n){let t=be("div");t.textContent="Load more",t.classList.add("console-page-item"),t.addEventListener("click",e.getMoreReports),t.style.width="100px",a.appendChild(t)}},this.renderConsole=function(){let t=ye(e.selector);t.innerHTML="",e.element=be("section"),e.element.classList.add("console"),t.appendChild(e.element)},this.render=function(){e.renderConsole(),e.renderSections()},this.rerender=function(t){switch(t){case"reports":e.renderSection(t,e.reportsNode);break;case"places":e.addLatestReportIntoRegion(),e.renderSection(t,e.placesNode);break;case"checkpoints":e.renderSection(t,e.checkpointsNode)}},this.changePage=function(t,n){if("reports"===n)e.reportPage=parseInt(t);else if("places"===n)e.placePage=parseInt(t);else{if("checkpoints"!==n)return;e.checkpointPage=parseInt(t)}e.rerender(n)},this.makeString=function(t,n,a,i,o){let r=be("input");return r.setAttribute("type","text"),r.value=t||"",r.addEventListener("keyup",function(t){e.update({[i]:t.target.value},a,o)}),r},this.makeSelect=function(t,n,a,i,o){let r=be("select");if(!n.data())throw"You must specify a data option for the select option";r.addEventListener("change",function(t){e.update({[i]:t.target.value},a,o)});let s=!1;n.data().forEach(function(e){let n=be("option");n.setAttribute("value",e.id),n.setAttribute("label",e.name||e.id),e.id===t&&(s=!0,n.setAttribute("selected","selected")),r.appendChild(n)});let l=be("option");return l.setAttribute("value",""),l.setAttribute("label",""),s||l.setAttribute("selected","selected"),r.appendChild(l),r},this.makeNumber=function(t,n,a,i,o){let r=be("input");r.setAttribute("type","number");let s=t||0;return n.data&&"function"==typeof n.data&&(s=n.data(o)),r.value=s,r.addEventListener("change",function(t){e.update({[i]:parseFloat(t.target.value)},a,o)}),r},this.makeBoolean=function(t,n,a,i,o){let r=be("div"),s=me(22),l=be("input");l.setAttribute("type","checkbox"),l.setAttribute("id",s),l.checked=!!t,l.addEventListener("change",function(t){e.update({[i]:t.target.checked},a,o)}),r.appendChild(l);let c=be("label");return c.setAttribute("for",s),r.appendChild(c),r},this.makeDate=function(t,n,a,i,o){let r=be("div"),s=me(20),l=be("input");return l.setAttribute("type","datetime-local"),l.setAttribute("id",s),l.value=t?t.slice(0,16):"",l.addEventListener("change",function(t){let n=moment(t.target.value).toISOString();e.update({[i]:n},a,o)}),r.appendChild(l),r},this.init=async function(){await e.downloadAll(),e.addLatestReportIntoRegion(),e.render()},this.downloadAll=async function(){await Promise.all([e.get("places")])},this.openRegionModal=function(t){e.reports.sort(I("date")),e.reports.reverse();let n=e.places.find(e=>e.id===t),a=e.reports.find(e=>e.placeId===t)||{},i={infected:parseInt(a.infected||0),dead:parseInt(a.dead||0),recovered:parseInt(a.recovered||0)};e.newReportModal=be("div"),e.newReportModal.classList.add("backdrop"),ye("body").appendChild(e.newReportModal);let o=be("div");o.classList.add("modal"),e.newReportModal.appendChild(o);let r=be("div");r.classList.add("admin-console-modal-titles"),o.appendChild(r);let s=be("h4");s.textContent="Create new report",r.appendChild(s);let l=be("p");l.textContent=n.name,r.appendChild(l);let c=be("div");c.classList.add("admin-console-modal-numbers"),o.appendChild(c);let d=function(e,t){let n="",o="",r=e.target.parentNode;a[t]>e.target.value?o=t+" cannot be less than in the previous report":a.infected>i.infected||a.dead>i.dead||a.recovered>i.recovered?o="All fields must be higher than the previous report":i.dead+i.recovered>i.infected?o="Dead + Recovered cannot be superior to Infected":i[t]<0?o=t+" cannot be negative":i[t]>20&&i[t]>2*a[t]&&(n="This is a lot more than the latest report. Please double check this is correct"),o?(r.setAttribute("data-error",o),r.removeAttribute("data-warning"),p.classList.add("disabled")):n?(r.setAttribute("data-warning",n),r.removeAttribute("data-error"),p.classList.remove("disabled")):(r.removeAttribute("data-error"),r.removeAttribute("data-warning"),p.classList.remove("disabled"))};for(let e in i){e.toString();let t=be("div");t.classList.add("admin-console-modal-sec"),c.appendChild(t);let n=be("div");n.classList.add("admin-console-modal-sec-title"),n.textContent=e,t.appendChild(n);let a=be("input");a.setAttribute("type","number"),a.value=i[e],a.addEventListener("input",function(t){i[e]=parseInt(t.target.value),d(t,e)}),t.appendChild(a);let o=be("div");t.appendChild(o);let r=be("div");r.textContent="Latest:"+i[e],o.appendChild(r)}let u=be("div");u.classList.add("admin-console-modal-row"),o.appendChild(u);let m=be("button");m.textContent="Cancel",m.addEventListener("click",function(){e.newReportModal.remove()}),u.appendChild(m);let p=be("button");p.classList.add("disabled"),p.textContent="Create this report",p.addEventListener("click",function(n){e.createUpdateReport(n,t,i,a)}),u.appendChild(p)},this.createUpdateReport=async function(t,n,a,i){t.target.classList.add("disabled");let o=!(!i||!i.date)&&moment().utc().isSame(i.date,"day"),r="";r=o?i.id:await e.create("reports");let s=moment().toISOString();e.temp={id:r,infected:a.infected,dead:a.dead,recovered:a.recovered,hide:!1,placeId:n,date:s,dataType:"reports"},await e.save(),e.newReportModal.remove(),e.rerender("reports"),e.rerender("places")},this.addLatestReportIntoRegion=async function(){let t=[...e.reports];t.sort(I("date")),t.reverse(),e.places.forEach(function(e){let n=t.find(t=>t.placeId===e.id);n&&n.date&&(e.latestReport=n.date)})},this.init()}},this.init()};break;case"chart":R=new N("#mainContainer",C[2],C[3],!0,C[4]);break;default:y.init(),T=new G}function N(e,t,n,a,i){let o=this;this.selector=e,this.embedded=a,this.property=i,this.region=t,this.type=n,this.container=ye(o.selector),this.cookies=new pe,this.element=null,this.additional=null,this.canvas=null,this.reports=null,this.report=null,this.places=null,this.place=null,this.config=null,this.graph=null,this.allowSwitch=!0,this.allowSick=!0,this.casesDistribution=!1,this.daysToShow=7,this.cumulative=function(){return o.getCookie("benfordsLaw")||!1},this.render=async function(){if(o.canvas=be("canvas"),"new"===o.region&&"infected"===o.type)await o.globalNewCases();else if("new"===o.region&&"dead"===o.type)await o.globalNewCases();else if("new"===o.region&&"recovered"===o.type)await o.globalNewCases();else if("new"===o.region&&"sick"===o.type)await o.globalNewCases();else if("new"===o.region&&"vaccinated"===o.type)await o.globalNewCases();else if("evolution"===o.region&&"infected"===o.type)await o.globalEvolution();else if("evolution"===o.region&&"dead"===o.type)await o.globalEvolution();else if("evolution"===o.region&&"recovered"===o.type)await o.globalEvolution();else if("evolution"===o.region&&"sick"===o.type)await o.globalEvolution();else if("evolution"===o.region&&"vaccinated"===o.type)await o.globalEvolution();else if(o.region&&"infected"===o.type&&"new"===o.property)await o.countryNewCases();else if(o.region&&"dead"===o.type&&"new"===o.property)await o.countryNewCases();else if(o.region&&"recovered"===o.type&&"new"===o.property)await o.countryNewCases();else if(o.region&&"vaccinated"===o.type&&"new"===o.property)await o.countryNewCases();else if(o.region&&"sick"===o.type&&"new"===o.property)await o.countryNewCases();else if(o.region&&"infected"===o.type)await o.evolutionByCountry();else if(o.region&&"recovered"===o.type)await o.evolutionByCountry();else if(o.region&&"vaccinated"===o.type)await o.evolutionByCountry();else if(o.region&&"dead"===o.type)await o.evolutionByCountry();else if(o.region&&"sick"===o.type)await o.evolutionByCountry();else if(o.region&&"benford"===o.type)await o.benfordsLaw();else if("global"===o.region&&"distribution"===o.type)await o.globalCasesDistribution();else{if(!o.region||"distribution"!==o.type)throw"Unknown chart type";await o.countryCasesDistribution()}if(!o.config)return o.element.remove(),null;o.element.innerHTML="",o.element.appendChild(o.canvas),o.graph=new D(o.config)},this.getDaysToShow=function(e){o.daysToShow=!1;let t=o.getCookie(e,!0);switch(e){case"casesEvolution":o.daysToShow=!1;break;case"casesDistribution":case"infectedNew":o.daysToShow=!!t&&(parseInt(t)||7)}[!1,7,30,90].includes(o.daysToShow)||(o.daysToShow=!1)},this.makeThatTypes=function(e){let t=[],n=["infected"],a=["infected"];switch(e){case"casesEvolution":a=["infected"],t=o.getCookie(e)||a,n=["infected","dead","recovered","sick"];break;case"casesDistribution":a=["dead","recovered","sick"],t=["dead","recovered","sick"],n=["dead","recovered","sick"];break;case"infectedNew":a=["infected"],t=o.getCookie(e)||a,n=["infected","dead","recovered","sick"]}Array.isArray(t)||(t=a);let i=[];if(t.forEach(function(e){n.includes(e)&&i.push(e)}),!b.isMember){let e=i.indexOf("vaccinated");e>-1&&i.splice(e,1)}i.length<1&&(i=a),o.types=i},this.computeHeight=function(){if(!o.element)return 0;let e=o.element.closest(".section-el-chart");if(!e)return 0;let t=e.offsetHeight;return t||0},this.make=function(){let e=ye(o.selector);o.element=be("div","Embeddable-Chart",{parent:e});be("img","Embeddable-Chart-Loader",{parent:o.element,src:(new te).icon})},this.extractCheckpointNumber=function(e,t,n){if(!n)return;let a=null;switch(e){case"dead":a=parseInt(t.dead);break;case"recovered":a=parseInt(t.recovered);break;case"infected":a=parseInt(t.infected);break;case"sick":a=parseInt(t.sick);break;case"vaccinated":a=parseInt(t.vaccinated);break;default:throw"this type of chart ("+e+") is not supported"}a&&"number"==typeof a&&n.push(a)},this.calculateBenfordDist=function(e){let t=[],n=[],a=[],i=[0,0,0,0,0,0,0,0,0],r=o.cumulative();e.forEach(function(i,o){if(r){let e=a.indexOf(i.dead);i.dead&&e<0&&(a.push(i.dead),t.push(i.dead));let o=n.indexOf(i.infected);i.infected&&o<0&&(n.push(i.infected),t.push(i.infected))}else{if(!e[o-1])return;let n=e[o-1]&&e[o-1].infected&&"number"==typeof e[o-1].infected&&e[o-1].infected>0?e[o-1].infected:0,a=e[o-1]&&e[o-1].dead&&"number"==typeof e[o-1].dead&&e[o-1].dead>0?e[o-1].dead:0;if("number"==typeof i.infected){let e=i.infected-n;e>0&&t.push(e)}if("number"==typeof i.dead){let e=i.dead-a;e>0&&t.push(e)}}}),t.forEach(function(e){let t=e.toString().slice(0,1),n=parseInt(t);n<1||n>9||"number"!=typeof n||(i[n-1]+=1)});let s=0;i.forEach(function(e){s+=e});let l=[];return i.forEach(function(e){let t=parseFloat((e/s*100).toFixed(2));l.push(t)}),l},this.calculateBenfordMad=function(e,t){let n=0;return e.forEach(function(e,a){let i=t[a];n+=e>i?e-i:i-e}),(n/t.length).toFixed(2)},this.benfordsLaw=async function(){let e="global"!==o.region,t=[];e?await o.getHistory():(await o.getCheckpoints(),(t=JSON.parse(JSON.stringify(o.checkpoints))).sort(I("id")));let n=e?o.place.history||[]:t||[],a=e?o.place.name:j("world"),i=!0;o.makeChartTitle("benfordsLaw"),o.element.parentNode.style.overflow="hidden";let r=[1,2,3,4,5,6,7,8,9],s=[30.1,17.6,12.5,9.7,7.9,6.7,5.8,5.1,4.6],l=o.calculateBenfordDist(n),c=[];c.push({numbers:s,name:j("benfordsLaw"),bg:"transparent",color:"#d93157",type:"line"}),c.push({numbers:l,name:a,bg:"#5d637a",color:"#5d637a"});let d=o.calculateBenfordMad(l,s);document.querySelectorAll(".benfords-mad").forEach(function(e){e.remove()}),new ae(be("div","benfords-mad",{parent:o.container.parentNode,html:"<span>"+d+"</span><label>Mean Absolute Deviation</label>"}),"The MAD represents by how much this regions's numbers deviates from Benford's law. The lower the MAD, the more \"normal\" the distribution looks."),n.length<100&&(i=!1),n[n.length-1].infected<1e4&&(i=!1),e||(i=!1),i?o.config={type:"bar",canvas:o.canvas,datasets:c,axisYNames:!1,labels:r,stacked:!1,axisXNames:!0,customTooltip:function(e){new Z(this,e,c,r,"percent")}}:o.container.parentNode.remove()},this.globalEvolution=async function(){await Promise.all([o.getCheckpoints(),o.getLatest()]),(!o.types||o.types.length<1)&&(o.types=["infected"]);let e="casesEvolution";o.makeThatTypes(e),o.getDaysToShow(e),o.makeChartTitle(e),o.element.parentNode.style.overflow="hidden";let t=[];o.checkpoints.forEach(function(e,n){e.hide||t.push(moment.utc(e.id).format("MMM DD[,] YYYY"))}),t.reverse();let n=[];o.types.forEach(function(e){let t={numbers:[],name:de(e,"textId"),bg:de(e,"bg"),color:de(e,"color")};o.checkpoints.forEach(function(n,a){t.numbers.push(n[e])}),t.numbers.reverse(),n.push(t)}),o.config={type:"line",canvas:o.canvas,datasets:n,axisYNames:!0,labels:t,isLogarithmic:(new W).on,axisXNames:!0,customTooltip:function(e){new Z(this,e,n,t)}}},this.getHistory=async function(){o.place||(o.place=[],o.place=await u.getHistory(o.region))},this.getLatest=async function(e){o.places||(o.places=await u.getPlaces())},this.getCheckpoints=async function(){o.checkpoints||(o.checkpoints=await u.getCheckpoints())},this.extractCheckpointGrowth=function(e,t,n,a,i){if(!e[n-1])return;let o=null;switch(i){case"dead":o=parseInt(t.dead)-parseInt(e[n-1].dead);break;case"recovered":o=parseInt(t.recovered)-parseInt(e[n-1].recovered);break;case"infected":o=parseInt(t.infected)-parseInt(e[n-1].infected);break;case"sick":o=parseInt(t.sick)-parseInt(e[n-1].sick);break;case"vaccinated":o=parseInt(t.vaccinated)-parseInt(e[n-1].vaccinated);break;default:throw"this type of chart "+i+" is not supported"}(o||"number"==typeof o)&&(o<=0&&(o=0),a.push(o))},this.countryCasesDistribution=async function(){await o.getHistory();let e=o.place.history||[],t="casesDistribution";o.getDaysToShow(t),o.makeThatTypes(t),o.makeChartTitle(t);let n=[];e.forEach(function(e,t){n.push(moment.utc(e.day).format("MMM DD[,] YYYY"))}),o.daysToShow&&n.length>o.daysToShow&&(n=n.slice(n.length-o.daysToShow,n.length));let a=[],i={};o.types.forEach(function(t){i[t]=0;let n={numbers:[],name:de(t,"textId"),bg:de(t,"color"),color:de(t,"color")},r=t;"dead"===t&&(r="fatalityRate"),"recovered"===t&&(r="recoveryRate"),"sick"===t&&(r="activeRate"),e.forEach(function(e,a){let o=parseFloat(e[r]||0);i[t]+=o,n.numbers.push(o)}),o.daysToShow&&n.numbers.length>o.daysToShow&&(n.numbers=n.numbers.slice(n.numbers.length-o.daysToShow,n.numbers.length)),a.push(n)});for(let e in i)if(0===i[e])return void o.container.parentNode.remove();n.length<2?o.container.parentNode.innerHTML="":o.config={type:"bar",canvas:o.canvas,datasets:a,axisYNames:!1,labels:n,stacked:!0,axisXNames:!0,customTooltip:function(e){new Z(this,e,a,n,"percent")}}},this.countryNewCases=async function(){await o.getHistory();let e=o.place.history||[],t="infectedNew";o.getDaysToShow(t),o.makeThatTypes(t),o.makeChartTitle(t);let n=[];e.forEach(function(e,t){0!==t&&n.push(moment.utc(e.day).format("MMM DD[,] YYYY"))}),o.daysToShow&&n.length>o.daysToShow&&(n=n.slice(n.length-o.daysToShow,n.length));let a=[];o.types.forEach(function(t){let n={numbers:[],name:de(t,"textId"),bg:de(t,"color"),color:de(t,"color")};e.forEach(function(a,i){0!==i&&o.extractCheckpointGrowth(e,a,i,n.numbers,t)}),o.daysToShow&&n.numbers.length>o.daysToShow&&(n.numbers=n.numbers.slice(n.numbers.length-o.daysToShow,n.numbers.length)),a.push(n)}),n.length<2?o.container.parentNode.innerHTML="":o.config={type:"bar",canvas:o.canvas,datasets:a,axisYNames:!0,labels:n,stacked:!1,axisXNames:!0,customTooltip:function(e){new Z(this,e,a,n,"plus")}}},this.makeChartTitle=function(e){o.container.parentNode.querySelectorAll(".chart-title").forEach(function(e){e.remove()}),o.container.parentNode.querySelectorAll(".chart-buttons").forEach(function(e){e.remove()});let t=be("span",{parent:be("h3","chart-title",{parent:o.container.parentNode}),html:"<span>"+j(e)+"</span>"}),n=be("div","chart-buttons",{parent:o.container.parentNode});if("casesDistribution"===e){new ae(be("i",["feather","feather-help-circle"],{parent:t,click:function(){window.open("https://www.notion.so/coronavirus/How-to-interpret-the-outcome-of-cases-graph-012481c67f71488dbda8e08b6ebd129e","_blank")}}),j("clickToLearn"))}else if("benfordsLaw"===e){return new ae(be("i",["feather","feather-help-circle"],{parent:t,click:function(){window.open(l)}}),j("clickToLearn")),void o.makeBenfordSelector(n)}o.makeIndividualizeButton(n,e),o.makeDateLengthButton(n,e),o.makeLogButton(n,e)},this.makeBenfordSelector=function(e){e.classList.add("benford-title");let t=j("cumulativeCasesAndDeaths"),n=j("newCasesAndDeaths"),a=[{value:!0,name:t},{value:!1,name:n}],i=function(e){o.setCookie("benfordsLaw",!1,e),o.render()},r=be("div","chart-scale-selector",{parent:e,text:o.cumulative()?t:n,click:function(){new O({node:r,callback:i,options:a})}})},this.makeDateLengthButton=function(e,t){if("casesEvolution"===t)return;let n=[{value:7,name:function(){return j("recent").replace("{nb}",7)}},{value:30,name:function(){return j("recent").replace("{nb}",30)}},{value:90,name:function(){return j("recent").replace("{nb}",90)}},{value:!1,name:function(){return j("allTime")}}],a=function(e){o.daysToShow=e,o.setCookie(t,!0,o.daysToShow),o.render()},i=be("div","chart-scale-selector",{parent:e,text:o.daysToShow?j("recent").replace("{nb}",o.daysToShow):j("allTime"),click:function(){new O({node:i,callback:a,options:n})}})},this.makeIndividualizeButton=async function(e,t){if("casesEvolution"!==t&&"infectedNew"!==t)return;await b.ready();let n=true,a=!o.checkIfResourceExists("dead")&&!o.types.includes("dead"),i=!o.checkIfResourceExists("recovered")&&!o.types.includes("recovered"),r=!o.checkIfResourceExists("vaccinated")&&!o.types.includes("vaccinated");n||(r=!1);let s=!o.types.includes("sick")&&(a||i),l={value:"vaccinated",name:function(){return j("vaccinated")}};l.bg=de("vaccinated","bg"),l.color=de("vaccinated","color");let c=[{value:"infected",bg:de("infected","bg"),color:de("infected","color"),name:function(){return j("infected")}},{value:"dead",disabled:a,bg:de("dead","bg"),color:de("dead","color"),name:function(){return j("dead")}},{value:"recovered",disabled:i,bg:de("recovered","bg"),color:de("recovered","color"),name:function(){return j("recovered")}},l];("casesEvolution"===t||h.getParam("showActive"))&&c.push({value:"sick",disabled:s,bg:de("sick","bg"),color:de("sick","color"),name:function(){return j("sick")}});let d=function(e){"vaccinated"!==e||n||b.newModal("signup");let a=o.types.indexOf(e);a>-1?o.types.splice(a,1):o.types.push(e),o.setCookie(t,!1,o.types),o.render()},u=be("div","chart-scale-selector",{parent:e,html:o.types.length===c.length?j("showAll"):1===o.types.length?j(o.types[0]):j("show").replace("{nb}",o.types.length),click:function(){new O({multiple:!0,value:o.types,node:u,callback:d,options:c})}})},this.makeLogButton=function(e,t){"casesEvolution"===t&&new W(function(){o.render()}).picker(e)},this.globalCasesDistribution=async function(){await Promise.all([o.getCheckpoints(),o.getLatest()]);let e=JSON.parse(JSON.stringify(o.checkpoints));e.sort(I("id"));let t="casesDistribution";o.makeThatTypes(t),o.getDaysToShow(t),o.makeChartTitle(t);let n=[];e.forEach(function(e,t){n.push(moment.utc(e.id).format("MMM DD[,] YYYY"))}),o.daysToShow&&n.length>o.daysToShow&&(n=n.slice(n.length-o.daysToShow,n.length));let a=[];o.types.forEach(function(t){let n={numbers:[],name:de(t,"textId"),bg:de(t,"color"),color:de(t,"color")},i=t;"dead"===t&&(i="fatalityRate"),"recovered"===t&&(i="recoveryRate"),"sick"===t&&(i="activeRate"),e.forEach(function(e,t){e.hide||n.numbers.push(e[i]||0)}),o.daysToShow&&n.numbers.length>o.daysToShow&&(n.numbers=n.numbers.slice(n.numbers.length-o.daysToShow,n.numbers.length)),a.push(n)}),o.config={type:"bar",canvas:o.canvas,datasets:a,labels:n,stacked:!0,axisXNames:!0,customTooltip:function(e){new Z(this,e,a,n,"percent")}}},this.getCookieName=function(e,t){let n="";switch(e){case"casesEvolution":n="evolutiontypes";break;case"infectedNew":n=t?"newcaseszoom":"newcasestypes";break;case"casesDistribution":n="casesdistributionzoom";break;case"benfordsLaw":n="benfordslaw"}return n},this.setCookie=function(e,t,n){try{let a=o.getCookieName(e,t);if(!a)return null;o.cookies.set(a,n,9999)}catch(e){console.log(e)}},this.getCookie=function(e,t){try{let n=o.getCookieName(e,t);if(!n)return null;let a=o.cookies.get(n);return a.includes(",")?a.split(","):"dead"===a||"infected"===a||"sick"===a||"recovered"===a||"vaccinated"===a?[a]:"false"!==a&&("true"===a||a)}catch(e){return null}},this.globalNewCases=async function(){await Promise.all([o.getCheckpoints(),o.getLatest()]);let e=JSON.parse(JSON.stringify(o.checkpoints));e.sort(I("id")),(!o.types||o.types.length<1)&&(o.types=["infected"]);let t="infectedNew";o.getDaysToShow(t),o.makeThatTypes(t),o.makeChartTitle(t);let n=[];e.forEach(function(e,t){0!==t&&n.push(moment.utc(e.id).format("MMM DD[,] YYYY"))}),o.daysToShow&&n.length>o.daysToShow&&(n=n.slice(n.length-o.daysToShow,n.length));let a=[];o.types.forEach(function(t){let n={numbers:[],name:de(t,"textId"),bg:de(t,"color"),color:de(t,"color")};e.forEach(function(a,i){a.hide||0!==i&&o.extractCheckpointGrowth(e,a,i,n.numbers,t)}),o.daysToShow&&n.numbers.length>o.daysToShow&&(n.numbers=n.numbers.slice(n.numbers.length-o.daysToShow,n.numbers.length)),a.push(n)}),o.config={type:"bar",canvas:o.canvas,datasets:a,labels:n,axisYNames:!0,stacked:!1,axisXNames:!0,customTooltip:function(e){new Z(this,e,a,n,"plus")}}},this.checkIfResourceExists=function(e){if(!o.place)return!0;if(!o.place.history)return!0;let t=0;return o.place.history.forEach(function(n){n[e]&&(t+=parseInt(n[e]))}),t>0},this.evolutionByCountry=async function(){await o.getHistory();let e=o.place.history||[];e.sort(I("day"));let t="casesEvolution";o.getDaysToShow(t),o.makeThatTypes(t),o.makeChartTitle(t),o.element.parentNode.style.overflow="hidden";let n=[];e.forEach(function(e,t){n.push(moment.utc(e.day).format("MMM DD[,] YYYY"))});let a=[];o.types.forEach(function(t){let n=0,i={numbers:[],name:de(t,"textId"),bg:de(t,"bg"),color:de(t,"color")};e.forEach(function(e,a){let o=parseInt(e[t]);n+=o,i.numbers.push(o)}),0!==n&&a.push(i)}),n.length<2?o.container.parentNode.innerHTML="":o.config={type:"line",canvas:o.canvas,datasets:a,axisYNames:!0,labels:n,axisXNames:!0,isLogarithmic:(new W).on,customTooltip:function(e){new Z(this,e,a,n)}}},this.init=async function(){o.types=[],o.container.innerHTML="",o.make(),o.render()},this.embedPopup=function(e){let t=be("div","backdrop",{parent:ye("body")});t.addEventListener("click",function(e){e.target===e.currentTarget&&t.remove()});let n=be("div","Embeddable-Chart-Embed",{parent:t}),a=window.location.origin+"/chart/"+o.region+"/"+o.type;o.property&&(a+="/"+o.property),a+="?embed=true";let i=be("div");i.textContent=j("embed"),n.appendChild(i);let r=be("code"),s=o.computeHeight()||380;r.textContent='<iframe style="width:100%"; width="560" height="'+s+'" src="'+a+'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',n.appendChild(r),new ie(n,e,0,0)},this.init()}function S(e,t,n,a){if(a)return e.removeAttribute("style"),e.parentNode.classList.add("nooverflow"),e.parentNode.removeAttribute("style"),e.style.width="calc(100% + 50px)",void(e.parentNode.scrollLeft=2e6);let i=(window.innerWidth>991?70:50)*t;i<window.innerWidth&&(i=window.innerWidth),e.style.setProperty("width",i+"px","important"),e.parentNode.scrollLeft=i,e.parentNode.classList.remove("nooverflow"),e.parentNode.style["overflow-x"]="auto !important"}function E(){let e=new te;e.render(),(new q).set(null),T&&T.main&&T.main.drawer&&(T.main.drawer.render(),T.main.drawer.relaunch(!0),h.setUrl(window.location.origin+"/toll"),setTimeout(function(){e.remove()},200))}function z(e,t){let n;return t||(t=1),/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(3==(n=e.substring(1).split("")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),"rgba("+[(n="0x"+n.join(""))>>16&255,n>>8&255,255&n].join(",")+","+t+")"):e}function I(e){let t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,a){return((n[e]||0)<(a[e]||0)?-1:(n[e]||0)>(a[e]||0)?1:0)*t}}function M(e){let t=this;this.msg=e.msg,this.button=e.button,this.buttonFn=e.buttonFn,this.element=null,this.className="Content-Unavailable",this.make=function(){t.remove(),t.element=be("div",t.className,{parent:ye("body")}),t.msg&&be("div","Content-Unavailable-Wording",{html:t.msg,parent:t.element}),t.button&&be("button","btn-secondary",{html:t.button||"",parent:t.element,click:t.buttonFn?t.buttonFn:t.onclick})},this.onclick=function(){t.remove()},this.remove=function(){ve("."+t.className).forEach(function(e){e.remove()})},this.make()}function A(e,t){return e>t?1:t>e?-1:0}function D(e){let t=this;this.type=e.type||"",this.datasets=e.datasets||[],this.labels=e.labels||[],this.canvas=e.canvas,this.axisXNames=e.axisXNames,this.axisYNames=e.axisYNames,this.stacked=e.stacked,this.onClick=e.onClick,this.isLogarithmic=e.isLogarithmic||!1,this.customTooltip=e.customTooltip,this.chart=null,this.rerender=function(){t.chart=null,t.make()},this.getEdge=function(e){let n=[];if(t.datasets.forEach(function(e){if(!e.numbers)return;[...e.numbers].forEach(function(e){n.push(e)})}),n.sort(A),"min"===e){let e=n[0];return e>0&&(e=0),e}if("max"===e){return n[n.length-1]}},this.formatTick=function(e,n,a){if(e>t.getEdge("max"))return;if(!t.isLogarithmic)return ce(e);return[10,100,1e3,1e4,1e5,1e6,1e7].includes(e)?ce(e):void 0},this.makeScales=function(){let e={yAxes:[{gridLines:{display:!0,drawBorder:!1},ticks:{fontSize:9,fontColor:"#aab7c2",callback:t.formatTick,display:t.axisYNames,precision:0,min:t.getEdge("min")}}],xAxes:[{gridLines:{display:!1,drawBorder:!1},ticks:{fontSize:9,fontColor:"#aab7c2",display:t.axisXNames,precision:0,min:0,mirror:!0}}]};return t.stacked&&(e.xAxes[0].stacked=!0,e.yAxes[0].stacked=!0),t.isLogarithmic&&(e.yAxes[0].type="logarithmic"),e},this.makeDatasets=function(){let e=[];return t.datasets.forEach(function(n){let a={data:n.numbers,backgroundColor:n.bg,borderColor:n.color,pointBackgroundColor:n.color,lineTension:0,pointBorderColor:n.color,borderWidth:3,pointRadius:0,pointHoverRadius:5,pointHitRadius:10};if(n.type&&(a.type=n.type),"line"===t.type){let t=JSON.parse(JSON.stringify(a));a.data=n.numbers.slice(0,n.numbers.length-1),t.borderWidth=0,t.borderDash=[2,2],e.push(t)}else"radar"===t.type&&(a.label=n.label);e.push(a)}),e},this.makeTooltipConfig=function(){let e={enabled:!0};if(t.customTooltip)return e.enabled=!1,e.custom=t.customTooltip,e},this.make=function(){if("undefined"==typeof Chart||!Chart)return;let e={title:{display:!0},legend:{display:!1},onClick:t.processOnClick,pan:{enabled:!1,mode:"x",speed:50,threshold:100},zoom:{drag:!1,enabled:!1,mode:"x",speed:100,sensitivity:10},tooltips:t.makeTooltipConfig(),scales:t.makeScales(),layout:{padding:{left:30,right:0,top:30,bottom:30}},responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,animation:{duration:200,easing:"easeInQuint"}};"bar"===t.type?e.animation={duration:0}:"radar"===t.type&&(e.scale={pointLabels:{display:window.innerWidth>991,fontFamily:'"Roboto", "Helvetica Neue", Arial, sans-serif',fontSize:14,fontColor:"rgb(170, 183, 194)"},gridLines:{color:"rgba(170, 183, 194, 0.20)"},angleLines:{color:"rgba(170, 183, 194, 0.20)"},ticks:{display:!1,min:-.05,max:1}}),t.labels.length>91&&"bar"===t.type&&(t.type="line"),t.chart=new Chart(t.canvas,{type:t.type,data:{labels:t.labels,datasets:t.makeDatasets()},options:e})},this.processOnClick=function(e,n){let a=t.chart.getElementsAtEvent(e);if(!a||!a[0])return;let i=a[0]._index;t.onClick&&t.onClick(e,n,i)},this.make()}function U(e){let t=this;this.config=e,this.color=e.opaque?"var(--card)":"var(--backdrop)",this.noback=e.noback,this.cancel=e.cancel,this.backdrop=e.backdrop,this.className="modal",this.element=null,this.styling="\n\t\t."+t.className+"{ position:fixed; top:0px; left:0px; width:100vw; height:100vh; background:"+t.color+"; display:flex; justify-content:center; align-items:center; z-index:9999999999999999999999; }\n\t\t."+t.className+"-inner{ width: 40vw;  height: 60vh;min-height: 50vh; box-shadow: var(--box-shadow); background: var(--card); border-radius: 20px; display: flex; flex-direction: column; justify-content: space-evenly; padding: 40px; position:relative; }\n\t\t."+t.className+"-back{ position:absolute; top:15px; left:15px; font-size:20px; border:2px solid transparent; color: var(--subtitle);padding:10px; border-radius:50%; cursor:pointer; z-index:99999;     box-shadow: var(--box-shadow);\t}\n\t\t."+t.className+"-back:hover{ color:var(--main);border-color:var(--main); }\n\t\t."+t.className+" .input{ flex-direction:column; justify-content:flex-start; align-items:flex-start;}\n\t\t@media (max-width:991px){\n\t\t\t."+t.className+"-back{ position:fixed; top:15px; left:10px}\n\t\t\t."+t.className+"{ background:var(--card); }\n\t\t\t."+t.className+"-inner{ width: 100vw; min-height: 90vh; overflow:hidden; border-radius:0px; }\n\t\t}\n\t\n\t",this.remove=function(e){t.noback||e.target===e.currentTarget&&(t.element.remove(),document.querySelector("body").style="",t.cancel&&t.cancel())},this.build=function(){F(t.styling,t.className),document.querySelector("body").style.overflow="hidden",document.querySelectorAll("."+t.className).forEach(function(e){e.remove()}),t.element=be("div",t.className,{parent:document.querySelector("body"),click:function(e){t.backdrop||t.remove(e)}});let e=be("div",t.className+"-inner",{parent:t.element});return t.noback||be("i",[t.className+"-back","feather","feather-arrow-left"],{click:t.remove,parent:e}),e}}function F(e,t){(document.getElementById(t)||be("style",{id:t,parent:document.querySelector("body")})).textContent=e}function j(e){let t=g[e];if(!t)throw"String "+e+" doesn't exist";return t[p.lang]||t.EN}function H(e){let t=this;this.selector=e,this.id=me(22),this.classNameOpen="open",this.classNameSemi="semi",this.classNameClose="close",this.classNameInit="init",this.classNameTransition="transitioning",this.className="drawer",this.embedded=y.embedded,this.countries=m,this.element=null,this.isOpen=!1,this.minimum=.01,this.semiOpen=.65,this.fullyClosed=.95,this.initial=.8,this.breakpoint=.5,this.autoOpen=.2,this.relaunch=function(e){let n=t.countries.getParam(t.getSelected(),"regions");e||n?t.open():t.semi()},this.close=function(){t.inner&&(t.isOpen=!1,t.inner.scrollTop=0,t.element.classList.remove(t.classNameOpen),t.element.classList.remove(t.classNameInit),t.element.classList.add(t.classNameClose),t.element.classList.remove(t.classNameSemi),t.element.classList.add(t.classNameTransition),t.element.style.top=window.innerHeight*t.fullyClosed+"px")},this.semi=function(){setTimeout(function(){t.inner&&(t.isOpen=!1,t.inner.scrollTop=0,t.element.classList.add(t.classNameSemi),t.element.classList.remove(t.classNameOpen),t.element.classList.remove(t.classNameClose),t.element.classList.remove(t.classNameInit),t.element.classList.add(t.classNameTransition),t.element.style.top=window.innerHeight*t.semiOpen+"px")},300)},this.open=function(){setTimeout(function(){t.inner&&(t.isOpen=!0,t.inner.scrollTop=0,t.element.classList.add(t.classNameOpen),t.element.classList.remove(t.classNameClose),t.element.classList.remove(t.classNameInit),t.element.classList.remove(t.classNameSemi),t.element.classList.add(t.classNameTransition),t.element.style.top=window.innerHeight*t.minimum+"px")},300)},this.initialize=function(){t.inner&&(t.isOpen=!1,t.inner.scrollTop=0,t.element.classList.remove(t.classNameOpen),t.element.classList.remove(t.classNameClose),t.element.classList.remove(t.classNameSemi),t.element.classList.add(t.classNameInit),t.element.classList.add(t.classNameTransition),t.element.style.top=window.innerHeight*t.initial+"px")},this.reposition=function(e){e<window.innerHeight*t.minimum||e>window.innerHeight*t.fullyClosed||(t.isOpen=!1,t.element.classList.remove(t.classNameOpen),t.element.classList.remove(t.classNameTransition),t.element.style.top=e+"px")},this.onTouchMove=function(e){if(t.isOpen)return;e.touches[0].pageY,t.inner.scrollTop,e.target.closest(".section-chart-list, .section-el-map")},this.onTouchEnd=function(e){let n=e.changedTouches[0].pageY,a=n/window.innerHeight,i=t.touchStartY-n,o=t.inner.scrollTop;if(!e.target.closest(".section-el-map, .section-chart-list"))if(t.isOpen&&i<-100&&0===o)t.initialize();else{if(t.isOpen)return;i>-100&&a<.6?t.open():i<-100&&a<.6?t.initialize():a>=.6&&a<=.8&&i<0?t.initialize():a>=.6&&a<=.8&&i>0?t.open():a>.8&&i>0?t.open():a>.8&&i<0&&t.close()}},this.touchStartY=0,this.onTouchStart=function(e){t.touchStartY=e.changedTouches[0].pageY,t.isOpen||t.open()},this.getSelected=function(){return(new q).get()},this.make=function(){t.element=be("div",t.className),t.element.addEventListener("touchmove",t.onTouchMove,{passive:!0}),t.element.addEventListener("touchend",t.onTouchEnd,{passive:!0}),t.element.addEventListener("touchstart",t.onTouchStart,{passive:!0}),window.innerWidth>991&&t.element.addEventListener("click",function(e){e.target===e.currentTarget&&(window.innerWidth>991&&(new q).set(null),t.initialize())}),ye(t.selector).prepend(t.element);let e=be("div","drawer-close-btn");e.addEventListener("click",function(){window.innerWidth>991&&(new q).set(null),t.initialize()}),t.element.appendChild(e),t.inner=be("div","drawer-inner",{id:t.id}),t.inner.addEventListener("scroll",function(e){t.inner.scrollTop>0?t.element.classList.add("scrolling"):t.element.classList.remove("scrolling")}),t.element.appendChild(t.inner),t.close(),(t.getSelected()||"toll"===w.current||window.innerWidth<991)&&(t.render(),t.semi())},this.reset=function(){t.close()},this.render=function(e){e||t.reset(),t.inner.innerHTML="",new function(e,t){let n=this;this.element=null,this.selector=e,this.globalOnly=t,this.countries=m,this.getSelected=function(){return n.globalOnly?null:(new q).get()},this.findPlace=function(){let e=y.getPlaceById(n.getSelected())||null;return e&&e.invisible?null:e},this.getData=async function(){n.getSelected()?await n.getHistory():await n.getCheckpoints()},this.getHistory=async function(){n.findPlace()&&(n.place=await u.getHistory(n.getSelected()))},this.getCheckpoints=async function(){n.checkpoints=await u.getCheckpoints()},this.findProperty=function(e){let t=n.findPlace(),a=t?t[e]||0:y.calculate([e]);return a},this.calculateInfected=function(){return n.findProperty("infected")||0},this.calculateDead=function(){return n.findProperty("dead")||0},this.calculateRecovered=function(){return n.findProperty("recovered")||0},this.calculateVaccinated=function(){let e=n.findProperty("vaccinated")||0;return e},this.calculateSick=function(){let e=n.findProperty("sick");return(!e||e<1)&&(e=0),e},this.calculateFatalityRate=function(){return n.findProperty("fatalityRate")||0},this.calculateRecoveryRate=function(){return n.findProperty("recoveryRate")||0},this.calculateNew=function(e,t){return y.calculateNew(n.place,t)},this.calculateCaseClosed=function(){let e=n.findProperty("dead"),t=n.findProperty("infected");if(!t)return 0;let a=n.findProperty("recovered"),i=t-e-a;return 0===e||0===a?0:i},this.calculateDaySinceStart=function(){let e=n.findProperty("infected");return e?n.place&&n.place.history&&n.place.history.length>1?n.place.history.length||1:n.checkpoints?n.checkpoints.length:1:0},this.calculateVaccinatedPercent=function(){let e=n.findProperty("vaccinatedPercent");return e},this.calculateCasesPerMillion=function(){let e=n.findProperty("casesPerMillion");return e},this.calculateDeathsPerMillion=function(){let e=n.findProperty("deathsPerMillion");return e},this.shouldCalculatePop=function(){return!!n.place},this.makePopulation=function(){let e=n.findProperty("pop");return e?parseInt(e):"-"},this.isRegion=function(){return n.findPlace()},this.getChartMode=function(){let e=i||"infected";return de(e,"mode")},this.make=function(){let e=ye(n.selector);e&&(e.innerHTML="",n.element=be("section","stats",{parent:e}))},this.renderPlaceLocation=function(){let e=n.findPlace(),t=be("div","section-place-details",{parent:n.element});if(e){let a=be("img","section-place-details-flag",{parent:t,src:n.countries.flag(e.country,e.state)});e.isSub&&a.addEventListener("click",function(){(new q).set(e.country),T&&T.main&&T.main.drawer&&T.main.drawer.render(!0)})}let a=be("div","section-place-details-container",{parent:t}),i=be("h1","section-place-details-name",{parent:a});be("span",{parent:i,text:e&&e.name?e.name:j("world")});if(n.renderPlaceBtns(i),e){let e=be("div","section-place-details-subtitle",{parent:a});n.renderPlaceUpdate(e),n.renderPlaceSrc(e)}n.renderHighlights(t)},this.renderPlaceUpdate=function(e){let t=n.findPlace(),a=be("span");a.classList.add("section-place-details-updatedate"),new re(a,t.lastUpdated),e.appendChild(a)},this.renderPlaceBtns=function(e){if("toll"===w.current)return;let t=n.findPlace(),a=be("div");a.classList.add("section-place-btns-container"),e.appendChild(a);let i=be("i");i.classList.add("feather","feather-share-2"),i.addEventListener("click",function(){ne(t?t.infected:null,t?t.name:null)}),a.appendChild(i)},this.renderPlaceFooter=function(){let e=be("div","section-notes-list",{parent:n.element});n.renderPlaceNote(e)},this.renderPlaceNote=async function(e){let t=n.findPlace();if(!t)return;let a=await u.getCountryMeta(t.country),i=a.notes||"";be("span","section-el-warning",{parent:e,html:i})},this.renderPlaceSrc=async function(e){let t=n.findPlace();if(!t)return;let a=await u.getCountryMeta(t.country),i=a.links||[],o=be("span","section-container-source",{parent:e});o.innerHTML=i.length>1?"<span>●  "+j("sources")+": </span>":"<span>●  "+j("source")+": </span>";let r=t.vaccinated&&b.isMember,s=i.find(e=>"Our World in Data"===e.n);r&&!s&&i.push({n:"Our World in Data",l:"https://ourworldindata.org/covid-vaccinations",f:"v"});let l=[];i.forEach(function(e){("v"!==e.f||r)&&l.push(e)}),l.forEach(function(e,t){e.n&&e.l&&(t>1||(o.innerHTML+='<a href="'+e.l+'" target="_blank" class="direct-link">'+e.n+"</a>"))});let c=l.length>2?"others":"no-others";be("a","more-link "+c,{html:j("plusOthers").replace("{nb}",l.length-2),href:"javascript:void(0)",parent:o,click:function(){new function(e){let t=this;this.sources=JSON.parse(JSON.stringify(e)),this.className="source-modal",this.styling="\n\t\t."+t.className+"{justify-content:flex-start !important;padding-top:100px !important;}\n\t\t."+t.className+" h2{margin-left:10%;}\n\t\t."+t.className+"-links{ max-height: 80%;  overflow: auto;display:flex;flex-direction:column;max-width:80%;margin-left:10%;}\n\t\t."+t.className+"-link{position:relative;border-radius:10px;border:2px solid transparent;padding:5px 10px; border: 1px solid var(--darker);  background: var(--card);;color:var(--dark) !important;display:flex;align-items:center;justify-content:space-between;margin-top:10px;margin-bottom:10px;}\n\t\t."+t.className+"-link:hover{border-color:var(--main);}\n\t\t."+t.className+"-link:hover *{color:var(--main);}\n\t\t."+t.className+"-link:hover ."+t.className+"-tag{background:var(--card) !important;}\n\t\t."+t.className+'-link:after{position:absolute;right:10px;content: "\\e952"; font-family:"Feather";}\n\t\t.'+t.className+"-tag{background:var(--hover);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:10px;font-size:9px;margin-right:10px;padding:2px 10px;}\n\t\t."+t.className+"-tags{margin-right:20px;    display: flex;}\n\t",this.mapping={v:"vaccinated",r:"recovered",i:"infected",d:"dead"},this.init=function(){F(t.styling,t.className),t.element=new U({opaque:!1}).build(),t.element.classList.add(t.className),be("h2",{html:j("sources"),parent:t.element});let e=be("div",t.className+"-links",{parent:t.element});t.sources.reverse(),t.sources.forEach(function(n){if(!n.l)return;let a=be("a",t.className+"-link",{href:n.l,target:"_blank",parent:e});be("span",{html:n.n||n.l,parent:a}),new ae(a,n.l);let i=be("span",t.className+"-tags",{parent:a});n.d&&be("span",t.className+"-tag",{html:n.d,parent:i});let o=t.mapping[n.f||"zzz"];o&&be("span",t.className+"-tag",{html:j(o),parent:i})})},this.init()}(l)}})},this.changePlace=function(e){e?((new q).set(e),e&&T&&T.main&&T.main.drawer&&T.main.drawer.render(!0)):w.change("toll")},this.renderBreadcrumb=function(){let e=n.findPlace(),t=be("div","section-container-breadcrumb",{parent:n.element}),a=be("div","section-container-breadcrumb-nav",{parent:t});if(be("span","map-icon",{parent:a,click:function(){h.setParam({selected:null}),(new q).set(null),w.change("map")}}),be("span","world",{text:j("world"),parent:a,click:E}),!e)return;let i=e.isSub?n.countries.name(e.country):e.name,o=be("span","map-country",{parent:a,click:function(){n.changePlace(e.country)}});if(e&&!e.isSub&&o.classList.add("disabled"),be("img","flag-img",{parent:o,src:n.countries.flag(e.country)}),be("span",{parent:o,text:i}),!e.isSub)return;let r=be("span",["map-region","disabled"],{parent:a});be("img","flag-img",{parent:r,src:n.countries.flag(e.country,e.state)}),be("span",{text:e.name,parent:r})},this.renderHighlights=function(e){let t=n.findPlace();if(!t)return;let a=be("div","section-container-highlights",{parent:e}),i=be("div",["section-highlights-box","infected"],{parent:a});Q(function(e){i.innerHTML='<div class="section-el-number">'+V(e,"plus")+'</div><div  class="section-el-name">'+j("infectedNew")+"</div>"},n.calculateNew(t,"infected"));let o=be("div",["section-highlights-box","dead"],{parent:a});Q(function(e){o.innerHTML='<div class="section-el-number">'+V(e,"plus")+'</div><div  class="section-el-name">'+j("dead")+"</div>"},n.calculateNew(t,"dead"))},this.renderSubscribeBanner=async function(){let e=be("div","section-subscribe",{parent:n.element});if(await b.ready(),!b.isMember||b.isSubscribed)return;let t=be("div","section-subscribe-inner",{parent:e});be("h3",{parent:t,html:j("needUrHelp").replace("{P}",b.data.firstName)}),["payBill","adFree"].forEach(function(e){be("div","section-subscribe-arg",{html:j(e),parent:t})}),be("button","membership-main-btn",{html:j("activateMembership"),parent:t,click:b.subscribe})},this.renderSecondaryNumbers=async function(){let e=n.findPlace(),t=be("div","section-secondary-numbers",{parent:n.element});await b.ready();let a=b.isMember,i=[{mode:"infected",nb:n.calculateInfected},{mode:"dead",nb:n.calculateDead},{mode:"vaccinated",nb:n.calculateVaccinated},{mode:"sick",nb:n.calculateCaseClosed},{mode:"population",onlyIf:n.shouldCalculatePop,nb:n.makePopulation},{mode:"casesPerMillion",onlyIf:n.shouldCalculatePop,nb:n.calculateCasesPerMillion},{mode:"deathsPerMillion",onlyIf:n.shouldCalculatePop,nb:n.calculateDeathsPerMillion},{mode:"fatalityRate",nb:n.calculateFatalityRate},{mode:"recovered",nb:n.calculateRecovered}];i.forEach(function(n,i){if(n.onlyIf&&"function"==typeof n.onlyIf&&!n.onlyIf())return;let o=n.nb(),r=n.mode,s=be("div","section-el"),l=!a&&n.lockable&&e;de(r,"link");l&&(s.classList.add("locked"),s.addEventListener("click",function(){b.subscribe()})),t.appendChild(s);let c=be("div","section-el-inner",{parent:s}),d=be("div","section-el-number",{parent:c});d.innerHTML=l?'<i class="feather feather-lock"></i>':V(o,de(r,"number"));be("div","section-el-name",{text:de(r,"textId"),parent:c})})},this.renderCharts=function(){let e=[{type:"chart",onlyIf:function(){let e=n.findPlace();return!(!e||!e.infected)},chart:function(e){new N("#"+e,n.getSelected(),n.getChartMode(),!1,"new")}},{type:"chart",onlyIf:function(){let e=n.findPlace();return!(!e||!e.infected)},chart:function(e){new N("#"+e,n.getSelected(),n.getChartMode())}},{type:"chart",onlyIf:function(){let e=n.findPlace();return!(!e||!e.infected)},chart:function(e){new N("#"+e,n.getSelected(),"distribution")}},{type:"chart",onlyIf:function(){let e=n.findPlace();return!(!e||!e.infected)},chart:function(e){new N("#"+e,n.getSelected(),"benford")}},{type:"chart",onlyIf:function(){return!n.findPlace()},chart:function(e){new N("#"+e,"new","infected")}},{type:"chart",onlyIf:function(){return!n.findPlace()},chart:function(e){new N("#"+e,"evolution","infected")}},{type:"chart",onlyIf:function(){return!n.findPlace()},chart:function(e){new N("#"+e,"global","distribution")}},{type:"chart",onlyIf:function(){return!n.findPlace()},chart:function(e){new N("#"+e,"global","benford")}}];e.forEach(function(e){let t=be("div","section-chart-list",{parent:n.element});if(!e.onlyIf())return;let a=me(25);be("div","section-el-chart",{parent:t,id:a}),e.chart(a)})},this.renderSmallMap=function(){let e=n.findPlace();if(!e||!e.infected)return;let t=me(25);be("div","section-el-map",{id:t,parent:n.element}),new function(e,t,n){let a=this;this.selector=e,this.countries=m,this.geoJson=null,this.version=21,this.placeId=t,this.wholeZones=!1,this.map=null,this.id=me(12),this.viewMode=n||"map",this.element=null,this.container=null,this.mode=function(){return de(i||"infected","mode")},this.selectedBorder="rgb(41, 84, 255)",this.selectedBg="rgba(41, 84, 255, 0.7)",this.getRegions=async function(){a.places=await u.getRegions(a.placeId)},this.make=function(){a.element=be("div","region-page-local-map",{parent:ye(a.selector)}),a.buttons=be("div","region-page-local-map-buttons",{parent:a.element}),a.container=be("div","region-page-local-map-container",{parent:a.element}),a.list=be("div","region-page-local-map-list",{parent:a.element})},this.renderButtons=function(){a.buttons.innerHTML="",a.switchButtons.forEach(function(e){let t=be("button",{parent:a.buttons});e.id===a.viewMode&&t.classList.add("active"),t.addEventListener("click",function(){a.viewMode=e.id,a.renderButtons(),a.renderMiniMap()}),be("i",["feather",e.icon],{parent:t}),be("span",{text:e.tooltip,parent:t})})},this.countryId=function(){return a.places[0].country},this.sortFeatures=function(){let e=a.mode();a.geoJson.features.sort(function(t,n){let i=a.findPlaceForFeature(t),o=a.findPlaceForFeature(n),r=i?i[e]:0;return(o?o[e]:0)-r})},this.render=function(){try{a.sortFeatures(),a.renderMiniMap(),a.renderRegionsList()}catch(e){console.log(e)}},this.renderPieChart=function(){let e=we(a.id),t=be("canvas");e.appendChild(t);let n=0,i=[{numbers:[],color:[],bg:[]}],o=[],r=[];a.geoJson.features.forEach(function(e){let t=i[0].numbers,s=a.findPlaceForFeature(e)||{},l=a.getPlaceStyle(s),c=s?s[a.mode()]:0,d=(!t[t.length-1]||t[t.length-1],s&&s.id&&s.id===a.placeId),u=d?a.selectedBorder:l.fillColor,m=getComputedStyle(document.body).getPropertyValue("--zoneOpacity"),p=z(d?a.selectedBg:l.color,m),h=s.name||"",f=s.id||"";n+=c||0,t.push(c),i[0].color.push(u),i[0].bg.push(p),o.push(h),r.push(f)}),new D({type:"doughnut",canvas:t,datasets:i,labels:o,customTooltip:function(e){new Z(this,e,i,o)},onClick:function(e,t,n){let i=r[n];i&&a.changePlace(i)}})},this.renderRegionsList=function(){a.list.innerHTML="",we(a.id);let e=be("table","region-page-local-map-container-list",{parent:a.list}),t=be("tr",{parent:e}),n=a.hasRecovered(),o=a.hasDead(),r=a.hasVaccinated();[{name:function(){return"#"}},{name:function(){return j("name")}},{name:function(){return j("infected")},id:"infected"},{name:function(){return j("dead")},id:"dead",onlyIf:function(){return o}},{name:function(){return j("recovered")},id:"recovered",onlyIf:function(){return n}},{name:function(){return j("vaccinated")},id:"vaccinated",onlyIf:function(){return r}}].forEach(function(e){if(e.onlyIf&&!e.onlyIf())return;let n=be("th",{text:e.name(),parent:t});e.id?n.addEventListener("click",function(){i=e.id,a.render()}):n.classList.add("unsortable")}),a.geoJson.features.forEach(function(t,i){let s=a.findPlaceForFeature(t),l=s&&s.name?s.name:t.properties.name,c=s&&s.infected?s.infected:0,d=s&&s.dead?s.dead:0,u=s&&s.recovered?s.recovered:0,m=s&&s.vaccinated?s.vaccinated:0,p=s&&s.id?s.id:"",h=be("tr",{parent:e});p===a.placeId&&h.classList.add("active"),p&&h.addEventListener("click",function(){a.changePlace(p)}),be("td",{parent:h,text:i+1}),be("td",{text:l,parent:h});let f=be("td","region-page-local-map-container-subtitle",{parent:h,text:c?le(c):"-"});if("infected"!==a.mode()&&f.classList.add("secondary"),f.style.color="var(--infected)",o){let e=be("td","region-page-local-map-container-subtitle",{parent:h,text:d?le(d):"-"});"dead"!==a.mode()&&e.classList.add("secondary"),e.style.color="var(--dead)"}if(n){let e=be("td","region-page-local-map-container-subtitle",{parent:h,text:u?le(u):"-"});"recovered"!==a.mode()&&e.classList.add("secondary"),e.style.color="var(--recovered)"}if(r){let e=be("td","region-page-local-map-container-subtitle",{parent:h,text:m?le(m):"-"});"vaccinated"!==a.mode()&&e.classList.add("secondary"),e.style.color="var(--vaccinated)"}})},this.findPlaceForFeature=function(e){let t=a.places.find(t=>t.name===e.properties.name);return t||(t=a.places.find(t=>t.id===e.properties.id)),t},this.hasRecovered=function(){let e=0;return a.geoJson.features.forEach(function(t){let n=a.findPlaceForFeature(t);n&&n.recovered&&"number"==typeof n.recovered&&(e+=n.recovered)}),!!e},this.hasDead=function(){let e=0;return a.geoJson.features.forEach(function(t){let n=a.findPlaceForFeature(t);n&&n.dead&&"number"==typeof n.dead&&(e+=n.dead)}),!!e},this.hasVaccinated=function(){if(!b.isMember)return!1;let e=0;return a.geoJson.features.forEach(function(t){let n=a.findPlaceForFeature(t);n&&n.vaccinated&&"number"==typeof n.vaccinated&&(e+=n.vaccinated)}),!!e},this.renderMiniMap=function(){a.map=null,a.id=me(12),a.container.innerHTML="",a.element.setAttribute("data-type",a.mode()),be("div","region-page-local-map-container-inner",{id:a.id,parent:a.container}),(a.switchButtons.find(e=>e.id===a.viewMode)||a.switchButtons[0]).fn()},this.renderMap=function(){a.createMap(),a.createRegions()},this.getPlaceStyle=function(e){return v.getPlaceStyle(e,!0,a.mode())},this.highlightBubble=function(e){a.map.eachLayer(function(t){if(t.options.place)if(t.options.place.id===e||t.options.place.id===a.placeId){let e=a.selectedBorder;t.setStyle({color:e,fillColor:a.selectedBg})}else t.setStyle(a.getPlaceStyle(t.options.place))})},this.resetStyles=function(){a.map.eachLayer(function(e){e.options.place&&e.options.place.id!==a.placeId&&e.setStyle(a.getPlaceStyle(e.options.place))})},this.createRegions=function(){let e=[];a.geoJson.features.forEach(function(t){let n=a.findPlaceForFeature(t);n||(n={id:me(21),nonaffected:!0,country:a.places[0].country,name:t.properties.name,infected:0,dead:0,recovered:0,sick:0});let i=v.createPlaceFeature(n,!0,a.mode(),t).bindTooltip(function(e){return v.showTooltip(n)}).on("tooltipopen",function(){a.highlightBubble(n.id)}).on("tooltipclose",function(){a.resetStyles()}).on("click",function(){n.infected&&!n.nonaffected&&a.changePlace(n.id)});e.push(i)});let t=new L.featureGroup(e);t.addTo(a.map),a.map.fitBounds(t.getBounds()),a.map.touchZoom.disable(),a.map.doubleClickZoom.disable(),a.map.scrollWheelZoom.disable(),a.map.dragging.disable(),setTimeout(function(){a.highlightBubble(a.placeId)},200)},this.changePlace=function(e){(new q).set(e),T&&T.main&&T.main.drawer&&T.main.drawer.render(!0)},this.createMap=function(){a.map=L.map(a.id,{tap:!1,worldCopyJump:!1,zoomSnap:1,maxBoundsViscosity:0,zoomControl:!1,attributionControl:!1})},this.loadGeoJson=async function(){window.geojsonFiles||(window.geojsonFiles={});let e=a.countryId();if(window.geojsonFiles[e])return void(a.geoJson=window.geojsonFiles[e]);let t=document.createElement("script");t.setAttribute("src",staticAssetsPrefix+"/geojson/"+a.countryId()+".js?v="+a.version),document.querySelector("body").appendChild(t),await new Promise(function(t,n){let a=setInterval(function(){if(window.geojsonFiles[e])return clearInterval(a),t()},100)}),a.geoJson=window.geojsonFiles[e]},this.init=async function(){await a.getRegions(),!a.places||a.places.length<1||(a.make(),await a.loadGeoJson(),setTimeout(function(){a.render()},200))},this.switchButtons=[{id:"map",tooltip:"Country map",icon:"feather-map",fn:a.renderMap},{id:"pie",tooltip:"Case distribution",icon:"feather-pie-chart",fn:a.renderPieChart},{id:"list",tooltip:"Region table",icon:"feather-list",fn:a.renderRegionsList}],this.init()}("#"+t,n.getSelected())},this.render=function(){(new q).updateDocTitle(n.getSelected()),n.findPlace()||n.element.classList.add("noplace"),n.element.innerHTML="",n.renderBreadcrumb(),n.renderPlaceLocation(),n.renderSecondaryNumbers(),n.renderSubscribeBanner(),n.renderSmallMap(),n.renderCharts(),n.renderSubscribeBanner(),n.renderPlaceFooter(),n.element.classList.add("place-wrapper-fully-loaded")},this.init=async function(){await n.getData(),ye(n.selector)&&(n.make(),n.element&&n.render())},this.init()}("#"+t.id)},this.removeAll=function(){ve("."+t.className).forEach(function(e){e.remove()})},this.waitForInit=async function(){return new Promise(function(e,t){let n=setInterval(function(){if(y&&y.places&&y.places.length>1)return clearInterval(n),e()},20)})},this.autoCorrect=function(){let e=t.getSelected();e&&(y.places.find(t=>t.id===e)||(new q).set(null))},this.init=async function(){t.removeAll(),"analytics"!==w.current&&(t.embedded||(await t.waitForInit(),t.removeAll(),t.autoCorrect(),t.make()))},this.init()}function B(){let e=this;this.pageSize=new function(){let e=this;this.calculate=function(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")},this.timer=null,this.init=function(){e.calculate(),window.addEventListener("resize",()=>{clearTimeout(e.timer),e.timer=setTimeout(e.calculate,200)})},this.init()},this.content=null,this.originalTitle=document.title,this.toggleDark=function(){ye("body").classList.toggle("dark")},this.showTW=function(){return"TW"===p.getCountry()||"TW"===p.lang},this.showKR=function(){return"KR"===p.getCountry()||"KR"===p.lang},this.sections=[{id:"map",render:function(e){w.content=new $(e)}},{id:"toll",render:function(e){w.content=new $(e)}},{id:"analytics",render:function(e){new function(e){let t=this;this.container=ye("#mainContainer"),this.zones=e||null,this.allPlaces=null,this.element=null,this.contents=null,this.places=[],this.countries=m,this.version=1,this.chartId="infected",this.alignToStart=!0,this.logarithmic=!0,this.stacked=!0,this.defaultColors=["#3498db","#f1c40f","#ff416c","#16a085","#9124f4","#2ecc71","#756d9c","#f39c12","#27ae60","#e67e22","#1abc9c","#d35400","#a94136","#e74c3c","#c0392b","#f69785","#9b59b6","#8e44ad","#bdc3c7","#34495e","#2c3e50","#95a5a6","#7f8c8d","#ec87bf","#d870ad","#9ba37e","#b49255","#b49255","#2980b9"],this.cookieName="coronalytics-zone",this.cookies=new pe,this.max=7,this.separator="|",this.isOld=!1,this.changePlaces=async function(e){let n=new te;n.render(),t.zones=e||[],await t.downloadAll(),t.sort(),t.render(),t.updateUrl(),n.remove()},this.getActivePlaces=function(){return t.places.filter(function(e){return t.zones.includes(e.id)})},this.updateUrl=function(){let e=null;t.zones&&t.zones.length>0&&(e=t.zones.join(",")),h.setParam({compared:e});let n=t.getPageTitle()||"Coronalytics | Analyse & Predict COVID-19";_({title:n,description:"View this comparison of the spread of coronavirus across regions and countries"})},this.getPageTitle=function(){if(!h.getParam("compared"))return;let e=h.getParam("compared").split(",");if(!e||e.length<2||e.length>7)return;if(!t.allPlaces&&t.allPlaces.length<1)return;let n="Coronalytics | COVID-19 in ";return e.forEach(function(a,i){let o=t.allPlaces.find(e=>e.id===a);o&&(n+=o.name||"",e[i+1]&&(n+=", "))}),n},this.changeMode=async function(e){await b.ready(),t.chartId=e,t.render();},this.hasZones=function(){return t.zones&&"object"==typeof t.zones&&t.zones.length>1},this.render=function(){t.hasZones()?t.element.classList.remove("noregion"):t.element.classList.add("noregion"),t.saveCurrentZonesInCookie(),t.makeColors(),t.renderChart(),t.renderMenu(),t.renderTopRow()},this.makeColors=function(){t.places.forEach(function(e){let n=t.zones.indexOf(e.id)||0;e.opacity=t.getCurrentConfig().opacity,e.color=z(t.defaultColors[n],1),e.bg=z(t.defaultColors[n],e.opacity)})},this.spliceZone=function(e){let n=t.zones.indexOf(e);!n<0||(t.zones.splice(n,1),t.changePlaces(t.zones))},this.addPlace=function(e){t.zones.length>=t.max?new oe("error","You can compare a maximum of "+t.max+" regions simultaneously. Remove a region first to add another.").send():t.zones.includes(e)||(t.zones.push(e),t.changePlaces(t.zones))},this.toggleMenu=function(e){"close"===e?t.menu.classList.remove("open"):t.menu.classList.add("open")},this.renderMenu=function(){let e=t.getCurrentConfig();t.menu.innerHTML="";let n=t.getActivePlaces(),a=[];t.allPlaces.forEach(function(e){if(e.invisible)return;let n=t.zones.indexOf(e.id)>-1;!e.nonaffected&&e.infected||(n=!0);let i={id:e.id,disabled:n,value:e.name,desc:e.isSub?t.countries.name(e.country):""};a.push(i)}),new function(e){let t=this;this.label=e.label,this.options=e.options,this.callback=e.callback,this.placeholder=e.placeholder||"",this.customClass=e.customClass,this.searchFn=e.searchFn,this.id=me(22),this.dropdown=null,this.binding=null,this.className="search-dropdown-container",this.searchTerm="",this.make=function(){t.dropdown=be("div",t.className,{parent:ye("body")}),t.customClass&&t.dropdown.classList.add(t.customClass),t.binding=new ie(t.dropdown,t.input,0,0,!0),t.listenForClose()},this.choose=function(e){t.input.value="",t.destroy(),t.callback(e)},this.isolateString=function(e){return e?ue(e,t.searchTerm):""},this.render=function(e){t.options.forEach(function(n,a){let i=t.searchFn?t.searchFn(n):"",o=t.isolateString(n.value),r=t.isolateString(n.desc);if(!e&&t.searchFn&&!i)return;if(!(e||t.searchFn||o||r))return;let s=be("div","search-dropdown-item",{parent:t.dropdown,click:function(){t.choose(n.id)}});n.disabled&&s.classList.add("disabled"),n.icon?be("i",n.icon,{parent:s}):n.img&&be("img",{src:n.img,parent:s}),be("span","search-dropdown-title",{html:o||n.value,parent:s}),be("span","search-dropdown-desc",{html:r||n.desc,parent:s})})},this.listenForClose=function(){ye("body").addEventListener("click",t.onBodyClick)},this.onBodyClick=function(e){let n=e.target.closest("."+t.className),a=t.label.contains(e.target);n||a||(t.input.value="",ye("body").removeEventListener("click",t.onBodyClick),t.input.blur(),t.destroy())},this.destroy=function(){ve("."+t.className).forEach(function(e){e.remove()})},this.start=function(e,n){t.searchTerm=e.target.value||"",t.destroy(),(e.target.value||n)&&(t.make(),t.render(n))},this.bind=function(){t.label.setAttribute("for",t.id),t.input=be("input",{id:t.id,placeholder:t.placeholder,parent:t.label,input:t.start,focus:function(e){t.start(e,!0)},click:function(e){e.target.value||t.start(e,!0)}})},this.init=function(){t.bind()},this.init()}({label:be("label","coronalytics-search",{parent:t.menu}),placeholder:Y(),options:a,callback:t.addPlace}),be("div","coronalytics-menu-collapse",{click:function(){t.toggleMenu("close")},parent:t.menu});let i=be("div","coronalytics-regions",{parent:t.menu});n.forEach(function(e,a){let o=be("div","coronalytics-region",{parent:i,background:e.color,click:function(a){let i=a.target.tagName;if("I"===i){if(n.length<2)return;o.classList.add("fade"),setTimeout(function(){t.spliceZone(e.id)},400)}else"A"!==i&&o.classList.toggle("open")}}),r=be("div","coronalytics-region-top-row",{parent:o}),s=be("div","coronalytics-region-identity",{parent:r});be("i",["feather","feather-x",n.length<2?"disabled":"notdisabled"],{parent:s});let l=be("span","coronalytics-region-title",{parent:s,text:e.name});be("img",{parent:l,src:t.countries.flag(e.country||e.id,e.state)});let c=e.country||e.id,d=(e.isSub?t.countries.name(c):e.name,be("div","coronalytics-place-details",{parent:o})),u=be("div","coronalytics-source-lastupdate",{parent:d});new re(u,e.lastUpdated),be("button","coronalytics-sources-goto",{parent:d,text:j("regionDetails"),click:function(){if(window.innerWidth<991)window.open(window.location.origin+"/tracking/"+X(e.name),"_blank");else{let t=new te;t.render(),w.change("map"),h.setParam({selected:e.id}),setTimeout(function(){t.remove()},1e3)}}})});let o=be("div","coronalytics-sources",{parent:t.menu,click:function(e){e.target===e.currentTarget&&t.menu.classList.toggle("open")}});t.isOld&&e.oldDisclaimer&&be("div",{parent:o,text:"*Before February 1st, data may be incomplete or unavailable."})},this.makeLabels=function(){let e=t.getCurrentConfig(),n=[],a=JSON.parse(JSON.stringify(t.getActivePlaces()));return a.sort(function(e,t){return e.history.length-t.history.length}),a.reverse(),a[0].history.forEach(function(a,i){let o="";o=t.alignToStart&&e.alignToStart?j("day")+" "+(i+1):moment(a.day,"YYYYMMDD").format("MMM DD[,] YYYY");let r=a.day.includes("202001");r&&(t.isOld=!0,o+="*"),n.push(o)}),n},this.renderLineChart=function(e){let n=t.makeLabels(),a=[],i=t.getCurrentConfig().value;t.getActivePlaces().forEach(function(e,o){let r=[];if(e.history.forEach(function(e,t){r.push(e[i])}),!t.alignToStart){let t=n.length-e.history.length;if(t>0)for(let e=0;e<t;e++)r.unshift(0)}a.push({numbers:r,bg:e.bg,color:e.color,id:e.id,name:e.name})}),S(e.parentNode,0,0,!0),new D({type:"line",canvas:e,datasets:a,labels:n,axisXNames:!0,axisYNames:!0,isLogarithmic:t.logarithmic,customTooltip:function(e){new Z(this,e,a,n,t.getCurrentConfig().number)}})},this.renderBarChart=function(e){let n=t.makeLabels(),a=[];t.getActivePlaces().forEach(function(e,t){let i=[];e.history.forEach(function(t,n){i.push(t.infected-(e&&e.history[n-1]?e.history[n-1].infected:0))});let o=n.length-e.history.length;if(o>0)for(let e=0;e<o;e++)i.unshift(0);a.push({numbers:i,bg:e.bg,color:e.color,name:e.name,id:e.id})});let i=1.5*a[0].numbers.length;t.stacked||(n=n.slice(n.length-5,n.length),a.forEach(function(e){e.numbers=e.numbers.slice(e.numbers.length-5,e.numbers.length)})),S(e.parentNode,i,0,!0),new D({type:"bar",canvas:e,labels:n,datasets:a,axisYNames:!0,axisXNames:!0,stacked:t.stacked,customTooltip:function(e){new Z(this,e,a,n,"plus")}})},this.renderRadarChart=async function(e){let n=await u.getPlaces(),a=["infected","dead","fatalityRate","casesPerMillion","deathsPerMillion"],i=[j(a[0]),j(a[1]),j(a[2]),j(a[3]),j(a[4])],o=[],r=[],s=[];a.forEach(function(e){let t=de(e,"number");s.push(t);let a=JSON.parse(JSON.stringify(n));a.sort(I(e)),a.reverse(),r.push(a[0][e])}),t.getActivePlaces().forEach(function(e){let t=e.history[e.history.length-1],n=[];a.forEach(function(e){let a=t[e]||0;n.push(a)}),o.push({alwaysDisplay:!0,numberTypes:s,numbers:[],real:n,bg:e.bg,color:e.color,name:e.name})}),o.forEach(function(e){e.real.forEach(function(t,n){let a=function(e,t){let n=Math.cbrt(e),a=Math.cbrt(t);return(n-0)/(a-0)}(t,r[n]);e.numbers.push(a)})}),S(e.parentNode,0,0,!0),new D({type:"radar",datasets:o,labels:i,isLogarithmic:!0,canvas:e,customTooltip:function(e){new Z(this,e,o,i,t.getCurrentConfig().number)}})},this.renderPieChart=function(e){let n=[],a=[{numbers:[],bg:[],color:[],labels:[]}];t.getActivePlaces().forEach(function(e){let t=e.history[e.history.length-1];a[0].numbers.push(t.infected),a[0].color.push(e.color),a[0].bg.push(e.bg),n.push(e.name),a[0].labels.push(e.name)}),new D({type:"doughnut",datasets:a,labels:n,canvas:e,customTooltip:function(e){new Z(this,e,a,n,t.getCurrentConfig().numberType)}})},this.renderTopRow=async function(){t.topRow.innerHTML="";let e=t.getCurrentConfig(),n=be("span","coronalytics-chart-type",{parent:t.topRow,click:function(){new O({node:n,callback:t.changeMode,options:t.typeOptions,title:j("analytics")})}});be("i",e.icon,{parent:n}),be("span",{parent:n,text:e.name}),t.options=be("div","compare-page-options-row",{parent:t.topRow}),t.renderOptions()},this.resetPlaces=function(){t.changePlaces()},this.renderChart=function(){t.chart.innerHTML="";let e=be("canvas",{parent:t.chart}),n=t.getCurrentConfig();n.render(e,n.value)},this.downloadAll=async function(){let e=[];t.zones.forEach(function(n){let a=t.places.find(e=>e.id===n);if(a)return;let i=u.getHistory(n,!0).then(function(e){let n=JSON.parse(JSON.stringify(e));t.places.push(n)});e.push(i)}),e.length<1||await Promise.all(e)},this.getCurrentConfig=function(){let e=t.typeOptions.find(e=>e.value===t.chartId)||t.typeOptions[0];return e},this.make=function(){ve(".coronalytics").forEach(function(e){e.remove()}),t.element=be("div","coronalytics",{parent:t.container}),t.container=be("div","coronalytics-container",{parent:t.element}),t.menu=be("div","coronalytics-menu",{parent:t.container,touchstart:t.touchMenu,click:t.touchMenu}),t.chart=be("div","coronalytics-charts",{parent:t.container}),t.topRow=be("div","coronalytics-options",{parent:t.container}),t.bottomRow=be("div","coronalytics-footer",{parent:t.container})},this.touchMenu=function(e){t.menu.classList.contains("open")||e.target===e.currentTarget&&t.toggleMenu("open")},this.renderOptions=function(){t.options.innerHTML="";let e=t.getCurrentConfig(),n=[{textId:"startDay",value:"alignToStart"},{textId:"logarithmic",value:"logarithmic"},{textId:"stacked",value:"stacked"}],a=function(e){let n=!t[e];t[e]=n,t.render()},i=[],o=be("div","compare-page-options-row-desktop",{parent:t.options});n.forEach(function(n){n.name=j(n.textId),n.disabled=!e[n.value],n.color="var(--primary)";let r=n.disabled?"disabled":"",s=be("div",r,{parent:o}),l=me(11),c=be("input",{parent:s,type:"checkbox",id:l,change:function(){a(n.value)}});t[n.value]&&e[n.value]&&(c.setAttribute("checked","checked"),i.push(n.value)),be("label",{parent:s,for:l,text:n.name})});let r=be("div","compare-page-options-row-mobile",{parent:t.options,click:function(){new O({node:r,value:i,callback:a,options:n})}});be("div",["compare-page-options-row-mobile","share"],{parent:t.options,click:ne})},this.sort=function(){t.places.sort(function(e,t){return t.history.length-e.history.length})},this.typeOptions=[{value:"date",icon:"feather feather-calendar",textId:"overview",opacity:.03,logarithmic:!1,alignToStart:!1,render:t.renderRadarChart},{value:"infected",oldDisclaimer:!0,opacity:.03,logarithmic:!0,alignToStart:!0,render:t.renderLineChart},{value:"dead",oldDisclaimer:!0,opacity:.03,logarithmic:!0,alignToStart:!0,render:t.renderLineChart},{value:"vaccinated",oldDisclaimer:!1,opacity:.03,logarithmic:!1,alignToStart:!0,render:t.renderLineChart},{value:"infectedNew",icon:"feather feather-bar-chart",textId:"infectedNew",opacity:1,stacked:!0,oldDisclaimer:!0,logarithmic:!1,alignToStart:!1,render:t.renderBarChart},{value:"casesPerMillion",oldDisclaimer:!0,opacity:.03,logarithmic:!0,alignToStart:!0,render:t.renderLineChart},{value:"deathsPerMillion",oldDisclaimer:!0,opacity:.03,logarithmic:!0,alignToStart:!0,render:t.renderLineChart},{value:"fatalityRate",oldDisclaimer:!0,opacity:.03,logarithmic:!0,alignToStart:!0,render:t.renderLineChart}],this.saveCurrentZonesInCookie=function(){let e=t.zones.join(",");t.cookies.set(t.cookieName,e,999)},this.readZoneListInCookie=async function(){let e=t.cookies.get(t.cookieName);if(!e)return;let n=e.split(",")||[],a=!1;n.forEach(function(e){let n=e.length<4,i=n?"country":"id",o=t.allPlaces.find(t=>t[i]===e);o||(a=!0)}),n&&n.length<1&&(a=!0),a||(t.zones=n)},this.catchZones=async function(){if(t.zones&&t.zones.length>0)return void t.updateUrl();let e=h.getParam("compared");if(e){let n=e.split(",");if(n&&n.length>0){let e=!0;n.forEach(function(n){let a=t.allPlaces.find(e=>e.id===n);a||(e=!1)}),e&&(t.zones=n.slice(0,t.max))}}(!t.zones||t.zones.length<1)&&await t.readZoneListInCookie(),(!t.zones||t.zones.length<1)&&await t.autoGenerateZoneList(),(!t.zones||t.zones.length<1)&&(t.zones=["US","DE","GB"])},this.autoGenerateZoneList=async function(){let e=await(new function(){this.get=function(){return new Promise(function(e,t){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){return e({latitude:t.coords.latitude,longitude:t.coords.longitude})},function(){return e(null)})})}}).get()||{};e&&e.latitude&&e.longitude&&(t.zones=await new function(e){let t=this;this.howmany=e.howmany,this.placeId=e.placeId,this.longitude=e.longitude||0,this.latitude=e.latitude||0,this.returnPlace=e.returnPlace||!1,this.place={},this.places=[],this.closest=[],this.inCountry=null,this.download=async function(){let e=await u.getPlaces();t.places=JSON.parse(JSON.stringify(e)),t.place=t.places.find(e=>e.id===t.placeId),t.longitude&&t.latitude||(t.longitude=t.place.longitude,t.latitude=t.place.latitude,(t.place.isSub||2===t.placeId.length)&&(t.inCountry=t.place.country))},this.make=function(){t.places.forEach(function(e){if(e.invisible)return;if(!e.longitude)return;if(!e.latitude)return;if(t.placeId&&2===t.placeId.length&&t.placeId===e.id)return;if(t.placeId&&e.id===t.placeId)return void(e.diff=1e-8);if(t.placeId&&t.inCountry&&e.country!==t.inCountry)return;if(t.placeId&&!t.inCountry&&e.isSub)return;let n=0;e.longitude>t.longitude?n+=e.longitude-t.longitude:n+=t.longitude-e.longitude,e.latitude>t.latitude?n+=e.latitude-t.latitude:n+=t.latitude-e.latitude,e.diff=n||1e-9});let e=t.places.filter(e=>e.diff>0);e.sort(I("diff"));let n=e[0].isSub;e.forEach(function(a,i){if(n&&(!a.isSub||a.country!==e[0].country))return;if(!n&&a.isSub)return;if(t.closest.length>t.howmany-1)return;let o=t.returnPlace?a:a.id;t.closest.push(o)})},this.get=async function(){try{return await t.download(),t.make(),t.closest}catch(e){return console.log(e),null}}}({howmany:5,longitude:e.longitude,latitude:e.latitude}).get())},this.makeTitle=function(e){if(!e)return null;let n=[];e.forEach(function(a,i){if(i>2)return;let o=t.allPlaces.find(e=>e.id===a);o&&(n.push(o.country),n.push(o.name),e[i+1]&&n.push(t.separator))});let a=e.length-2-1;return a>0&&n.push(a),n},this.makeTypeOptions=async function(){await b.ready();let e=b.isMember;t.typeOptions.forEach(function(t){t.name=t.textId?j(t.textId):de(t.value,"textId"),t.icon=t.icon||de(t.value,"icon"),t.lockable&&!e&&(t.icon="feather feather-lock"),t.number=de(t.value,"number")})},this.init=async function(){let e=new te;e.render();try{t.allPlaces=await u.getPlaces(),await t.makeTypeOptions(),await t.catchZones(),t.zones&&(await t.downloadAll(),t.sort()),t.make(),t.render(),e.remove(),t.updateUrl()}catch(t){console.log(t),h.setParam({compared:null}),e.remove()}},this.init()}}},{id:"api",render:function(e){b.newModal("api")}},{id:"signup",render:function(e){b.newModal("signup")}},{id:"login",render:function(e){b.newModal("login")}},{id:"reset-password",render:function(e){b.newModal("reset-password")}},{id:"modify-password",render:function(e){b.newModal("modify-password")}},{id:"thanks",render:function(e){b.newModal("thanks")}}],this.current=h.get()||"map",this.change=function(t,n){e.current=t,e.content=null,h.replace([e.current]),h.setParam({compared:null}),n||T.rerender()},this.getCurrent=function(){let t=e.sections.find(t=>t.id===e.current);return t||(t=e.sections[0]),ye("body").setAttribute("data-current-view",t.id),t},h.getParam("embed")?ye("body").classList.add("is-embedded"):ye("body").classList.remove("is-embedded"),window.addEventListener("popstate",function(e){e&&e.state&&e.state.page&&(h.setUrl(e.state.page),new function(){w=new B,T=new G})}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&ye("body").classList.add("is-ios")}function G(){let e=this;this.element=null,this.headerSelector="header",this.mainSelector="#mainContainer",this.footerSelector="footer",this.sidebar=new function(e){let t=this;this.selector=e,this.element=null,this.sections=w.sections,this.container=ye(t.selector),this.hamburger=null,this.inner=null,this.settings=null,this.className="sidebar-menu",this.styling="\n\t\t."+t.className+"-logo{width: 80%; display: flex; position: relative; align-items: center; justify-content: flex-start;  font-size: 15px; font-weight: 500;  margin-top: 26px; }\n\t\t."+t.className+"-logo img{margin-right:10px; width:30px; height:30px; object-fit:contain;text-transform:uppercase;}\n\t\t."+t.className+"-menu-items{ width:100%;display: flex; align-items: center; justify-content: center; flex-direction: column; margin-top:20px; }\n\t\t."+t.className+"-menu-item{width: 100%; cursor:pointer; height: 45px; display: flex; align-items: center; justify-content: flex-start; flex-direction: row;}\n\t\t."+t.className+"-menu-item:hover{ background:var(--border); border:0px; outline:0px; }\n\t\t.dark ."+t.className+"-menu-item:hover{ background:var(--hover);}\n\t\t."+t.className+"-menu-item i{ font-size:20px; margin-left: 30px; margin-right: 30px;  width:25px; display:flex; width: 30px; justify-content: center; align-items: center; }\n\t\t."+t.className+"-menu-item.active{ color:var(--main);}\n\t\t."+t.className+"-settings{ width:100%; margin-top:30px; margin-bottom:100px;}\n\t\t."+t.className+"-setting:first-child{ margin-top:20px;}\n\t\t."+t.className+"-setting-title{ margin-left:30px;margin-bottom:10px; margin-top:20px;}\n\t\t."+t.className+"-setting{ width:100%; display:flex; justify-content:center; align-items:center; height:50px;}\n\t\t."+t.className+"-setting-name{ padding-left:35px; font-size:12px; white-space:nowrap; width:30%;}\n\t\t."+t.className+"-setting-content{ display:flex; justify-content:center; align-items:center; width:70%;}\n\t\t."+t.className+"-legal{ width:80%;margin-bottom:20px;}\n\t\t."+t.className+"-legal, ."+t.className+"-legal *{ font-size:11px; color:var(--grey) !Important; text-align:center;}\n\t\t."+t.className+"-embed{ position: absolute; color:var(--white); width: 50%; height: fit-content; display: flex; flex-direction: column; justify-content: center; align-items: center;}\n\t",this.embedPopup=function(){w.change("map");let e=window.location.href.includes("?")?window.location.href+"&embed=true":window.location.href+"?embed=true",n=ye("body"),a=be("div","backdrop",{parent:n,click:function(e){e.target===e.currentTarget&&a.remove()}}),i=be("div",t.className+"-embed",{parent:a});be("div",{text:j("embed"),parent:i}),be("code",{parent:i,text:'<iframe style="width:100%"; width="560" height="380" src="'+e+'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'})},this.launchRegionsSearch=function(){new J({node:ye("body"),autofocus:!1})},this.openDocumentation=function(){window.open("https://www.notion.so/coronavirus/Coronavirus-app-Documentation-d1ce9d47e64c473bbc9a034661477e84","_blank")},this.openMailTo=function(){window.open("mailto:hello@progressier.com","_blank")},this.currentSection=function(){return w.current||"map"},this.toggleMenu=function(){t.container.classList.toggle("open")},this.make=function(){if(y.embedded)return;t.container.addEventListener("click",function(e){e.target===e.currentTarget&&t.toggleMenu()}),t.container.innerHTML="";be("div","header-desktop-logo",{html:'<style>.app-top-bar-avatar, .header-inner .membership-main-btn.lggedot, .action-buttons .membership-main-btn, .membership-story, .membership-intro .membership-already-member{display:none !important;}</style><img src="'+k.logo+'" />The Coronavirus App',parent:t.container});let e=staticAssetsPrefix+"/img/hamburger.svg";t.hamburger=be("img","header-hamburger",{src:e,parent:t.container,click:t.toggleMenu}),t.element=be("div","header-inner",{parent:t.container})},this.renderSettings=function(){t.settings=be("div",t.className+"-settings",{parent:t.element}),be("label",t.className+"-setting-title",{text:j("preferences"),parent:t.settings});let e=[{name:function(){return j("app")},onlyIf:function(){return progressier&&progressier.native&&progressier.native.compatible},content:function(e){be("div","progressier-install-button",{parent:e})}},{name:function(){return j("darkMode")},content:function(e){new function(e){let t=this;this.container=e,this.body=ye("body"),this.className="dark",this.cookieName="darkmode",this.element=null,this.cookies=new pe,this.id=me(11),this.on=!1,this.toggle=function(e){e?(t.on=!0,t.body.classList.add(t.className),t.setCookie("on")):(t.on=!1,t.body.classList.remove(t.className),t.setCookie("off"))},this.getCookie=function(){let e=t.cookies.get(t.cookieName);"on"===e&&t.toggle(!0)},this.setCookie=function(e){t.cookies.set(t.cookieName,e,9999)},this.make=function(){t.element=be("div","dark-mode-toggle",{parent:t.container})},this.render=function(){t.element.innerHTML="";let e=be("input",{parent:t.element,type:"checkbox",id:t.id,change:function(e){t.toggle(e.target.checked),T.rerender()}});t.on?(t.element.classList.add("checked"),e.setAttribute("checked","checked")):t.element.classList.remove("checked"),be("label",{parent:t.element,for:t.id})},this.init=function(){t.getCookie(),t.make(),t.render()},this.init()}(e)}},{name:function(){return j("language")},content:function(e){t.renderLanguage(e)}},{name:function(){return j("charts")},content:function(e){(new W).picker(e)}},{name:function(){return j("flags")},content:function(e){(new K).picker(e)}},{name:function(){return j("defaultCountry")},content:function(e){t.renderCountrySelector(e)}}];e.forEach(function(e){let n=!e.onlyIf||e.onlyIf();if(!n)return;let a=be("div",t.className+"-setting",{parent:t.settings});be("div",t.className+"-setting-name",{text:e.name(),parent:a});let i=be("div",t.className+"-setting-content",{parent:a});e.content(i)})},this.renderLanguage=function(e){let t=be("div",{parent:e});p.selector(t)},this.renderCountrySelector=function(e){let t=be("div",{parent:e});m.selector(t)},this.renderMenu=function(){if(y.embedded)return;be("div",t.className+"-logo",{html:'<img src="'+k.logo+'" />The Coronavirus App',parent:t.element,click:function(){window.location.href=window.location.origin}}),t.inner=be("div",t.className+"-menu-items",{parent:t.element});let e=t.currentSection(),n=["map","toll","api","analytics"];t.menu.forEach(function(a,i){if(a.onlyIf&&"function"==typeof a.onlyIf&&!a.onlyIf())return;let o=be("div",t.className+"-menu-item");(a.id&&a.id===e||!n.includes(e)&&"map"===a.id)&&o.classList.add("active"),a.last&&o.setAttribute("data-new",j("new")),t.inner.appendChild(o),o.addEventListener("click",function(){t.toggleMenu(),a.fn(a.id)}),be("i",a.icon,{parent:o});let r={parent:o};a.textId&&(r.text=j(a.textId)),a.text&&(r.text=a.text()),be("div",r)})},this.renderInstall=function(){be("button","action-buttons-install progressier-install-button",{parent:t.element,"data-behavior":"disable"})},this.renderMembership=async function(){let e=be("div",{style:"min-height:150px;flex-direction:column;display:flex;align-items:flex-start;justify-content:center;width:100%;",parent:t.element});await b.ready();let n=be("div",{style:"padding-left: 30px; width: calc(100% - 60px); display: flex; flex-direction: column;",parent:e});be("label",{style:"margin:20px 0px;",text:j("myMembership"),parent:n}),b.isMember?(be("div",{text:j("logOut"),style:"cursor:pointer;position: absolute;right: 30px;margin-top: 20px;font-size: 12px; font-weight: 600;",click:b.logout,parent:n}),b.manageMembership(n)):(b.createSubscribeButton(n),b.alreadyMember(n))},this.render=function(){y.embedded||(F(t.styling,t.className),t.element.innerHTML="",t.renderMenu(),t.renderMembership(),t.renderSettings(),t.renderLanguageAttribution(),t.renderDisclaimer())},this.renderDisclaimer=function(){be("div",t.className+"-legal",{parent:t.element,html:"<span>© "+(new Date).getFullYear()+' The Coronavirus App <br> <a target="_blank" href="'+s+'">Terms</a> | <a target="_blank" href="'+o+'">Privacy</a> | <a target="_blank" href="'+r+'">Cookie Policy</a>'})},this.renderLanguageAttribution=function(){let e=p.getAttribution();e&&be("div","header-language-attribution",{html:e,parent:t.element})},this.init=function(){y.embedded||(t.make(),t.render())},this.isMobile=function(){return window.innerWidth<991},this.changeView=function(e){(new q).set(null),w.change(e)},this.openBlog=function(){window.open("https://medium.com/@kevinbasset","_blank")},this.openBenford=function(){window.open(l,"_blank")},this.menu=[{icon:["feather","feather-map"],id:"map",textId:"map",fn:t.changeView},{icon:["feather","feather-bar-chart"],id:"analytics",textId:"coronalytics",fn:t.changeView},{icon:["feather","feather-map-pin"],textId:"countries",onlyIf:t.isMobile,fn:t.launchRegionsSearch},{icon:["feather","feather-log-in"],textId:"embed",fn:t.embedPopup}],this.init()}(e.headerSelector),this.main=new function(e){let t=this;this.selector=e,this.footer=null,this.init=function(){ye(t.selector).innerHTML="";let n=w.getCurrent();n&&(n.render(e),window.innerWidth<991&&(t.topbar=new function(e){let t=this;this.selector=e,this.embedded=y.embedded,this.body=ye("body"),this.container=ye(t.selector),this.countries=m,this.disallowed=["api","analytics"],this.allowFilter=["taiwan","map","toll","tracking"],this.element=null,this.make=function(){t.element=be("div","app-top-bar",{parent:t.container})},this.launchRegionsSearch=function(){new J({node:t.body,autofocus:!0})},this.launchFilterSelection=function(e){let n=[],a="taiwan"===w.current?y.masks:y.config;for(let e in a)n.push({color:a[e].color,bg:a[e].bg,name:a[e].name(),value:e});new O({node:e.target,callback:t.changeMode,options:n,title:j("filterMap")})},this.changeMode=function(e){i=e,T.rerender()},this.getQuery=function(){return h.getParam("query")},this.viewGlobal=function(e){h.setParam({selected:null}),(new q).set(null),T&&T.main&&T.main.drawer&&setTimeout(function(){T.main.drawer.render(),T.main.drawer.open()},200)},this.render=function(){t.element.innerHTML="";let e=be("div","app-top-bar-inner",{parent:t.element}),n=(be("div","app-top-bar-search",{parent:e,"data-placeholder":Y(),click:t.launchRegionsSearch}),be("div","app-top-bar-search-shortcut",{parent:e}),be("div","app-top-bar-back-world",{style:"right:20px;", text:j("world"),parent:e,click:t.viewGlobal}),be("div","app-top-bar-avatar",{parent:e}));b.createAvatarButton(n)},this.init=function(){t.disallowed.includes(w.current)||t.embedded||(t.make(),t.render())},this.init()}(t.selector)),t.drawer=new H("body"))},this.init()}(e.mainSelector),this.cta=new function(){let e=this;e.element=null,this.init=async function(){e.element=be("div","action-buttons",{parent:ye("body")}),document.querySelectorAll(".cta-install-btn").forEach(function(e){e.remove()}),await b.ready(),b.isMember?b.createAvatarButton(e.element):b.createSubscribeButton(e.element)},this.init()},this.current=h.get(),this.rerender=function(){e.sidebar.render(),e.main.init()},this.autoCorrect=function(){let t=h.get(),n=w.sections.find(e=>e.id===t);"tracking"===t&&(n=!0),n||(h.replace(["map"]),(new q).set(t),e.current="map")},this.autoCorrect()}function O(e){let t=this;this.node=e.node,this.callback=e.callback,this.options=e.options,this.value=e.value,this.multiple=e.multiple,this.title=e.title,this.element=null,this.onClick=function(e){t.remove(),t.send(e)},this.send=function(e){t.callback(e)},this.animate=function(){t.inner.classList.add("showing")},this.remove=function(){t.inner.classList.remove("showing"),setTimeout(function(){t.element.remove()},300)},this.isSelected=function(e){if(!t.value)return!1;if("string"==typeof t.value){if(e===t.value)return!0}else if("object"==typeof t.value&&t.value.includes(e))return!0;return!1},this.init=function(){let e=ye("body");if(t.element=be("div","type-filter-backdrop",{parent:e,click:function(e){e.target===e.currentTarget&&t.remove()}}),setTimeout(t.animate,200),t.inner=be("div","type-filter",{parent:t.element}),t.multiple&&t.inner.classList.add("multiple"),t.title)be("div","type-filter-title",{text:t.title,parent:t.inner});be("div","type-filter-close",{parent:t.inner,click:t.remove});t.options.forEach(function(e){let n=t.isSelected(e.value),a=be("div","type-filter-el",{parent:t.inner,click:function(){t.onClick(e.value)}});if(e.disabled&&a.classList.add("disabled"),n&&a.classList.add("selected"),e.color){let t=be("div","type-filter-color",{parent:a});t.style.background=n?e.color:e.bg,t.style.border="2px solid "+e.color}e.icon&&be("div","type-filter-icon",{parent:a,classes:e.icon.split(" ")}),e.img&&be("img","type-filter-img",{parent:a,src:e.img});let i=be("div","type-filter-text",{parent:a});e.name&&be("div","type-filter-name",{parent:i,text:"function"==typeof e.name?e.name():e.name}),e.desc&&be("div","type-filter-desc",{parent:i,text:"function"==typeof e.desc?e.desc():e.desc})}),new ie(t.inner,t.node,0,0)},this.init()}function K(e){let t=this;this.cookies=new pe,this.callback=e,this.cookieName="no_regional_flags",this.on=!1,this.config=[{name:function(){return j("all")},value:!1},{name:function(){return j("countries")},value:!0}],this.toggle=function(e){e?(t.on=!0,t.setCookie("on")):(t.on=!1,t.setCookie("off"))},this.getCookie=function(){"on"===t.cookies.get(t.cookieName)&&t.toggle(!0)},this.setCookie=function(e){t.cookies.set(t.cookieName,e,9999)},this.change=function(e){t.toggle(e),t.callback?t.callback():T.rerender()},this.picker=function(e){let n=be("div","chart-scale-selector",{parent:e,text:j(t.on?"countries":"all"),click:function(){new O({node:n,callback:t.change,options:t.config,title:j("flags")})}})},this.getCookie()}function W(e){let t=this;this.cookies=new pe,this.callback=e,this.cookieName="logarithmic_charts",this.on=!1,this.config=[{name:function(){return j("linear")},value:!1},{name:function(){return j("logarithmic")},value:!0}],this.toggle=function(e){e?(t.on=!0,t.setCookie("on")):(t.on=!1,t.setCookie("off"))},this.getCookie=function(){"on"===t.cookies.get(t.cookieName)&&t.toggle(!0)},this.setCookie=function(e){t.cookies.set(t.cookieName,e,9999)},this.change=function(e){t.toggle(e),t.callback?t.callback():T.rerender()},this.picker=function(e){let n=be("div","chart-scale-selector",{parent:e,text:j(t.on?"logarithmic":"linear"),click:function(){new O({node:n,callback:t.change,options:t.config,title:j("charts")})}})},this.getCookie()}function Z(e,t,n,a,i){let o=this;this.type=i,this.chart=e,this.tooltip=t,this.datasets=n,this.labels=a,this.id="chartjs-tooltip",this.element=null,this.findIndex=function(){try{o.title=o.tooltip&&o.tooltip.title&&o.tooltip.title[0]?o.tooltip.title[0]:"",o.index=o.title?o.labels.indexOf(o.title):-1,o.index<0&&o.tooltip&&o.tooltip.dataPoints&&o.tooltip.dataPoints[0]&&(o.index=o.tooltip.dataPoints[0].index,o.title=o.labels[o.index])}catch(e){console.log(e)}},this.remove=function(){0!==o.tooltip.opacity&&(o.element=we(o.id),o.element&&(o.element.innerHTML=""))},this.make=function(){let n=o.chart._chart.canvas.parentNode,a=t.caretX,i=t.caretY-100;if(a>window.innerWidth/2?a=a-160-30:a+=20,i>n.offsetTop+250?i=n.offsetTop+250:i<n.offsetTop+30&&(i+=120),o.element||(o.element=be("div"),o.element.id=o.id),o.element.style.opacity=.9,o.element.style.width="160px",o.element.style.background="var(--card)",o.element.style["z-index"]=9999999999,o.element.style["box-shadow"]="var(--box-shadow)",o.element.style["border-radius"]="10px",o.element.style.left=e._chart.canvas.offsetLeft+a+"px",o.element.style.position="absolute",o.element.style.top=e._chart.canvas.offsetTop+i+"px",o.element.style.fontFamily=t._bodyFontFamily,o.element.style.fontSize=t.bodyFontSize+"px",o.element.style.fontStyle=t._bodyFontStyle,o.element.style.padding=t.yPadding+"px "+t.xPadding+"px",0===o.tooltip.opacity)return void(o.element.style.opacity=0);o.element.innerHTML="",n.appendChild(o.element),window.innerWidth>991&&(o.element.addEventListener("mouseenter",function(){o.element.remove()}),n.addEventListener("mouseleave",function(){o.element.remove()})),setTimeout(function(){n.addEventListener("click",function(){o.element.remove()})},1e3);let r=be("div"),s='<div style="width:100%;text-align:center;margin-top:5px;font-size:14px;font-weight:600;margin-bottom:10px;">'+o.title+"</div>";s+="<div>",o.datasets.forEach(function(e){let t=o.makeNameString(e),n=o.makeNumberString(e);if(!n&&!e.alwaysDisplay)return;let a='<span style="margin-right:4px;background:'+e.color+"; border-color:"+e.bg+'; border-width: 2px;font-size:10px;width:13px;height:13px;border-radius:50%;display:inline-flex;flex:none"></span>';s+='<div style="white-space:nowrap;display:flex;padding:4px;">'+a+('<strong style="display:inline-block;font-size:10px;width:90px;flex:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">'+t+"</strong>")+('<span style="font-size:10px;text-align:right;display:inline-flex;justify-content:flex-end;width:100%;">'+(n||"-")+"</span>")+"</div>"}),s+="</div>",r.innerHTML=s,o.element.appendChild(r)},this.makeNumberString=function(e){let t=e[e.real?"real":"numbers"][o.index],n=e.numberTypes?e.numberTypes[o.index]:o.type;return t?V(t,n):null},this.makeNameString=function(e){if(o.datasets&&1===o.datasets.length&&!e.name){let t=e.numbers[o.index],n=0;return o.datasets[0].numbers.forEach(function(e){n+=e}),V(t/n*100,"percent")}return e.name},this.init=function(){o.findIndex(),o.remove(),o.make()},this.init()}function V(e,t){switch("number"!=typeof e&&(e=0),t){case"plus":return e?"<sub>+</sub>"+le(parseInt(e)):"-";case"percent":return e?e<.1?"<0.1%":le(e.toFixed(2))+"<sub>%</sub>":"-";case"perMillion":return e<1?"<1/M":le(Math.ceil(e))+"/M";default:return e?le(e):"-"}}function Y(){let e=y.places,t=j("searchRegions")+"...";return!e||e.length<1?t=t.replace("{nb}",""):(t.includes("{nb}")&&(t=t.replace("{nb}",e.length)),t)}function J(e){let t=this;this.container=e.node,this.onRegionHover=e.onRegionHover,this.onSearch=e.onSearch,this.autofocus=e.autofocus,this.element=null,this.embedded=y.embedded,this.countries=m,this.input=null,this.cancel=null,this.mode=function(){return i||"infected"},this.sorter=t.mode(),this.searching="",this.searchMap=function(e){e.length>0?t.cancel.classList.remove("hide"):t.cancel.classList.add("hide"),t.searching=e,t.renderRegions()},this.highlightBubble=function(e){t.onRegionHover&&"function"==typeof t.onRegionHover&&t.onRegionHover(e)},this.changeSorter=async function(e){await b.ready();let n=b.isMember;!t.sorterConfig.find(t=>t.value===e).lockable||n?(t.adjustScroll(!0),window.innerWidth>991?t.changeMode(e):(t.changeMode(e),t.renderRegions())):b.subscribe()},this.startSorter=async function(e){await b.ready();let n=b.isMember;t.sorterConfig.forEach(function(e){e.name=de(e.value,"textId");let t=!n&&e.lockable?"feather feather-lock":de(e.value,"icon");t?e.icon=t:(e.color=de(e.value,"color"),e.bg=de(e.value,"bg"))}),new O({node:e.target,callback:t.changeSorter,options:t.sorterConfig,title:j("sortList")})},this.remove=function(e){t.sidebar.remove()},this.searchTimer=null,this.onInput=function(e){t.adjustScroll(!0),clearTimeout(t.searchTimer),t.searchTimer=setTimeout(function(){t.searchMap(e.target.value)},300)},this.renderTopbar=function(){t.topBar.innerHTML="";let e=be("div","app-top-bar-inner",{parent:t.topBar}),n=be("div","app-top-bar-inner-back",{parent:e,click:function(e){e.target.classList.add("disabled"),t.adjustScroll(!0),t.remove(!0)}});setTimeout(function(){n.classList.add("animate")},100),t.input=be("input","app-top-bar-search",{style:"background:transparent;border:0px !Important;width:100%;",parent:e,input:t.onInput,value:t.searching||"",type:"text",placeholder:Y()}),t.autofocus&&(t.input.setAttribute("autofocus",!0),(new function(){this.position=function(e,t){if(!e)return;let n=document.createRange(),a=window.getSelection(),i=e.childNodes?e.childNodes[0]:e;n.setStart(i,t),n.collapse(!0),a.removeAllRanges(),a.addRange(n),e.focus(),n.detach(),e.scrollTop=e.scrollHeight},this.set=function(e,t){let n=document.createRange(),a=window.getSelection();n.selectNodeContents(e),n.collapse("end"!==t),a.removeAllRanges(),a.addRange(n),e.focus(),n.detach(),e.scrollTop=e.scrollHeight}}).set(t.input,"end"));let a=be("div","map-sidebar-right-btns",{parent:e});t.cancel=be("div","map-sidebar-clear",{parent:a,click:t.resetInput}),t.searching||t.cancel.classList.add("hide")},this.launchFilterSelection=function(e){let n=[],a=y.config;for(let e in a)n.push({color:a[e].color,bg:a[e].bg,name:a[e].name(),value:e});new O({node:e.target,callback:t.changeMode,options:n,title:j("filterMap")})},this.changeMode=function(e){i=e,"date"!==e&&"name"!==e?(t.render(),w.change("map")):t.render()},this.resetInput=function(){t.input.value="",t.input.dispatchEvent(new Event("input")),t.onRegionHover||t.remove()},this.make=function(){t.sidebar=be("div","map-sidebar",{parent:t.container}),t.subButtons=be("div","app-sub-buttons",{parent:t.sidebar}),t.topBar=be("div","app-top-bar",{parent:t.sidebar}),t.regionList=be("div",["map-sidebar-section","column"],{parent:t.sidebar})},this.clickOnPlace=function(e){window.innerWidth>991||t.remove(),w.content&&w.content.adjustZoom&&w.content.updateDrawer?w.content.updateDrawer(e.id,!0):((new q).set(e.id),window.location.reload())},this.matchSearch=function(e){return y.matchSearch(e,t.searching)},this.renderRegions=function(){t.regionList.innerHTML="";let e=t.mode();t.content=be("div","map-sidebar-section-content",{parent:t.regionList,scroll:function(e){a=e.target.scrollTop}});let n="name"!==e;y.getAffected(e,n).forEach(function(n){n.id||console.log(n);let a=n.id.toString(),i=de(e,"mode"),o="number"==typeof n[e]?n[e]:n.infected,r=n.nonaffected||!o;if(n.nonaffected&&!de(e,"showNonAffected"))return;if(n.invisible)return;if(!t.matchSearch(n))return;if(n.isSub&&!t.searching)return;let s=be("div","map-sidebar-section-item",{parent:t.content,mouseenter:function(){t.highlightBubble(a)},click:function(e){t.clickOnPlace(n)}});r&&s.classList.add("disabled"),n.isSub&&s.classList.add("is-sub"),t.searching&&s.classList.add("is-searching");let l=be("div","map-sidebar-section-item-img",{parent:s}),c=(be("img","flag-img",{src:t.countries.flag(n.country,n.state),parent:l}),be("div","map-sidebar-section-item-details",{parent:s})),d=ue(n.name,t.searching),u=be("div","map-sidebar-section-item-title",{html:t.searching&&d?d:n.name,parent:c});if(n.isSub){let e=t.countries.name(n.country),a=ue(e,t.searching);be("span","map-sidebar-section-item-country",{html:t.searching&&a?a:e,parent:u})}let m=be("div","map-sidebar-section-item-desc",{parent:c});n.nonaffected||new re(m,n.lastUpdated);let p=be("div","map-sidebar-section-item-nb",{parent:s,html:V(o,de(e,"number"))});i&&p.classList.add(i)}),t.adjustScroll()},this.adjustScroll=function(e){e&&(a=0),a&&(t.content.scrollTop=a)},this.render=function(){t.renderTopbar(),t.renderSubButtons(),t.renderRegions()},this.renderSubButtons=function(){t.subButtons.innerHTML="",t.world=be("div","map-world-nbs",{text:j("world"),parent:t.subButtons,click:E}),t.sort=be("div","map-sidebar-sort",{parent:t.subButtons,click:t.startSorter,html:"<span>"+de(t.mode(),"textId")+"</span>"})},this.init=function(){t.embedded||(t.make(),t.render())},this.sorterConfig=[{value:"infected"},{value:"vaccinated"},{value:"vaccinatedPercent"},{value:"casesPerMillion"},{value:"recovered"},{value:"recoveryRate"},{value:"dead"},{value:"fatalityRate"},{value:"deathsPerMillion"},{value:"date"},{value:"name"}],this.init()}function q(){let e=this;this.countries=m,this.get=function(){let t=h.getParam("selected");if(t)return t;let n=h.get(),a=h.getSubPath();return"tracking"===n&&a?e.findPlaceByUrl(a):void 0},this.findPlaceByUrl=function(e){let t=y.places;if(t)for(let n=0;n<t.length;n++){if(X(t[n].name)===e)return t[n].id}},this.findPlace=function(e){return y&&y.getPlaceById?y.getPlaceById(e):null},this.updateDocTitle=function(t){let n=e.findPlace(t),a="The Coronavirus App";if(t&&!n)return;if(n&&n.infected&&n.name?a="{name} Coronavirus (Live): {nb} Cases | The Coronavirus App".replace("{name}",n.name).replace("{nb}",le(n.infected)):w.originalTitle&&!w.originalTitle.includes("Cases")&&(a=w.originalTitle),_({title:a}),!n)return;_({url:"https://coronavirus.app/tracking/"+(X(n.name)||"")});let i=e.countries.name(n.country);_({description:"Everything you need to know about the {nb} Coronavirus Covid-19 cases in {name}. View charts, historical data, fatality rate, recovery rate, total and new cases in {countryName} and the rest of the world.".replace("{name}",n.name).replace("{nb}",le(n.infected)).replace("{countryName}",i)})},this.replacePlaceUrl=function(t){if(!t)return void h.replace(["map"]);let n=e.findPlace(t);if(!n||!n.name)return void h.setParam({selected:t});let a=X(n.name)||null;a&&(h.replace(["tracking",a]),h.setParam({selected:null}))},this.set=function(t){e.replacePlaceUrl(t),e.updateDocTitle(t)}}function _(e){e.title&&(document.title=e.title,ye('meta[property="og:title"]').setAttribute("content",e.title)),e.description&&(ye('meta[name="description"]').setAttribute("content",e.description),ye('meta[property="og:description"]').setAttribute("content",e.description)),e.url&&(ye('link[rel="canonical"]').setAttribute("href",e.url),ye('meta[property="og:url"]').setAttribute("content",e.url))}function X(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ÿ.,!?=+;’'"]/g,"").replace(/[\s]/g," ").replace(/[ ()\/\\]/g,"-").toLowerCase()}function Q(e,t,n){n||(n=t-parseInt(.04*t));let a=n.toString().split("."),i=a&&a[1]?a[0].length:0,o=parseFloat(((t>n?t-n:n-t)/10).toFixed(i));t<100&&(o=1);let r=t-n,s=n,l=t>n?o:-o,c=l<0,d=Math.abs(Math.floor(.8/r)),u=setInterval(function(){(s+=l)>=t&&!c||s<=t&&c?(e(s=t),clearInterval(u)):e(s)},d)}function $(a){let o=this;this.element=null,this.embedded=y.embedded,this.map=null,this.selector=a,this.countries=m,this.cookies=new pe,this.sorter="nb",this.hovering=null,this.id=me(20),this.sidebar=null,this.mode=null,this.wholeZones=!1,this.regionSearch=null,this.showingMasters=!0,this.mode=null,this.modes=v.modes,this.getPlaceStyle=function(e){return v.getPlaceStyle(e,o.wholeZones,o.mode,o.zoom)},this.defaultZoom=function(){if(n)return n;let e=p.getCountry(),t=5;if(e){let n=o.countries.zoom(e);n&&(t=n)}return t},this.zoom=o.defaultZoom(),this.saveDefaultCoordinates=async function(){if(o.embedded)return;if(window.location.pathname.includes("/tracking"))return;if(e&&t)return;let n=o.countries.favorite,a=o.countries.longitude(n),i=o.countries.latitude(n);return a&&i?(e=i,t=a,void o.render()):void 0},this.defaultCoordinates=function(){return e&&t?[e,t]:[37.0902,-95.7129]},this.makeSiteLink=function(){if(!o.embedded)return;be("a","site-link",{html:"coronavirus.app",href:"https://coronavirus.app",target:"_blank",parent:ye(o.selector)})},this.makeSidebar=function(){window.innerWidth>991&&(o.makeNumbers(),o.regionSearch=new J({node:ye("#mainContainer"),onRegionHover:o.highlightBubble,autofocus:!1}))},this.makeNumbers=function(){new function(e){let t=this;this.selector="#mainContainer",this.embedded=y.embedded,this.mode=i,this.newObject=e,this.oldObject={infected:0,dead:0,recovered:0,vaccinated:0},this.changeView=function(e){t.mode=e,i=e,w.change("map")},this.make=async function(){let e=t.mode,n=de(e,"mode");ve(".map-sidebar-numbers").forEach(function(e){t.oldObject.infected=parseInt(e.getAttribute("data-infected")),t.oldObject.dead=parseInt(e.getAttribute("data-dead")),t.oldObject.recovered=parseInt(e.getAttribute("data-recovered")),e.remove()});let a=be("div","map-sidebar-numbers",{"data-infected":t.newObject.infected,"data-recovered":t.newObject.recovered,"data-dead":t.newObject.dead,"data-vaccinated":t.newObject.vaccinated});ye(t.selector).appendChild(a);[["infected","vaccinated"],["dead","recovered"]].forEach(function(e,i){let o=be("div","map-sidebar-section",{parent:a});e.forEach(function(e){let a=be("div","map-sidebar-card",{"data-title":e,"data-text":de(e,"textId")});e===n&&a.classList.add("active"),b.initialized||a.classList.add("loading"),o.appendChild(a);let i=t.newObject[e];a.innerHTML="<span>"+(0===i?"-":le(i))+"</span>",t.updateSideBarCardAfterReady(a,e)})})},this.updateSideBarCardAfterReady=async function(e,n){await b.ready();let a=!b.isMember&&"vaccinated"===n;a&&e.classList.add("locked"),e.classList.remove("loading"),e.addEventListener("click",function(){t.changeView(n)})},this.init=function(){t.embedded||ye(t.selector)&&t.make()},this.init()}({infected:y.calculate("infected"),dead:y.calculate("dead"),recovered:y.calculate("recovered"),vaccinated:y.calculate("vaccinated")})},this.changeSorting=function(e){o.sorter=e,o.render()},this.highlightBubble=function(e){o.map.eachLayer(function(t){if(t.options.place)if(t.options.place.id===e){let e="rgb(41, 84, 255)";t.setStyle({color:e,fillColor:"rgba(41, 84, 255, 0.7)"}),t.openTooltip()}else t.setStyle(o.getPlaceStyle(t.options.place))})},this.resetStyles=function(){o.map.eachLayer(function(e){e.options.place&&e.setStyle(o.getPlaceStyle(e.options.place))})},this.updateDrawer=function(e,t){o.embedded||(e&&(new q).set(e),T&&T.main&&T.main.drawer&&(T.main.drawer.render(),T.main.drawer.relaunch(t)))},this.adjustZoom=function(e,t,n){o.map&&o.map.panTo([n,t])},this.hideDrawer=function(){o.embedded||T.main.drawer&&(T.main.drawer.close(),T.main.drawer.reset())},this.createModal=function(e){if(o.embedded){let t=window.location.origin+"/"+e;window.open(t,"_blank")}else o.updateDrawer(e)},this.changeView=function(e){o.modes[e]&&(o.mode=e,i=e,o.regionSearch&&o.regionSearch.renderRegions(),o.render())},this.createMap=function(){var a=L.GridLayer.prototype._initTile;L.GridLayer.include({_initTile:function(e){a.call(this,e);var t=this.getTileSize();e.style.width=t.x+1+"px",e.style.height=t.y+1+"px"}}),o.map=L.map(o.id,{worldCopyJump:!0,zoomSnap:1,maxBoundsViscosity:0,zoomControl:!1,attributionControl:!1}).setView(o.defaultCoordinates(),o.defaultZoom());let i=L.latLng(-89.98155760646617,-360),r=L.latLng(89.99346179538875,360),s=L.latLngBounds(i,r);o.map.setMaxBounds(s),o.map.on("zoomend",function(e,t){let a=o.map.getZoom();o.zoom=a,n=a,o.resetStyles()}),o.map.on("movestart",function(e,t){o.hideDrawer()}),o.map.on("moveend",function(n,a){let i=o.map.getCenter();t=i.lng,e=i.lat});let l=v.getTileConfig(o.wholeZones);L.tileLayer(l.url,{maxZoom:10,minZoom:3,attribution:l.attribution}).addTo(o.map),L.control.attribution({position:"bottomright"}).addTo(o.map),L.control.zoom({position:"bottomright"}).addTo(o.map)},this.createPlaceFeature=function(e){return v.createPlaceFeature(e,o.wholeZones,o.mode)},this.addOneFeature=function(e){o.createPlaceFeature(e).bindTooltip(function(t){return t&&t.options&&!t.options.fillOpacity?"":v.showTooltip(e)}).on("tooltipopen",function(t,n){o.highlightBubble(e.id)}).on("tooltipclose",function(e,t){o.resetStyles()}).on("click",function(t,n){if(e.nonaffected)return;if(t&&t.target&&t.target&&t.target.options&&!t.target.options.fillOpacity)return;if(o.embedded){let t=e.isMaster?"?selected="+e.id:"/"+e.id+"?selected="+e.id;return void window.open(window.location.origin+t,"_blank")}window.innerWidth>991?o.createModal(e.id):o.updateDrawer(e.id)}).addTo(o.map)},this.addBubbles=function(){y.places.forEach(function(e){e.isSub&&o.wholeZones||!o.wholeZones&&e.nonaffected||o.addOneFeature(e)})},this.render=function(){ye(o.selector).innerHTML="",o.make(),o.createMap(),o.addBubbles(),o.makeSiteLink(),o.makeSidebar(),o.resetStyles(),setTimeout(function(){o.recenterAroundSelected()},500)},this.recenterAroundSelected=function(){let e=(new q).get();if(e){let t=y.places.find(t=>t.id===e);t&&(o.adjustZoom(t.zoom||5,t.longitude,t.latitude),o.highlightBubble(e),o.updateDrawer(t.id))}},this.setMode=function(){let e=i||"infected";o.mode=de(e,"mode")},this.make=function(){o.element=be("section","map",{id:o.id,parent:ye(o.selector)}),o.embedded&&o.element.classList.add("embedded")},this.changePageTitle=function(){_({title:"The Coronavirus App",description:"Track the spread of the Coronavirus COVID-19 epidemic, browse an interactive map, view fatality rate and recoveries, check affected regions in real-time and more."})},this.init=async function(){o.saveDefaultCoordinates(),o.changePageTitle(),o.setMode(),o.render()},this.init()}function ee(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ÿ.,!?=+;'"]/g,"").replace(/[\s]/g," ").toLowerCase()}function te(e){let t=this;this.element=null,this.text=e||"",this.className="loading-screen",this.icon=staticAssetsPrefix+"/img/ripple.svg",this.make=function(){t.remove(),t.element=be("div",t.className);let e=be("div","loading-screen-inner",{parent:t.element});be("img",{src:t.icon,parent:e});t.text&&be("div",{text:t.text,parent:e})},this.render=function(){ye("body").appendChild(t.element)},this.remove=function(){ve("."+t.className).forEach(function(e){e.remove()})},this.make()}function ne(e,t){let n=e&&e>1&&t?le(e)+" coronavirus cases in "+t:"The Coronavirus App ",a="Track the spread of the coronavirus";"/analytics"!==window.location.pathname&&"/api"!==window.location.pathname||(n=document.title,a=ye('meta[name="description"]').getAttribute("content")),new function(e,t,n){let a=this;this.title=e,this.description=t,this.link=n,this.prompt=async function(){if(void 0!==navigator.share&&navigator.share)return await navigator.share({title:a.title,text:a.description,url:n}),!0},this.copy=function(){new se(a.link)},this.shareUrl="https://www.addthis.com/bookmark.php?&s={i}&url={u}",this.iconUrl=staticAssetsPrefix+"/img/{i}.png",this.shares=[{color:"#4dc247",id:"whatsapp"},{color:"#3b5998",id:"facebook"},{color:"#1da1f2",id:"twitter"},{color:"#4a154b",id:"slack"}],this.modal=function(){let e=new U({opaque:!1,back:!1}).build();e.setAttribute("style","box-shadow: none;min-height:20vh;");be("h3",{style:"text-align:center;",parent:e,html:j("share")+": <i>"+a.description+"</i>"});let t=be("div","share-modal-list",{parent:e});a.shares.forEach(function(e){let i=be("div","share-modal-btn",{parent:t,background:e.color,click:function(){let t=a.shareUrl.replace("{i}",e.id).replace("{u}",n);window.open(t,"_blank")}});be("img",{parent:i,src:a.iconUrl.replace("{i}",e.id)})});be("div","share-modal-btn",{html:'<i class="feather feather-copy"></i>',parent:t,click:function(){a.copy(),a.congratulate()}})},this.init=async function(){let e=await a.prompt();e||a.modal()},this.congratulate=function(){new oe("success",j("copiedClipboard")).send()},this.init()}(a,n,window.location.href)}function ae(e,t,n){let a=this;this.node=e,this.element=null,this.line1=t,this.line2=n,this.className="Tooltip",this.binding=null,this.make=function(){let e=ye("."+a.className);e&&e.remove(),a.element=be("div",a.className);be("div",{html:a.line1,parent:a.element});let t=be("div","grey",{html:a.line2});a.line2&&a.element.appendChild(t),ye("body").appendChild(a.element),a.binding=new ie(a.element,a.node,0,0),a.node.addEventListener("mouseleave",function(){a.destroy()},{once:!0})},this.destroy=function(){a.element.remove()},this.init=function(){a.node.addEventListener("mouseenter",function(){a.make()})},this.init()}function ie(e,t,n,a,i){let o=this;this.el=e,this.ref=t,this.top=n||0,this.left=a||0,this.bindWidth=i,this.timer=null,this.destroy=function(){clearInterval(o.timer),o.timer=null,o.el.remove()},this.bind=function(){if(!o.ref||!o.el)return void o.destroy();let e=parseInt(o.ref.getBoundingClientRect().top),t=o.ref.getBoundingClientRect().left;if(!e&&!t)return void o.destroy();let n=o.ref.offsetWidth,a=o.ref.offsetHeight,r=o.bindWidth?n:o.el.offsetWidth,s=o.el.offsetHeight,l=parseInt(e+o.top+a),c=t+n/2-r/2+o.left,d=ye("body").offsetWidth,u=ye("body").offsetHeight;c+r>d-10&&(c=d-r-10),l+s>u-10&&(l=parseInt(u-s-10)),c<0&&(c=0),l<0&&(l=0),o.el.style.top=10*(l/10).toFixed()+"px",o.el.style.left=10*(c/10).toFixed()+"px",i&&(o.el.style.width=r+"px"),o.el.style.visibility="visible"},this.go=function(){this.bind(),this.timer=setInterval(o.bind,200)},this.go()}function oe(e,t,n){let a=this;this.type=e,this.msg=t,this.hideAfter=n||!1===n?n:3e3,this.node=null,this.code=null,this.element=null,this.stylize=function(){let e=we("NotificationStyle");e&&e.remove();let t=me(20),n=(window.location.origin,ye("head")),a=be("style");a.setAttribute("id","NotificationStyle");let i=staticAssetsPrefix+"/img/";a.innerHTML=".Notification-error:before{background-image: url("+i+"checkmark-error.svg?v="+t+")}\n\t\t.Notification-success:before{background-image: url("+i+"checkmark-success.svg?v="+t+")}\n\t\t.Notification-warning:before{background-image: url("+i+"checkmark-error.svg?v="+t+")}\n\t\t.Notification-info:before{background-image: url("+i+"checkmark-success.svg?v="+t+")}",n.appendChild(a)},this.format=function(){var e=a.msg;try{e=JSON.parse(a.msg)}catch(e){}("object"==typeof a.msg||e.includes("{")||e.includes("["))&&(a.code=JSON.stringify(e),a.msg="An error occurred")},this.send=function(){this.msg&&(this.destroyAll(),this.format(),this.stylize(),this.make(),this.show())},this.make=function(){a.element=be("div",["Notification","Notification-"+a.type]);let e=be("div","Notification-Inner",{parent:a.element}),t=(be("i",["feather","feather-x"],{parent:be("span","Notification-Close",{parent:a.element,click:a.hide})}),be("div","Notification-Content",{html:a.msg,parent:e}),be("div",["Notification-Code","hide"],{text:a.code})),n=be("div","Notification-Btn",{click:function(){t.classList.remove("hide")}});a.code&&e.appendChild(n),a.operationId&&e.appendChild(undo),a.code&&e.appendChild(t),ye("body").appendChild(a.element)},this.show=function(){setTimeout(function(){a.element.classList.add("visible")},100),a.hideAfter&&"number"==typeof a.hideAfter&&setTimeout(function(){a.hide()},a.hideAfter)},this.hide=function(){a.element&&(a.element.classList.remove("visible"),setTimeout(function(){a.destroyAll()},500))},this.destroyAll=function(){var e=ve(".Notification");e&&e.forEach(function(e){e.remove()})}}function re(e,t){let n=this;this.node=e,this.date=t,this.timer=null,this.destroy=function(){clearInterval(this.timer),this.timer=null},this.make=function(){n.node||n.destroy(),ye("body").contains(n.node)||n.destroy();n.date||moment().toISOString();n.node.textContent=n.format()},this.format=function(){return moment(n.date).locale(p.lang).fromNow()},this.checkDate=function(){moment(n.date).isBefore(moment())||(n.date=moment().toISOString())},this.start=function(){if(n.checkDate(),!n.node)throw"You must specify a node";n.make(),this.timer=setInterval(function(){n.make()},500)},this.start()}function se(e){let t=this;this.string=e,this.copier=function(e){e.clipboardData.setData("text/html",t.string),e.clipboardData.setData("text/plain",t.string),e.preventDefault()},this.copy=function(){document.addEventListener("copy",t.copier),document.execCommand("copy"),document.removeEventListener("copy",t.copier)},this.copy()}function le(e){let t={FR:{thousands:" ",decimals:","},PT:{thousands:" ",decimals:","},CZ:{thousands:" ",decimals:","},HU:{thousands:" ",decimals:","},PL:{thousands:" ",decimals:","},ES:{thousands:".",decimals:","},IT:{thousands:".",decimals:","},DE:{thousands:".",decimals:","},TR:{thousands:".",decimals:","},GR:{thousands:".",decimals:","},DE:{thousands:".",decimals:","},EN:{thousands:",",decimals:"."}};e||(e=0);let n=p.lang,a=t[n]?t[n]:t.EN,i=e.toString().split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,a.thousands),i.join(a.decimals)}function ce(e){let t=parseInt(e),n=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"B"}],a=0;for(a=n.length-1;a>0&&!(t>=n[a].value);a--);return(t/n[a].value).toFixed(1).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[a].symbol}function de(e,t){let n=[{id:"infected",mode:"infected",showNonAffected:!0,number:"absolute",icon:"feather feather-user",textId:"infected",color:y.config.infected.color,bg:y.config.infected.bg},{id:"dead",mode:"dead",number:"absolute",showNonAffected:!1,textId:"dead",icon:"feather feather-x-square",color:y.config.dead.color,bg:y.config.dead.bg},{id:"vaccinatedPercent",mode:"vaccinated",number:"percent",showNonAffected:!1,textId:"vaccinatedPercent",icon:"feather feather-user-check",color:y.config.vaccinated.color,bg:y.config.vaccinated.bg},{id:"vaccinated",mode:"vaccinated",number:"absolute",showNonAffected:!1,textId:"vaccinated",icon:"feather feather-check-square",color:y.config.vaccinated.color,bg:y.config.vaccinated.bg},{id:"recovered",mode:"recovered",number:"absolute",showNonAffected:!1,icon:"feather feather-home",textId:"recovered",color:y.config.recovered.color,bg:y.config.recovered.bg,link:"https://www.notion.so/coronavirus/About-the-recoveries-653a92c31fee4abba9bbc58e55d0d13f"},{id:"sick",mode:"sick",number:"absolute",textId:"sick",showNonAffected:!1,icon:"feather feather-activity",color:y.config.sick.color,bg:y.config.sick.bg,link:"https://www.notion.so/coronavirus/About-the-active-cases-be37b6d329cb47a5988e961402217e83"},{id:"fatalityRate",mode:"dead",number:"percent",showNonAffected:!1,icon:"feather feather-percent",textId:"fatalityRate",color:y.config.dead.color,bg:y.config.dead.bg,link:"https://www.notion.so/coronavirus/About-the-fatality-rate-8baf4b3bf1134dd3b647646cd1c6599e"},{id:"activeRate",mode:"sick",number:"percent",showNonAffected:!1,icon:"feather feather-percent",textId:"sick",color:y.config.sick.color,bg:y.config.sick.bg},{id:"recoveryRate",mode:"recovered",number:"percent",showNonAffected:!1,icon:"feather feather-rotate-cw",textId:"recoveryRate",color:y.config.recovered.color,bg:y.config.recovered.bg},{id:"casesPerMillion",mode:"infected",number:"perMillion",showNonAffected:!1,icon:"feather feather-users",textId:"casesPerMillion",color:y.config.infected.color,bg:y.config.infected.bg,link:"https://www.notion.so/coronavirus/What-s-that-weird-population-infection-percentage-d7623b9a770b4225bed8d46943d73394"},{id:"deathsPerMillion",mode:"dead",number:"perMillion",showNonAffected:!1,icon:"feather feather-user-x",textId:"deathsPerMillion",color:y.config.dead.color,bg:y.config.dead.bg,link:"https://www.notion.so/coronavirus/What-s-that-weird-population-infection-percentage-d7623b9a770b4225bed8d46943d73394"},{id:"date",mode:"infected",number:"absolute",showNonAffected:!1,textId:"lastUpdate",icon:"feather feather-clock",color:y.config.infected.color,bg:y.config.infected.bg},{id:"name",mode:"infected",number:"absolute",showNonAffected:!0,textId:"name",icon:"feather feather-align-left",color:y.config.infected.color,bg:y.config.infected.bg},{id:"population",mode:"infected",number:"absolute",showNonAffected:!1,icon:"feather feather-users",textId:"population",color:y.config.infected.color,bg:y.config.infected.bg}],a=n.find(t=>t.id===e)||n[0];switch(t){case"textId":return j(a.textId);default:return a[t]}}function ue(e,t){let n=ee(t),a=ee(e);if(!e||"null"===e||!t)return"";let i=a.indexOf(n);return i<0?"":e.slice(0,i)+'<span class="search-match">'+e.slice(i,i+t.length)+"</span>"+e.slice(i+t.length,e.length)}function me(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n="",a=0;a<e;a++)n+=t.substr(Math.floor(Math.random()*t.length),1);return n}function pe(){this.set=function(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var i="expires="+a.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},this.get=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var i=n[a];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}}function he(){let e=this;this.initialized=!1,this.cookies=new pe,this.className="favorite-country",this.overwritten=!1,this.favorite=null,this.styling="\n\t\t."+e.className+"{ display: flex; align-items: center; background: var(--menu); border-radius: 20px;  justify-content: center; height: 30px; box-shadow: var(--box-shadow);  border: 1px solid transparent;font-size:11px;    display: flex;  cursor: pointer; padding-left:20px;padding-right:20px; justify-content: space-around;  font-size: 11px;}\n\t\t."+e.className+":hover{ border-color: var(--main); color: var(--main); }\n\t\t."+e.className+" img{     width: 20px; cursor: pointer; margin-right: 5px;  border-radius: 50%; position: relative;}\n\t\t."+e.className+"-title{ white-space:nowrap;max-width:90px;overflow:hidden;text-overflow:ellipsis; }\n\t\t."+e.className+"-button{display:flex;align-items:center;}\n\t\t."+e.className+'-title:after{ content:"\\e928"; font-family: "Feather"; margin-left: 10px;}\n\t',this.list=[{name:"Afghanistan",code:"AF"},{name:"Aland Islands",code:"AX",latitude:60.1785,longitude:19.9156,zoom:7},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ",latitude:-82.8628,longitude:130,zoom:3},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU",pop:246e5,longitude:133.7751,latitude:-25.2744,zoom:4},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE",pop:1146e4,longitude:4.4699,latitude:50.5039,zoom:5},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV",latitude:-54.4208,longitude:3.3464,zoom:8},{name:"Brazil",code:"BR",longitude:-51.9253,latitude:-14.235,zoom:4,pop:2095e5},{name:"British Indian Ocean Territory",code:"IO",latitude:-6.3432,longitude:71.8765},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",pop:3759e4,code:"CA",longitude:-97.3468,latitude:52.1304,zoom:4},{name:"Cape Verde",code:"CV"},{name:"Caribbean Netherlands",code:"BQ"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL",longitude:-71.543,latitude:-35.6751,pop:1805e4,zoom:4},{name:"China",code:"CN",pop:1386e6,longitude:110.1954,latitude:32.8617,zoom:4},{name:"Christmas Island",code:"CX",latitude:-10.4475,longitude:105.6904,zoom:9},{name:"Cocos (Keeling) Islands",code:"CC",latitude:-12.1642,longitude:96.871,zoom:9},{name:"Colombia",code:"CO",longitude:-74.2973,latitude:4.5709,zoom:4,pop:4907e4},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"DR Congo",code:"CD"},{name:"Cook Islands",code:"CK",latitude:-21.2367,longitude:-159.7777,zoom:7},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Curaçao",code:"CW"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czechia",code:"CZ",language:"Čeština",longitude:15.473,latitude:49.8175},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG",longitude:30.8025,latitude:26.8206},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR",pop:6699e4,language:"Français",longitude:2.693317,latitude:46.565366,zoom:5},{name:"French Polynesia",code:"PF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",pop:8279e4,code:"DE",language:"Deutsch",longitude:10.451526,latitude:51.165691,zoom:5},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR",language:"ελληνικά",longitude:21.8243,latitude:39.0742},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guadeloupe",code:"GP"},{name:"Saint-Barthélemy",code:"BL"},{name:"Martinique",code:"MQ"},{name:"French Guiana",code:"GF"},{name:"Saint-Martin",code:"MF"},{name:"Mayotte",code:"YT"},{name:"Reunion",code:"RE"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Holy See",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU",language:"Magyar",longitude:19.5033,latitude:47.1625},{name:"Iceland",code:"IS"},{name:"India",code:"IN",pop:1339e6,longitude:78.9629,latitude:20.5937,zoom:4},{name:"Indonesia",code:"ID"},{name:"Iran",code:"IR",longitude:53.688046,latitude:32.42791},{name:"Iraq",code:"IQ",longitude:43.6793,latitude:33.2232},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT",pop:6048e4,language:"Italiano",longitude:12.5674,latitude:41.8719,zoom:5},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP",longitude:138.25293,latitude:36.204823,zoom:5},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI",latitude:-3.3704,longitude:-168.734,zoom:4},{name:"North Korea",code:"KP",language:"한국어",latitude:40.3399,longitude:127.5101,zoom:6},{name:"South Korea",code:"KR",language:"한국어",longitude:126.99778,latitude:37.568291},{name:"Kosovo",code:"XK"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Laos",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY",longitude:101.9758,latitude:4.2105},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mexico",code:"MX",pop:1292e5,longitude:-102.552788,latitude:23.634501,zoom:4},{name:"Micronesia",code:"FM",longitude:150.5508,latitude:7.4256},{name:"Moldova",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR",longitude:166.9315,latitude:-.5228,zoom:6},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL",longitude:5.2913,latitude:52.1326,zoom:5},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU",longitude:-169.8672,latitude:-19.0544,zoom:6},{name:"Norfolk Island",code:"NF",longitude:167.9547,latitude:-29.0408,zoom:9},{name:"Norway",code:"NO",longitude:8.4689,latitude:60.472},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW",longitude:134.5825,latitude:7.515,zoom:6},{name:"Palestine",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN",longitude:-128.3242,latitude:-24.3768,zoom:6},{name:"Poland",language:"Polski",code:"PL",longitude:19.1451,latitude:51.9194,pop:3797e4,zoom:5},{name:"Portugal",language:"Português",code:"PT",longitude:-8.2245,latitude:39.4,zoom:5,pop:1028e4},{name:"Qatar",code:"QA"},{name:"Romania",code:"RO"},{name:"Russia",code:"RU",language:"Русский",longitude:53.3,latitude:56.34,pop:1445e5,zoom:4},{name:"Rwanda",code:"RW"},{name:"Saint Helena",code:"SH",longitude:-5.7089,latitude:-15.965,zoom:9},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS",longitude:-172.1046,latitude:-13.759,zoom:7},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA",longitude:45.0792,latitude:23.8859},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Sint Maarten",code:"SX"},{name:"Singapore",code:"SG",longitude:103.8198,latitude:1.3521},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS",longitude:-36.5879,latitude:-54.4296},{name:"Spain",code:"ES",language:"Español",longitude:-3.7492,latitude:40.4637,zoom:5,pop:4694e4},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"South Sudan",code:"SS"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ",longitude:20.9752,latitude:77.875},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE",longitude:18.6435,latitude:60.1282},{name:"Switzerland",code:"CH",longitude:8.2275,latitude:46.8182},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan",code:"TW",language:"繁體中文",longitude:121.563698,latitude:25.03841,zoom:5},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH",longitude:100.992538,latitude:15.870032},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK",longitude:-171.8484,latitude:-9.2002},{name:"Tonga",code:"TO",longitude:-175.1982,latitude:-21.179},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",language:"Türkçe",code:"TR",longitude:35.2433,latitude:38.9637},{name:"Turkmenistan",code:"TM",longitude:59.5563,latitude:38.9697},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV",longitude:177.6493,latitude:-7.1095},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"UAE",code:"AE",longitude:53.8478,latitude:23.4241},{name:"United Kingdom",code:"GB",longitude:-1.17432,latitude:52.355518,zoom:5,pop:6665e4},{name:"United States",pop:3272e5,code:"US",longitude:-100.996784,latitude:40.23985,zoom:4},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"},{name:"Others",code:"ZZ"}],this.updateCoordinates=function(t){e.list.forEach(function(e){if(e.longitude&&e.latitude)return;let n=e.code,a=t.find(e=>e.country===n);a&&(e.longitude=a.longitude,e.latitude=a.latitude)})},this.findByName=function(t){for(let n=0;n<e.list.length;n++){if(ee(e.list[n].name)===t)return!0}return null},this.getParam=function(t,n){if(!t)return null;t=t.toUpperCase();let a=e.list.find(e=>e.code===t);return a?a[n]||"":null},this.getCookie=function(){let t=e.cookies.get(e.className);return t&&(e.overwritten=!0),t},this.flag=function(t,n){if("EU"===t)return e.makeUrl("EU");let a=(new K).on;return n&&!a?e.makeUrl(t+"-"+n):e.getParam(t,"flag")},this.changeFavCountry=function(t){e.cookies.set(e.className,t,9999),e.favorite=t},this.selector=function(t){t.innerHTML="",F(e.styling,e.className),t.classList.add(e.className);let n=be("div",e.className+"-inner",{parent:t,click:function(){let n=[];e.list.forEach(function(t){"ZZ"!==t.code&&n.push({img:e.flag(t.code),name:t.name,value:t.code})}),new O({node:t,callback:function(t){e.changeFavCountry(t),window.location.reload()},options:n})}}),a=be("div",e.className+"-button",{parent:n});be("img",{src:e.flag(e.favorite),parent:a}),be("span",e.className+"-title",{parent:a,text:e.name(e.favorite)})},this.name=function(t){return e.getParam(t,"name")},this.language=function(t){return e.getParam(t,"language")},this.longitude=function(t){return e.getParam(t,"longitude")},this.latitude=function(t){return e.getParam(t,"latitude")},this.zoom=function(t){return e.getParam(t,"zoom")},this.makeUrl=function(e){let t=["US-PA","CA-PE","US-VT","BR-AL","US-FL","US-ME","US-VA","US-ID","BR-RJ","US-SD","US-NE","US-ND","US-WV","US-WI","US-CA","US-MO","IT-34","IT-62","BR-RS","US-MN","US-NJ","IT-TR","US-KS","BR-SC","US-MA","US-NV","ES-AN","DE-SL","US-LA","US-IA","US-WA","IT-52","US-DE","ES-ML","US-UT","US-KY","US-OK","US-NH","BR-RJ"].includes(e)?"jpg":"svg";return staticAssetsPrefix+"/flags/"+e+"."+t},this.findFavorite=function(){let t="US",n=ye("body").getAttribute("data-country");n&&(t=n);let a=e.getCookie();a&&(t=a),e.list.find(e=>e.code===t)||(t="US"),e.favorite=t},this.init=function(){if(e.findFavorite(),!e.initialized)return e.list.forEach(function(t){t.flag=e.makeUrl(t.code)}),e.initialized=!0,e.list},this.init()}function fe(e,t){for(var n in t){if(t[n]&&!e[n])return!0;if(!t[n]&&e[n])return!0;if(typeof t[n]!=typeof e[n])return!0;switch(typeof t[n]){case"string":case"boolean":case"number":if(t[n]!==e[n])return!0;break;case"object":if(null===t[n]&&null===e[n])break;if(null===t[n]&&null!==e[n])return!0;if(null===e[n]&&null!==e[n])return!0;if(t[n]instanceof Array==!1)throw t[n]+" is not valid data";if(t[n]instanceof Array&&!e[n]instanceof Array)return!0;if(e[n]instanceof Array&&!t[n]instanceof Array)return!0;if(t[n].length!==e[n].length)return!0;for(var a=0;a<t[n].length;a++){if("string"!=typeof t[n][a]&&"number"!=typeof t[n][a])throw n+" > "+t[n][a]+" error: properties of data arrays must be strings or numbers";if(!1===e[n].includes(t[n][a]))return!0}break;default:throw t[n]+" is not a valid data type for "+n+" ("+typeof t[n]+")"}}return!1}function ge(e,t,n,a){let i=f.find(t,n);if(i)return i;let o=new Promise(function(i,o){if("GET"!==e&&"POST"!==e)return o("the type should be GET or POST");let r={"Content-Type":"application/json"};if(a)for(let e in a)r[e]=a[e];let s={method:e,headers:r};n&&(s.body=n?JSON.stringify(n):{}),fetch(t,s).then(async function(e){let t=await e.text(),n=JSON.parse(t);if(200!==e.status&&201!==e.status)throw n.error;return t}).then(e=>{let t=null;if(e)try{t=JSON.parse(e)}catch(e){console.log(e)}return i(t)}).catch(function(e){return console.log(e),o(e)})});return f.register(t,o,n),o}function be(e,t,n){let a=document.createElement(e);if(t&&"object"==typeof t&&Array.isArray(t)&&t.length>0)t.forEach(function(e){a.classList.add(e)});else if(t&&"string"==typeof t){t.split(" ").forEach(function(e){a.classList.add(e)})}else t&&"object"==typeof t&&(n=t);if(n&&"object"==typeof n)for(let e in n)switch(e){case"text":a.textContent=n[e];break;case"textId":a.textContent=j(n[e]);break;case"html":a.innerHTML=n[e];break;case"classes":n[e].forEach(function(e){a.classList.add(e)});break;case"class":a.classList.add(c);break;case"background":a.style.background=n[e];break;case"color":a.style.color=n[e];break;case"parent":n[e].appendChild(a);break;case"click":a.addEventListener("click",n[e]);break;case"touchstart":a.addEventListener("touchstart",n[e]);break;case"hover":a.addEventListener("hover",n[e]);break;case"change":a.addEventListener("change",n[e]);break;case"focus":a.addEventListener("focus",n[e]);break;case"mouseenter":a.addEventListener("mouseenter",n[e]);break;case"scroll":a.addEventListener("scroll",n[e]);break;case"input":a.addEventListener("input",n[e]);break;case"keydown":a.addEventListener("keydown",n[e]);break;case"date":new re(a,n[e]);break;case"value":a.value=n[e];break;default:a.setAttribute(e,n[e])}return a}function ye(e){return document.querySelector(e)}function ve(e){return document.querySelectorAll(e)}function we(e){return document.getElementById(e)}new function(){let e=this;this.cookie="cookieConsent",this.privacyPolicy=o,this.cookiePolicy=r,this.cookies=new pe,this.cookieName="cookiesaccepted",this.getCookie=function(){return e.cookies.get(e.cookieName)},this.setCookie=function(){e.cookies.set(e.cookieName,"accepted",9999)},this.init=function(){e.getCookie()||e.cookieConsent()},this.accept=function(){e.setCookie(),e.element.remove()},this.cookieConsent=function(){y.embedded||(e.element=be("div","cookie-notice",{parent:ye("body")}),be("div","cookie-notice-text",{parent:e.element,html:'We use cookies to keep you signed in, measure site performance and remember your preferences. By clicking the "accept" button, you agree to our <a href="'+e.cookiePolicy+'" target="_blank">use of cookies</a>. '}),be("button","cookie-notice-accept",{parent:e.element,html:"Accept",click:e.accept}))},this.init()};
